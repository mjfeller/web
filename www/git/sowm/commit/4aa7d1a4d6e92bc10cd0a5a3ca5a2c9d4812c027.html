<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Merge pull request #48 from SeungheonOh/master - sowm - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="sowm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>sowm</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/4aa7d1a4d6e92bc10cd0a5a3ca5a2c9d4812c027.html">4aa7d1a4d6e92bc10cd0a5a3ca5a2c9d4812c027</a>
<b>parent</b> <a href="../commit/e0d0415d06ee6747a7b4f25d583e6c1fb9f5ca65.html">e0d0415d06ee6747a7b4f25d583e6c1fb9f5ca65</a>
<b>Author:</b> dylan &lt;<a href="mailto:dylan.araps@gmail.com">dylan.araps@gmail.com</a>&gt;
<b>Date:</b>   Tue, 21 Jan 2020 02:31:16 +0200

Merge pull request #48 from SeungheonOh/master

Patch: 2bswm-style fixed
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">patches/sowm-2bswm-style.patch</a></td><td> | </td><td class="num">60</td><td><span class="i">++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
</table></pre><pre>1 file changed, 20 insertions(+), 40 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/patches/sowm-2bswm-style.patch.html">patches/sowm-2bswm-style.patch</a> b/<a href="../file/patches/sowm-2bswm-style.patch.html">patches/sowm-2bswm-style.patch</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,11 +1,16 @@
</a> diff --git a/config.def.h b/config.def.h
<a href="#h0-0-1" id="h0-0-1" class="d">-index cae2009..9ad7175 100644
</a><a href="#h0-0-2" id="h0-0-2" class="i">+index cae2009..f787cbd 100644
</a> --- a/config.def.h
 +++ b/config.def.h
<a href="#h0-0-5" id="h0-0-5" class="d">-@@ -26,6 +26,26 @@ static struct key keys[] = {
</a><a href="#h0-0-6" id="h0-0-6" class="i">+@@ -26,6 +26,20 @@ static struct key keys[] = {
</a>      {MOD, XK_p,      run, {.com = scrot}},
      {MOD, XK_Return, run, {.com = term}},
  
<a href="#h0-0-10" id="h0-0-10" class="i">++		/*
</a><a href="#h0-0-11" id="h0-0-11" class="i">++		 * 2bswm-patch.
</a><a href="#h0-0-12" id="h0-0-12" class="i">++		 * .i =&gt; Increment/Decrement size
</a><a href="#h0-0-13" id="h0-0-13" class="i">++		 * .com =&gt; {(move/resize), (direction)}
</a><a href="#h0-0-14" id="h0-0-14" class="i">++		 */
</a> +		{MOD,           XK_h,      move,  {.com=(char*[]){&quot;move&quot;, &quot;left&quot;}, .i=10}},
 +		{MOD,           XK_j,      move,  {.com=(char*[]){&quot;move&quot;, &quot;down&quot;}, .i=10}},
 +		{MOD,           XK_k,      move,  {.com=(char*[]){&quot;move&quot;, &quot;up&quot;}, .i=10}},
<a href="#h0-1" id="h0-1" class="h">@@ -15,82 +20,57 @@ index cae2009..9ad7175 100644
</a> +		{MOD|ShiftMask, XK_k,      move,  {.com=(char*[]){&quot;resize&quot;, &quot;up&quot;}, .i=10}},
 +		{MOD|ShiftMask, XK_l,      move,  {.com=(char*[]){&quot;resize&quot;, &quot;right&quot;}, .i=10}},
 +
<a href="#h0-1-3" id="h0-1-3" class="d">-+		/*
</a><a href="#h0-1-4" id="h0-1-4" class="d">-+		{MOD,           XK_h,      move_left,  {.com = {&quot;move&quot;},.i=10}},
</a><a href="#h0-1-5" id="h0-1-5" class="d">-+		{MOD,           XK_j,      move_down,  {.com = {&quot;move&quot;},.i=10}},
</a><a href="#h0-1-6" id="h0-1-6" class="d">-+		{MOD,           XK_k,      move_up,    {.com = {&quot;move&quot;},.i=10}},
</a><a href="#h0-1-7" id="h0-1-7" class="d">-+		{MOD,           XK_l,      move_right, {.com = {&quot;move&quot;},.i=10}},
</a><a href="#h0-1-8" id="h0-1-8" class="d">-+		{MOD|ShiftMask, XK_h,      resize_left,  {.com = {&quot;resize&quot;},.i=10}},
</a><a href="#h0-1-9" id="h0-1-9" class="d">-+		{MOD|ShiftMask, XK_j,      resize_down,  {.com = {&quot;resize&quot;},.i=10}},
</a><a href="#h0-1-10" id="h0-1-10" class="d">-+		{MOD|ShiftMask, XK_k,      resize_up,    {.com = {&quot;resize&quot;},.i=10}},
</a><a href="#h0-1-11" id="h0-1-11" class="d">-+		{MOD|ShiftMask, XK_l,      resize_right, {.com = {&quot;resize&quot;},.i=10}},
</a><a href="#h0-1-12" id="h0-1-12" class="d">-+		*/
</a><a href="#h0-1-13" id="h0-1-13" class="d">-+
</a>      {0,   XF86XK_AudioLowerVolume,  run, {.com = voldown}},
      {0,   XF86XK_AudioRaiseVolume,  run, {.com = volup}},
      {0,   XF86XK_AudioMute,         run, {.com = volmute}},
 diff --git a/sowm.c b/sowm.c
<a href="#h0-1-18" id="h0-1-18" class="d">-index 48222c6..00e2e80 100644
</a><a href="#h0-1-19" id="h0-1-19" class="i">+index 90ae3bc..7c76571 100644
</a> --- a/sowm.c
 +++ b/sowm.c
<a href="#h0-1-22" id="h0-1-22" class="d">-@@ -7,8 +7,9 @@
</a><a href="#h0-1-23" id="h0-1-23" class="d">- #include &lt;stdlib.h&gt;
</a><a href="#h0-1-24" id="h0-1-24" class="i">+@@ -8,7 +8,7 @@
</a>  #include &lt;signal.h&gt;
  #include &lt;unistd.h&gt;
<a href="#h0-1-27" id="h0-1-27" class="d">-+#include &lt;stdio.h&gt;
</a>  
 -typedef union {
 +typedef struct {
      const char** com;
      const int i;
      const Window w;
<a href="#h0-1-34" id="h0-1-34" class="d">-@@ -46,6 +47,9 @@ static void win_prev();
</a><a href="#h0-1-35" id="h0-1-35" class="i">+@@ -46,6 +46,8 @@ static void win_prev();
</a>  static void win_next();
  static void win_to_ws(const Arg arg);
  static void ws_go(const Arg arg);
 +static void apply(int x, int y, int w, int h);
 +static void move(const Arg arg);
<a href="#h0-1-41" id="h0-1-41" class="d">-+
</a>  static int  xerror() { return 0;}
  
  static client       *list = {0}, *ws_list[10] = {0}, *cur;
<a href="#h0-1-45" id="h0-1-45" class="d">-@@ -77,6 +81,31 @@ static void (*events[LASTEvent])(XEvent *e) = {
</a><a href="#h0-1-46" id="h0-1-46" class="d">-     XGetGeometry(d, W, &amp;(Window){0}, gx, gy, gw, gh, \
</a><a href="#h0-1-47" id="h0-1-47" class="d">-                  &amp;(unsigned int){0}, &amp;(unsigned int){0})
</a><a href="#h0-1-48" id="h0-1-48" class="i">+@@ -80,6 +82,28 @@ static void (*events[LASTEvent])(XEvent *e) = {
</a><a href="#h0-1-49" id="h0-1-49" class="i">+ #define mod_clean(mask) (mask &amp; ~(numlock|LockMask) &amp; \
</a><a href="#h0-1-50" id="h0-1-50" class="i">+         (ShiftMask|ControlMask|Mod1Mask|Mod2Mask|Mod3Mask|Mod4Mask|Mod5Mask))
</a>  
<a href="#h0-1-52" id="h0-1-52" class="d">-+void apply(int x,int y,int w,int h) {
</a><a href="#h0-1-53" id="h0-1-53" class="i">++void apply(int x, int y, int w, int h) {
</a> +    win_size(cur-&gt;w, &amp;wx, &amp;wy, &amp;ww, &amp;wh);
 +    XMoveResizeWindow(d, cur-&gt;w,
<a href="#h0-1-56" id="h0-1-56" class="d">-+        wx + x,
</a><a href="#h0-1-57" id="h0-1-57" class="d">-+        wy + y,
</a><a href="#h0-1-58" id="h0-1-58" class="d">-+        ww + w,
</a><a href="#h0-1-59" id="h0-1-59" class="d">-+				wh + h);
</a><a href="#h0-1-60" id="h0-1-60" class="d">-+    win_size(cur-&gt;w, &amp;wx, &amp;wy, &amp;ww, &amp;wh);
</a><a href="#h0-1-61" id="h0-1-61" class="i">++        wx + x, wy + y,
</a><a href="#h0-1-62" id="h0-1-62" class="i">++        ww + w, wh + h);
</a> +}
 +
 +void move(const Arg arg) {
 +	 if(arg.com[1]==&quot;left&quot;) {
<a href="#h0-1-67" id="h0-1-67" class="d">-+        apply((arg.com[0]==&quot;resize&quot;)?arg.i:-arg.i, 0, (arg.com[0]==&quot;resize&quot;)?-arg.i:0, 0);
</a><a href="#h0-1-68" id="h0-1-68" class="i">++        apply((arg.com[0]==&quot;resize&quot;)?0:-arg.i, 0, (arg.com[0]==&quot;resize&quot;)?-arg.i:0, 0);
</a> +    }
 +    else if(arg.com[1]==&quot;right&quot;){
<a href="#h0-1-71" id="h0-1-71" class="d">-+        apply((arg.com[0]==&quot;resize&quot;)?-arg.i:arg.i, 0, (arg.com[0]==&quot;resize&quot;)?arg.i:0, 0);
</a><a href="#h0-1-72" id="h0-1-72" class="i">++        apply((arg.com[0]==&quot;resize&quot;)?0:arg.i, 0, (arg.com[0]==&quot;resize&quot;)?arg.i:0, 0);
</a> +    }
 +    else if(arg.com[1]==&quot;up&quot;){
<a href="#h0-1-75" id="h0-1-75" class="d">-+        apply(0, (arg.com[0]==&quot;resize&quot;)?arg.i:-arg.i, 0, (arg.com[0]==&quot;resize&quot;)?-arg.i:0);
</a><a href="#h0-1-76" id="h0-1-76" class="i">++        apply(0, (arg.com[0]==&quot;resize&quot;)?0:-arg.i, 0, (arg.com[0]==&quot;resize&quot;)?-arg.i:0);
</a> +    }
 +    else if(arg.com[1]==&quot;down&quot;){
<a href="#h0-1-79" id="h0-1-79" class="d">-+        apply(0, (arg.com[0]==&quot;resize&quot;)?-arg.i:arg.i, 0, (arg.com[0]==&quot;resize&quot;)?arg.i:0);
</a><a href="#h0-1-80" id="h0-1-80" class="i">++        apply(0, (arg.com[0]==&quot;resize&quot;)?0:arg.i, 0, (arg.com[0]==&quot;resize&quot;)?arg.i:0);
</a> +    }
 +}
 +
  void win_focus(client *c) {
      cur = c;
      XSetInputFocus(d, cur-&gt;w, RevertToParent, CurrentTime);
<a href="#h0-1-87" id="h0-1-87" class="d">-@@ -130,6 +159,7 @@ void button_press(XEvent *e) {
</a><a href="#h0-1-88" id="h0-1-88" class="d">- }
</a><a href="#h0-1-89" id="h0-1-89" class="d">- 
</a><a href="#h0-1-90" id="h0-1-90" class="d">- void button_release() {
</a><a href="#h0-1-91" id="h0-1-91" class="d">-+    win_size(cur-&gt;w, &amp;wx, &amp;wy, &amp;ww, &amp;wh);
</a><a href="#h0-1-92" id="h0-1-92" class="d">-     mouse.subwindow = 0;
</a><a href="#h0-1-93" id="h0-1-93" class="d">- }
</a><a href="#h0-1-94" id="h0-1-94" class="d">- 
</a></pre>
</div>
</body>
</html>
