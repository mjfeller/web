<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Fix rectangular selection. - st - simple terminal
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="st Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>st</h1><span class="desc">simple terminal
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/6fd887077e29efd789499e06193314d7abdcac38.html">6fd887077e29efd789499e06193314d7abdcac38</a>
<b>parent</b> <a href="../commit/bb6dc332067fddcdcb0940ebc9b5f41c61429c46.html">bb6dc332067fddcdcb0940ebc9b5f41c61429c46</a>
<b>Author:</b> Colona &lt;<a href="mailto:colona@ycc.fr">colona@ycc.fr</a>&gt;
<b>Date:</b>   Tue,  3 Jun 2014 21:47:55 -0700

Fix rectangular selection.

selsort computes the wrong normalized coordinates when rectangular
selection is enabled, causing rectangular selection to only work
when going toward either the top left corner, or the bottom right
one.

Signed-off-by: Roberto E. Vargas Caballero &lt;k0ga@shike2.com&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">st.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
</table></pre><pre>1 file changed, 1 insertion(+), 1 deletion(-)
<hr/><b>diff --git a/<a id="h0" href="../file/st.c.html">st.c</a> b/<a href="../file/st.c.html">st.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -670,7 +670,7 @@ static void
</a> selnormalize(void) {
 	int i;
 
<a href="#h0-0-3" id="h0-0-3" class="d">-	if(sel.ob.y == sel.oe.y) {
</a><a href="#h0-0-4" id="h0-0-4" class="i">+	if(sel.ob.y == sel.oe.y || sel.type == SEL_RECTANGULAR) {
</a> 		sel.nb.x = MIN(sel.ob.x, sel.oe.x);
 		sel.ne.x = MAX(sel.ob.x, sel.oe.x);
 	} else {
</pre>
</div>
</body>
</html>
