<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>This changes -f to be the parameter for the font. Now -f is -o. - st - simple terminal
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="st Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>st</h1><span class="desc">simple terminal
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5dfd5df4fe566beb17069e6390236854f6ace58f.html">5dfd5df4fe566beb17069e6390236854f6ace58f</a>
<b>parent</b> <a href="../commit/9cae1eb0ded2e1ca604753893e2307531ef73afc.html">9cae1eb0ded2e1ca604753893e2307531ef73afc</a>
<b>Author:</b> Christoph Lohmann &lt;<a href="mailto:20h@r-36.net">20h@r-36.net</a>&gt;
<b>Date:</b>   Sun, 30 Sep 2012 20:23:10 +0200

This changes -f to be the parameter for the font. Now -f is -o.

The parameters were reordered according to the alphabet too.
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">st.1</a></td><td> | </td><td class="num">33</td><td><span class="i">+++++++++++++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">st.c</a></td><td> | </td><td class="num">42</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d">----------------</span></td></tr>
</table></pre><pre>2 files changed, 47 insertions(+), 28 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/st.1.html">st.1</a> b/<a href="../file/st.1.html">st.1</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -5,15 +5,17 @@ st \- simple terminal
</a> .B st
 .RB [ \-c
 .IR class ]
<a href="#h0-0-3" id="h0-0-3" class="i">+.RB [ \-f
</a><a href="#h0-0-4" id="h0-0-4" class="i">+.IR font ]
</a> .RB [ \-g
 .IR geometry ]
<a href="#h0-0-7" id="h0-0-7" class="i">+.RB [ \-o
</a><a href="#h0-0-8" id="h0-0-8" class="i">+.IR file ]
</a> .RB [ \-t 
 .IR title ]
 .RB [ \-w 
 .IR windowid ]
 .RB [ \-v ]
<a href="#h0-0-14" id="h0-0-14" class="d">-.RB [ \-f
</a><a href="#h0-0-15" id="h0-0-15" class="d">-.IR file ]
</a> .RB [ \-e
 .IR command ...]
 .SH DESCRIPTION
<a href="#h0-1" id="h0-1" class="h">@@ -21,26 +23,33 @@ st \- simple terminal
</a> is a simple terminal emulator.
 .SH OPTIONS
 .TP
<a href="#h0-1-3" id="h0-1-3" class="d">-.BI \-t &quot; title&quot;
</a><a href="#h0-1-4" id="h0-1-4" class="d">-defines the window title (default &#39;st&#39;).
</a><a href="#h0-1-5" id="h0-1-5" class="d">-.TP
</a> .BI \-c &quot; class&quot;
 defines the window class (default $TERM).
 .TP
<a href="#h0-1-9" id="h0-1-9" class="i">+.BI \-f &quot; font&quot;
</a><a href="#h0-1-10" id="h0-1-10" class="i">+defines the
</a><a href="#h0-1-11" id="h0-1-11" class="i">+.I font
</a><a href="#h0-1-12" id="h0-1-12" class="i">+to use when st is run.
</a><a href="#h0-1-13" id="h0-1-13" class="i">+.TP
</a><a href="#h0-1-14" id="h0-1-14" class="i">+.BI \-g &quot; geometry&quot;
</a><a href="#h0-1-15" id="h0-1-15" class="i">+defines the X11 geometry string, which will fixate the height and width of st. 
</a><a href="#h0-1-16" id="h0-1-16" class="i">+.TP
</a><a href="#h0-1-17" id="h0-1-17" class="i">+.BI \-o &quot; file&quot;
</a><a href="#h0-1-18" id="h0-1-18" class="i">+writes all the I/O to
</a><a href="#h0-1-19" id="h0-1-19" class="i">+.I file.
</a><a href="#h0-1-20" id="h0-1-20" class="i">+This feature is useful when recording st sessions. A value of &quot;-&quot; means
</a><a href="#h0-1-21" id="h0-1-21" class="i">+standard output.
</a><a href="#h0-1-22" id="h0-1-22" class="i">+.TP
</a><a href="#h0-1-23" id="h0-1-23" class="i">+.BI \-t &quot; title&quot;
</a><a href="#h0-1-24" id="h0-1-24" class="i">+defines the window title (default &#39;st&#39;).
</a><a href="#h0-1-25" id="h0-1-25" class="i">+.TP
</a> .BI \-w &quot; windowid&quot;
 embeds st within the window identified by 
 .I windowid
 .TP
<a href="#h0-1-30" id="h0-1-30" class="d">-.B \-g &quot; geometry&quot;
</a><a href="#h0-1-31" id="h0-1-31" class="d">-defines the X11 geometry string, which will fixate the height and width of st. 
</a> .B \-v
 prints version information to stderr, then exits.
 .TP
<a href="#h0-1-35" id="h0-1-35" class="d">-.BI \-f &quot; file&quot;
</a><a href="#h0-1-36" id="h0-1-36" class="d">-writes all the I/O to
</a><a href="#h0-1-37" id="h0-1-37" class="d">-.I file.
</a><a href="#h0-1-38" id="h0-1-38" class="d">-This feature is useful when recording st sessions.
</a><a href="#h0-1-39" id="h0-1-39" class="d">-.TP
</a> .BI \-e &quot; program &quot; [ &quot; arguments &quot; &quot;... ]&quot;
 st executes
 .I program
<b>diff --git a/<a id="h1" href="../file/st.c.html">st.c</a> b/<a href="../file/st.c.html">st.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -39,8 +39,8 @@
</a> 
 #define USAGE \
 	&quot;st &quot; VERSION &quot; (c) 2010-2012 st engineers\n&quot; \
<a href="#h1-0-3" id="h1-0-3" class="d">-	&quot;usage: st [-t title] [-c class] [-g geometry]&quot; \
</a><a href="#h1-0-4" id="h1-0-4" class="d">-	&quot; [-w windowid] [-v] [-f file] [-e command...]\n&quot;
</a><a href="#h1-0-5" id="h1-0-5" class="i">+	&quot;usage: st [-v] [-c class] [-f font] [-g geometry] [-o file]&quot; \
</a><a href="#h1-0-6" id="h1-0-6" class="i">+	&quot; [-t title] [-w windowid] [-e command ...]\n&quot;
</a> 
 /* XEMBED messages */
 #define XEMBED_FOCUS_IN  4
<a href="#h1-1" id="h1-1" class="h">@@ -365,11 +365,12 @@ static int cmdfd;
</a> static pid_t pid;
 static Selection sel;
 static int iofd = -1;
<a href="#h1-1-3" id="h1-1-3" class="d">-static char **opt_cmd  = NULL;
</a><a href="#h1-1-4" id="h1-1-4" class="d">-static char *opt_io    = NULL;
</a><a href="#h1-1-5" id="h1-1-5" class="i">+static char **opt_cmd = NULL;
</a><a href="#h1-1-6" id="h1-1-6" class="i">+static char *opt_io = NULL;
</a> static char *opt_title = NULL;
 static char *opt_embed = NULL;
 static char *opt_class = NULL;
<a href="#h1-1-10" id="h1-1-10" class="i">+static char *opt_font = NULL;
</a> 
 void *
 xmalloc(size_t len) {
<a href="#h1-2" id="h1-2" class="h">@@ -2087,7 +2088,7 @@ xinit(void) {
</a> 	xw.vis = XDefaultVisual(xw.dpy, xw.scr);
 
 	/* font */
<a href="#h1-2-3" id="h1-2-3" class="d">-	initfonts(FONT);
</a><a href="#h1-2-4" id="h1-2-4" class="i">+	initfonts((opt_font != NULL)? opt_font : FONT);
</a> 
 	/* XXX: Assuming same size for bold font */
 	xw.cw = dc.font.rbearing - dc.font.lbearing;
<a href="#h1-3" id="h1-3" class="h">@@ -2503,22 +2504,19 @@ main(int argc, char *argv[]) {
</a> 
 	for(i = 1; i &lt; argc; i++) {
 		switch(argv[i][0] != &#39;-&#39; || argv[i][2] ? -1 : argv[i][1]) {
<a href="#h1-3-3" id="h1-3-3" class="d">-		case &#39;t&#39;:
</a><a href="#h1-3-4" id="h1-3-4" class="d">-			if(++i &lt; argc) opt_title = argv[i];
</a><a href="#h1-3-5" id="h1-3-5" class="d">-			break;
</a> 		case &#39;c&#39;:
<a href="#h1-3-7" id="h1-3-7" class="d">-			if(++i &lt; argc) opt_class = argv[i];
</a><a href="#h1-3-8" id="h1-3-8" class="d">-			break;
</a><a href="#h1-3-9" id="h1-3-9" class="d">-		case &#39;w&#39;:
</a><a href="#h1-3-10" id="h1-3-10" class="d">-			if(++i &lt; argc) opt_embed = argv[i];
</a><a href="#h1-3-11" id="h1-3-11" class="d">-			break;
</a><a href="#h1-3-12" id="h1-3-12" class="d">-		case &#39;f&#39;:
</a><a href="#h1-3-13" id="h1-3-13" class="d">-			if(++i &lt; argc) opt_io = argv[i];
</a><a href="#h1-3-14" id="h1-3-14" class="i">+			if(++i &lt; argc)
</a><a href="#h1-3-15" id="h1-3-15" class="i">+				opt_class = argv[i];
</a> 			break;
 		case &#39;e&#39;:
 			/* eat every remaining arguments */
<a href="#h1-3-19" id="h1-3-19" class="d">-			if(++i &lt; argc) opt_cmd = &amp;argv[i];
</a><a href="#h1-3-20" id="h1-3-20" class="i">+			if(++i &lt; argc)
</a><a href="#h1-3-21" id="h1-3-21" class="i">+				opt_cmd = &amp;argv[i];
</a> 			goto run;
<a href="#h1-3-23" id="h1-3-23" class="i">+		case &#39;f&#39;:
</a><a href="#h1-3-24" id="h1-3-24" class="i">+			if(++i &lt; argc)
</a><a href="#h1-3-25" id="h1-3-25" class="i">+				opt_font = argv[i];
</a><a href="#h1-3-26" id="h1-3-26" class="i">+			break;
</a> 		case &#39;g&#39;:
 			if(++i &gt;= argc)
 				break;
<a href="#h1-4" id="h1-4" class="h">@@ -2540,9 +2538,21 @@ main(int argc, char *argv[]) {
</a> 			if(xw.fh != 0 &amp;&amp; xw.fw != 0)
 				xw.isfixed = True;
 			break;
<a href="#h1-4-3" id="h1-4-3" class="i">+		case &#39;o&#39;:
</a><a href="#h1-4-4" id="h1-4-4" class="i">+			if(++i &lt; argc)
</a><a href="#h1-4-5" id="h1-4-5" class="i">+				opt_io = argv[i];
</a><a href="#h1-4-6" id="h1-4-6" class="i">+			break;
</a><a href="#h1-4-7" id="h1-4-7" class="i">+		case &#39;t&#39;:
</a><a href="#h1-4-8" id="h1-4-8" class="i">+			if(++i &lt; argc)
</a><a href="#h1-4-9" id="h1-4-9" class="i">+				opt_title = argv[i];
</a><a href="#h1-4-10" id="h1-4-10" class="i">+			break;
</a> 		case &#39;v&#39;:
 		default:
 			die(USAGE);
<a href="#h1-4-14" id="h1-4-14" class="i">+		case &#39;w&#39;:
</a><a href="#h1-4-15" id="h1-4-15" class="i">+			if(++i &lt; argc)
</a><a href="#h1-4-16" id="h1-4-16" class="i">+				opt_embed = argv[i];
</a><a href="#h1-4-17" id="h1-4-17" class="i">+			break;
</a> 		}
 	}
 
</pre>
</div>
</body>
</html>
