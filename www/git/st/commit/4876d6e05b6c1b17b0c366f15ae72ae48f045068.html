<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Clean windows display after resizing - st - simple terminal
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="st Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>st</h1><span class="desc">simple terminal
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/4876d6e05b6c1b17b0c366f15ae72ae48f045068.html">4876d6e05b6c1b17b0c366f15ae72ae48f045068</a>
<b>parent</b> <a href="../commit/88a8f85a8a6de56d23510cf6e7810d90478085a5.html">88a8f85a8a6de56d23510cf6e7810d90478085a5</a>
<b>Author:</b> Roberto E. Vargas Caballero &lt;<a href="mailto:k0ga@shike2.com">k0ga@shike2.com</a>&gt;
<b>Date:</b>   Mon, 17 Sep 2012 22:13:17 +0200

Clean windows display after resizing

Some times the size after a resizing is not an exact multiply of a number of
characters, so redrawn the screen using the lines and columns of the neww
size can cause that some old graphics keep in the screen. Solution is clean
all the windows with the background color.
---
 st.c |    3 +++
 1 file changed, 3 insertions(+)
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">st.c</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
</table></pre><pre>1 file changed, 3 insertions(+), 0 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/st.c.html">st.c</a> b/<a href="../file/st.c.html">st.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1839,6 +1839,9 @@ void
</a> xresize(int col, int row) {
 	xw.w = MAX(1, 2*BORDER + col * xw.cw);
 	xw.h = MAX(1, 2*BORDER + row * xw.ch);
<a href="#h0-0-3" id="h0-0-3" class="i">+	XFillRectangle(xw.dpy, xw.buf, dc.gc, 0, 0,
</a><a href="#h0-0-4" id="h0-0-4" class="i">+		       DisplayWidth(xw.dpy, xw.scr),
</a><a href="#h0-0-5" id="h0-0-5" class="i">+		       DisplayHeight(xw.dpy, xw.scr));
</a> }
 
 void
</pre>
</div>
</body>
</html>
