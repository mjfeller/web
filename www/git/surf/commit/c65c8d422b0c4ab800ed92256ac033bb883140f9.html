<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Continue style fixing: function declarations, code alignement - surf - surf browser, a WebKit based browser
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="surf Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>surf</h1><span class="desc">surf browser, a WebKit based browser
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/c65c8d422b0c4ab800ed92256ac033bb883140f9.html">c65c8d422b0c4ab800ed92256ac033bb883140f9</a>
<b>parent</b> <a href="../commit/9f5c6ff8d781f1a3a3b8fd4becd7122f3e809e1c.html">9f5c6ff8d781f1a3a3b8fd4becd7122f3e809e1c</a>
<b>Author:</b> Quentin Rameau &lt;<a href="mailto:quinq+hackers@fifth.space">quinq+hackers@fifth.space</a>&gt;
<b>Date:</b>   Tue, 20 Oct 2015 15:04:52 +0200

Continue style fixing: function declarations, code alignement

Here are the changes we discussed on the mailing-list.
Alignement is pushed to the first parameter of the function, which seems
to be what people agrees on.

Signed-off-by: Christoph Lohmann &lt;20h@r-36.net&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">surf.c</a></td><td> | </td><td class="num">817</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++</span><span class="d">------------------------------------</span></td></tr>
</table></pre><pre>1 file changed, 444 insertions(+), 373 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/surf.c.html">surf.c</a> b/<a href="../file/surf.c.html">surf.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -2,7 +2,6 @@
</a>  *
  * To understand surf, start reading main().
  */
<a href="#h0-0-3" id="h0-0-3" class="d">-
</a> #include &lt;signal.h&gt;
 #include &lt;X11/X.h&gt;
 #include &lt;X11/Xatom.h&gt;
<a href="#h0-1" id="h0-1" class="h">@@ -113,8 +112,8 @@ static SoupCache *diskcache = NULL;
</a> 
 static void addaccelgroup(Client *c);
 static void beforerequest(WebKitWebView *w, WebKitWebFrame *f,
<a href="#h0-1-3" id="h0-1-3" class="d">-		WebKitWebResource *r, WebKitNetworkRequest *req,
</a><a href="#h0-1-4" id="h0-1-4" class="d">-		WebKitNetworkResponse *resp, Client *c);
</a><a href="#h0-1-5" id="h0-1-5" class="i">+                          WebKitWebResource *r, WebKitNetworkRequest *req,
</a><a href="#h0-1-6" id="h0-1-6" class="i">+                          WebKitNetworkResponse *resp, Client *c);
</a> static char *buildfile(const char *path);
 static char *buildpath(const char *path);
 static gboolean buttonrelease(WebKitWebView *web, GdkEventButton *e, Client *c);
<a href="#h0-2" id="h0-2" class="h">@@ -123,26 +122,26 @@ static void clipboard(Client *c, const Arg *arg);
</a> 
 /* Cookiejar implementation */
 static void cookiejar_changed(SoupCookieJar *self, SoupCookie *old_cookie,
<a href="#h0-2-3" id="h0-2-3" class="d">-		SoupCookie *new_cookie);
</a><a href="#h0-2-4" id="h0-2-4" class="i">+                              SoupCookie *new_cookie);
</a> static void cookiejar_finalize(GObject *self);
 static SoupCookieJarAcceptPolicy cookiepolicy_get(void);
 static SoupCookieJar *cookiejar_new(const char *filename, gboolean read_only,
<a href="#h0-2-8" id="h0-2-8" class="d">-		SoupCookieJarAcceptPolicy policy);
</a><a href="#h0-2-9" id="h0-2-9" class="i">+                                    SoupCookieJarAcceptPolicy policy);
</a> static void cookiejar_set_property(GObject *self, guint prop_id,
<a href="#h0-2-11" id="h0-2-11" class="d">-		const GValue *value, GParamSpec *pspec);
</a><a href="#h0-2-12" id="h0-2-12" class="i">+    const GValue *value, GParamSpec *pspec);
</a> static char cookiepolicy_set(const SoupCookieJarAcceptPolicy p);
 
 static char *copystr(char **str, const char *src);
 static WebKitWebView *createwindow(WebKitWebView *v, WebKitWebFrame *f,
<a href="#h0-2-17" id="h0-2-17" class="d">-		Client *c);
</a><a href="#h0-2-18" id="h0-2-18" class="i">+                                   Client *c);
</a> static gboolean decidedownload(WebKitWebView *v, WebKitWebFrame *f,
<a href="#h0-2-20" id="h0-2-20" class="d">-		WebKitNetworkRequest *r, gchar *m,  WebKitWebPolicyDecision *p,
</a><a href="#h0-2-21" id="h0-2-21" class="d">-		Client *c);
</a><a href="#h0-2-22" id="h0-2-22" class="i">+                               WebKitNetworkRequest *r, gchar *m,
</a><a href="#h0-2-23" id="h0-2-23" class="i">+			       WebKitWebPolicyDecision *p, Client *c);
</a> static gboolean decidewindow(WebKitWebView *v, WebKitWebFrame *f,
<a href="#h0-2-25" id="h0-2-25" class="d">-		WebKitNetworkRequest *r, WebKitWebNavigationAction *n,
</a><a href="#h0-2-26" id="h0-2-26" class="d">-		WebKitWebPolicyDecision *p, Client *c);
</a><a href="#h0-2-27" id="h0-2-27" class="i">+                             WebKitNetworkRequest *r, WebKitWebNavigationAction
</a><a href="#h0-2-28" id="h0-2-28" class="i">+			     *n, WebKitWebPolicyDecision *p, Client *c);
</a> static gboolean deletion_interface(WebKitWebView *view,
<a href="#h0-2-30" id="h0-2-30" class="d">-		WebKitDOMHTMLElement *arg1, Client *c);
</a><a href="#h0-2-31" id="h0-2-31" class="i">+                                   WebKitDOMHTMLElement *arg1, Client *c);
</a> static void destroyclient(Client *c);
 static void destroywin(GtkWidget* w, Client *c);
 static void die(const char *errstr, ...);
<a href="#h0-3" id="h0-3" class="h">@@ -150,7 +149,7 @@ static void eval(Client *c, const Arg *arg);
</a> static void find(Client *c, const Arg *arg);
 static void fullscreen(Client *c, const Arg *arg);
 static void geopolicyrequested(WebKitWebView *v, WebKitWebFrame *f,
<a href="#h0-3-3" id="h0-3-3" class="d">-		WebKitGeolocationPolicyDecision *d, Client *c);
</a><a href="#h0-3-4" id="h0-3-4" class="i">+                               WebKitGeolocationPolicyDecision *d, Client *c);
</a> static const char *getatom(Client *c, int a);
 static void gettogglestat(Client *c);
 static void getpagestat(Client *c);
<a href="#h0-4" id="h0-4" class="h">@@ -163,29 +162,29 @@ static gboolean initdownload(WebKitWebView *v, WebKitDownload *o, Client *c);
</a> 
 static void inspector(Client *c, const Arg *arg);
 static WebKitWebView *inspector_new(WebKitWebInspector *i, WebKitWebView *v,
<a href="#h0-4-3" id="h0-4-3" class="d">-		Client *c);
</a><a href="#h0-4-4" id="h0-4-4" class="i">+                                    Client *c);
</a> static gboolean inspector_show(WebKitWebInspector *i, Client *c);
 static gboolean inspector_close(WebKitWebInspector *i, Client *c);
 static void inspector_finished(WebKitWebInspector *i, Client *c);
 
<a href="#h0-4-9" id="h0-4-9" class="d">-static gboolean keypress(GtkAccelGroup *group,
</a><a href="#h0-4-10" id="h0-4-10" class="d">-		GObject *obj, guint key, GdkModifierType mods,
</a><a href="#h0-4-11" id="h0-4-11" class="d">-		Client *c);
</a><a href="#h0-4-12" id="h0-4-12" class="i">+static gboolean keypress(GtkAccelGroup *group, GObject *obj, guint key,
</a><a href="#h0-4-13" id="h0-4-13" class="i">+                         GdkModifierType mods, Client *c);
</a> static void linkhover(WebKitWebView *v, const char* t, const char* l,
<a href="#h0-4-15" id="h0-4-15" class="d">-		Client *c);
</a><a href="#h0-4-16" id="h0-4-16" class="i">+                      Client *c);
</a> static void loadstatuschange(WebKitWebView *view, GParamSpec *pspec,
<a href="#h0-4-18" id="h0-4-18" class="d">-		Client *c);
</a><a href="#h0-4-19" id="h0-4-19" class="i">+                             Client *c);
</a> static void loaduri(Client *c, const Arg *arg);
 static void navigate(Client *c, const Arg *arg);
 static Client *newclient(void);
 static void newwindow(Client *c, const Arg *arg, gboolean noembed);
 static void pasteuri(GtkClipboard *clipboard, const char *text, gpointer d);
 static gboolean contextmenu(WebKitWebView *view, GtkWidget *menu,
<a href="#h0-4-26" id="h0-4-26" class="d">-		WebKitHitTestResult *target, gboolean keyboard, Client *c);
</a><a href="#h0-4-27" id="h0-4-27" class="i">+                            WebKitHitTestResult *target, gboolean keyboard,
</a><a href="#h0-4-28" id="h0-4-28" class="i">+			    Client *c);
</a> static void menuactivate(GtkMenuItem *item, Client *c);
 static void print(Client *c, const Arg *arg);
 static GdkFilterReturn processx(GdkXEvent *xevent, GdkEvent *event,
<a href="#h0-4-32" id="h0-4-32" class="d">-		gpointer d);
</a><a href="#h0-4-33" id="h0-4-33" class="i">+                                gpointer d);
</a> static void progresschange(WebKitWebView *view, GParamSpec *pspec, Client *c);
 static void linkopen(Client *c, const Arg *arg);
 static void linkopenembed(Client *c, const Arg *arg);
<a href="#h0-5" id="h0-5" class="h">@@ -210,44 +209,45 @@ static void updatetitle(Client *c);
</a> static void updatewinid(Client *c);
 static void usage(void);
 static void windowobjectcleared(GtkWidget *w, WebKitWebFrame *frame,
<a href="#h0-5-3" id="h0-5-3" class="d">-		JSContextRef js, JSObjectRef win, Client *c);
</a><a href="#h0-5-4" id="h0-5-4" class="i">+                                JSContextRef js, JSObjectRef win, Client *c);
</a> static void zoom(Client *c, const Arg *arg);
 
 /* configuration, allows nested code to access above variables */
 #include &quot;config.h&quot;
 
<a href="#h0-5-10" id="h0-5-10" class="d">-static void
</a><a href="#h0-5-11" id="h0-5-11" class="d">-addaccelgroup(Client *c) {
</a><a href="#h0-5-12" id="h0-5-12" class="i">+void
</a><a href="#h0-5-13" id="h0-5-13" class="i">+addaccelgroup(Client *c)
</a><a href="#h0-5-14" id="h0-5-14" class="i">+{
</a> 	int i;
 	GtkAccelGroup *group = gtk_accel_group_new();
 	GClosure *closure;
 
 	for (i = 0; i &lt; LENGTH(keys); i++) {
 		closure = g_cclosure_new(G_CALLBACK(keypress), c, NULL);
<a href="#h0-5-21" id="h0-5-21" class="d">-		gtk_accel_group_connect(group, keys[i].keyval, keys[i].mod,
</a><a href="#h0-5-22" id="h0-5-22" class="d">-				0, closure);
</a><a href="#h0-5-23" id="h0-5-23" class="i">+		gtk_accel_group_connect(group, keys[i].keyval, keys[i].mod, 0,
</a><a href="#h0-5-24" id="h0-5-24" class="i">+		                        closure);
</a> 	}
 	gtk_window_add_accel_group(GTK_WINDOW(c-&gt;win), group);
 }
 
<a href="#h0-5-29" id="h0-5-29" class="d">-static void
</a><a href="#h0-5-30" id="h0-5-30" class="i">+void
</a> beforerequest(WebKitWebView *w, WebKitWebFrame *f, WebKitWebResource *r,
<a href="#h0-5-32" id="h0-5-32" class="d">-		WebKitNetworkRequest *req, WebKitNetworkResponse *resp,
</a><a href="#h0-5-33" id="h0-5-33" class="d">-		Client *c) {
</a><a href="#h0-5-34" id="h0-5-34" class="i">+              WebKitNetworkRequest *req, WebKitNetworkResponse *resp,
</a><a href="#h0-5-35" id="h0-5-35" class="i">+	      Client *c)
</a><a href="#h0-5-36" id="h0-5-36" class="i">+{
</a> 	const gchar *uri = webkit_network_request_get_uri(req);
 	int i, isascii = 1;
 
 	if (g_str_has_suffix(uri, &quot;/favicon.ico&quot;))
 		webkit_network_request_set_uri(req, &quot;about:blank&quot;);
 
<a href="#h0-5-43" id="h0-5-43" class="d">-	if (!g_str_has_prefix(uri, &quot;http://&quot;) \
</a><a href="#h0-5-44" id="h0-5-44" class="d">-			&amp;&amp; !g_str_has_prefix(uri, &quot;https://&quot;) \
</a><a href="#h0-5-45" id="h0-5-45" class="d">-			&amp;&amp; !g_str_has_prefix(uri, &quot;about:&quot;) \
</a><a href="#h0-5-46" id="h0-5-46" class="d">-			&amp;&amp; !g_str_has_prefix(uri, &quot;file://&quot;) \
</a><a href="#h0-5-47" id="h0-5-47" class="d">-			&amp;&amp; !g_str_has_prefix(uri, &quot;data:&quot;) \
</a><a href="#h0-5-48" id="h0-5-48" class="d">-			&amp;&amp; !g_str_has_prefix(uri, &quot;blob:&quot;) \
</a><a href="#h0-5-49" id="h0-5-49" class="d">-			&amp;&amp; strlen(uri) &gt; 0) {
</a><a href="#h0-5-50" id="h0-5-50" class="d">-
</a><a href="#h0-5-51" id="h0-5-51" class="i">+	if (!g_str_has_prefix(uri, &quot;http://&quot;)
</a><a href="#h0-5-52" id="h0-5-52" class="i">+	    &amp;&amp; !g_str_has_prefix(uri, &quot;https://&quot;)
</a><a href="#h0-5-53" id="h0-5-53" class="i">+	    &amp;&amp; !g_str_has_prefix(uri, &quot;about:&quot;)
</a><a href="#h0-5-54" id="h0-5-54" class="i">+	    &amp;&amp; !g_str_has_prefix(uri, &quot;file://&quot;)
</a><a href="#h0-5-55" id="h0-5-55" class="i">+	    &amp;&amp; !g_str_has_prefix(uri, &quot;data:&quot;)
</a><a href="#h0-5-56" id="h0-5-56" class="i">+	    &amp;&amp; !g_str_has_prefix(uri, &quot;blob:&quot;)
</a><a href="#h0-5-57" id="h0-5-57" class="i">+	    &amp;&amp; strlen(uri) &gt; 0) {
</a> 		for (i = 0; i &lt; strlen(uri); i++) {
 			if (!g_ascii_isprint(uri[i])) {
 				isascii = 0;
<a href="#h0-6" id="h0-6" class="h">@@ -259,8 +259,9 @@ beforerequest(WebKitWebView *w, WebKitWebFrame *f, WebKitWebResource *r,
</a> 	}
 }
 
<a href="#h0-6-3" id="h0-6-3" class="d">-static char *
</a><a href="#h0-6-4" id="h0-6-4" class="d">-buildfile(const char *path) {
</a><a href="#h0-6-5" id="h0-6-5" class="i">+char *
</a><a href="#h0-6-6" id="h0-6-6" class="i">+buildfile(const char *path)
</a><a href="#h0-6-7" id="h0-6-7" class="i">+{
</a> 	char *dname, *bname, *bpath, *fpath;
 	FILE *f;
 
<a href="#h0-7" id="h0-7" class="h">@@ -282,8 +283,9 @@ buildfile(const char *path) {
</a> 	return fpath;
 }
 
<a href="#h0-7-3" id="h0-7-3" class="d">-static char *
</a><a href="#h0-7-4" id="h0-7-4" class="d">-buildpath(const char *path) {
</a><a href="#h0-7-5" id="h0-7-5" class="i">+char *
</a><a href="#h0-7-6" id="h0-7-6" class="i">+buildpath(const char *path)
</a><a href="#h0-7-7" id="h0-7-7" class="i">+{
</a> 	struct passwd *pw;
 	char *apath, *name, *p, *fpath;
 
<a href="#h0-8" id="h0-8" class="h">@@ -299,7 +301,7 @@ buildpath(const char *path) {
</a> 
 			if (!(pw = getpwnam(name))) {
 				die(&quot;Can&#39;t get user %s home directory: %s.\n&quot;,
<a href="#h0-8-3" id="h0-8-3" class="d">-						name, path);
</a><a href="#h0-8-4" id="h0-8-4" class="i">+				    name, path);
</a> 			}
 			g_free(name);
 		}
<a href="#h0-9" id="h0-9" class="h">@@ -318,28 +320,33 @@ buildpath(const char *path) {
</a> 	return fpath;
 }
 
<a href="#h0-9-3" id="h0-9-3" class="d">-static gboolean
</a><a href="#h0-9-4" id="h0-9-4" class="d">-buttonrelease(WebKitWebView *web, GdkEventButton *e, Client *c) {
</a><a href="#h0-9-5" id="h0-9-5" class="i">+gboolean
</a><a href="#h0-9-6" id="h0-9-6" class="i">+buttonrelease(WebKitWebView *web, GdkEventButton *e, Client *c)
</a><a href="#h0-9-7" id="h0-9-7" class="i">+{
</a> 	WebKitHitTestResultContext context;
<a href="#h0-9-9" id="h0-9-9" class="d">-	WebKitHitTestResult *result = webkit_web_view_get_hit_test_result(web,
</a><a href="#h0-9-10" id="h0-9-10" class="d">-			e);
</a><a href="#h0-9-11" id="h0-9-11" class="i">+	WebKitHitTestResult *result;
</a> 	Arg arg;
 	unsigned int i;
 
<a href="#h0-9-15" id="h0-9-15" class="i">+	result = webkit_web_view_get_hit_test_result(web, e);
</a> 	g_object_get(result, &quot;context&quot;, &amp;context, NULL);
 	g_object_get(result, &quot;link-uri&quot;, &amp;arg.v, NULL);
 	for (i = 0; i &lt; LENGTH(buttons); i++) {
<a href="#h0-9-19" id="h0-9-19" class="d">-		if (context &amp; buttons[i].click &amp;&amp; e-&gt;button == buttons[i].button &amp;&amp;
</a><a href="#h0-9-20" id="h0-9-20" class="d">-		CLEANMASK(e-&gt;state) == CLEANMASK(buttons[i].mask) &amp;&amp; buttons[i].func) {
</a><a href="#h0-9-21" id="h0-9-21" class="d">-			buttons[i].func(c, buttons[i].click == ClkLink &amp;&amp; buttons[i].arg.i == 0 ? &amp;arg : &amp;buttons[i].arg);
</a><a href="#h0-9-22" id="h0-9-22" class="i">+		if (context &amp; buttons[i].click
</a><a href="#h0-9-23" id="h0-9-23" class="i">+		    &amp;&amp; e-&gt;button == buttons[i].button
</a><a href="#h0-9-24" id="h0-9-24" class="i">+		    &amp;&amp; CLEANMASK(e-&gt;state) == CLEANMASK(buttons[i].mask)
</a><a href="#h0-9-25" id="h0-9-25" class="i">+		    &amp;&amp; buttons[i].func) {
</a><a href="#h0-9-26" id="h0-9-26" class="i">+			buttons[i].func(c, buttons[i].click == ClkLink
</a><a href="#h0-9-27" id="h0-9-27" class="i">+			    &amp;&amp; buttons[i].arg.i == 0 ? &amp;arg : &amp;buttons[i].arg);
</a> 			return true;
 		}
 	}
 	return false;
 }
 
<a href="#h0-9-34" id="h0-9-34" class="d">-static void
</a><a href="#h0-9-35" id="h0-9-35" class="d">-cleanup(void) {
</a><a href="#h0-9-36" id="h0-9-36" class="i">+void
</a><a href="#h0-9-37" id="h0-9-37" class="i">+cleanup(void)
</a><a href="#h0-9-38" id="h0-9-38" class="i">+{
</a> 	if (diskcache) {
 		soup_cache_flush(diskcache);
 		soup_cache_dump(diskcache);
<a href="#h0-10" id="h0-10" class="h">@@ -351,60 +358,68 @@ cleanup(void) {
</a> 	g_free(stylefile);
 }
 
<a href="#h0-10-3" id="h0-10-3" class="d">-static void
</a><a href="#h0-10-4" id="h0-10-4" class="i">+void
</a> cookiejar_changed(SoupCookieJar *self, SoupCookie *old_cookie,
<a href="#h0-10-6" id="h0-10-6" class="d">-		SoupCookie *new_cookie) {
</a><a href="#h0-10-7" id="h0-10-7" class="i">+                  SoupCookie *new_cookie)
</a><a href="#h0-10-8" id="h0-10-8" class="i">+{
</a> 	flock(COOKIEJAR(self)-&gt;lock, LOCK_EX);
 	if (new_cookie &amp;&amp; !new_cookie-&gt;expires &amp;&amp; sessiontime) {
 		soup_cookie_set_expires(new_cookie,
<a href="#h0-10-12" id="h0-10-12" class="d">-				soup_date_new_from_now(sessiontime));
</a><a href="#h0-10-13" id="h0-10-13" class="i">+		                        soup_date_new_from_now(sessiontime));
</a> 	}
 	SOUP_COOKIE_JAR_CLASS(cookiejar_parent_class)-&gt;changed(self,
<a href="#h0-10-16" id="h0-10-16" class="d">-			old_cookie, new_cookie);
</a><a href="#h0-10-17" id="h0-10-17" class="i">+	                                                       old_cookie,
</a><a href="#h0-10-18" id="h0-10-18" class="i">+							       new_cookie);
</a> 	flock(COOKIEJAR(self)-&gt;lock, LOCK_UN);
 }
 
<a href="#h0-10-22" id="h0-10-22" class="d">-static void
</a><a href="#h0-10-23" id="h0-10-23" class="d">-cookiejar_class_init(CookieJarClass *klass) {
</a><a href="#h0-10-24" id="h0-10-24" class="i">+void
</a><a href="#h0-10-25" id="h0-10-25" class="i">+cookiejar_class_init(CookieJarClass *klass)
</a><a href="#h0-10-26" id="h0-10-26" class="i">+{
</a> 	SOUP_COOKIE_JAR_CLASS(klass)-&gt;changed = cookiejar_changed;
 	G_OBJECT_CLASS(klass)-&gt;get_property =
<a href="#h0-10-29" id="h0-10-29" class="d">-		G_OBJECT_CLASS(cookiejar_parent_class)-&gt;get_property;
</a><a href="#h0-10-30" id="h0-10-30" class="i">+	    G_OBJECT_CLASS(cookiejar_parent_class)-&gt;get_property;
</a> 	G_OBJECT_CLASS(klass)-&gt;set_property = cookiejar_set_property;
 	G_OBJECT_CLASS(klass)-&gt;finalize = cookiejar_finalize;
 	g_object_class_override_property(G_OBJECT_CLASS(klass), 1, &quot;filename&quot;);
 }
 
<a href="#h0-10-36" id="h0-10-36" class="d">-static void
</a><a href="#h0-10-37" id="h0-10-37" class="d">-cookiejar_finalize(GObject *self) {
</a><a href="#h0-10-38" id="h0-10-38" class="i">+void
</a><a href="#h0-10-39" id="h0-10-39" class="i">+cookiejar_finalize(GObject *self)
</a><a href="#h0-10-40" id="h0-10-40" class="i">+{
</a> 	close(COOKIEJAR(self)-&gt;lock);
 	G_OBJECT_CLASS(cookiejar_parent_class)-&gt;finalize(self);
 }
 
<a href="#h0-10-45" id="h0-10-45" class="d">-static void
</a><a href="#h0-10-46" id="h0-10-46" class="d">-cookiejar_init(CookieJar *self) {
</a><a href="#h0-10-47" id="h0-10-47" class="i">+void
</a><a href="#h0-10-48" id="h0-10-48" class="i">+cookiejar_init(CookieJar *self)
</a><a href="#h0-10-49" id="h0-10-49" class="i">+{
</a> 	self-&gt;lock = open(cookiefile, 0);
 }
 
<a href="#h0-10-53" id="h0-10-53" class="d">-static SoupCookieJar *
</a><a href="#h0-10-54" id="h0-10-54" class="i">+SoupCookieJar *
</a> cookiejar_new(const char *filename, gboolean read_only,
<a href="#h0-10-56" id="h0-10-56" class="d">-		SoupCookieJarAcceptPolicy policy) {
</a><a href="#h0-10-57" id="h0-10-57" class="i">+              SoupCookieJarAcceptPolicy policy)
</a><a href="#h0-10-58" id="h0-10-58" class="i">+{
</a> 	return g_object_new(COOKIEJAR_TYPE,
 	                    SOUP_COOKIE_JAR_TEXT_FILENAME, filename,
<a href="#h0-10-61" id="h0-10-61" class="d">-	                    SOUP_COOKIE_JAR_READ_ONLY, read_only,
</a><a href="#h0-10-62" id="h0-10-62" class="d">-	                    SOUP_COOKIE_JAR_ACCEPT_POLICY, policy, NULL);
</a><a href="#h0-10-63" id="h0-10-63" class="i">+			    SOUP_COOKIE_JAR_READ_ONLY, read_only,
</a><a href="#h0-10-64" id="h0-10-64" class="i">+			    SOUP_COOKIE_JAR_ACCEPT_POLICY, policy, NULL);
</a> }
 
<a href="#h0-10-67" id="h0-10-67" class="d">-static void
</a><a href="#h0-10-68" id="h0-10-68" class="i">+void
</a> cookiejar_set_property(GObject *self, guint prop_id, const GValue *value,
<a href="#h0-10-70" id="h0-10-70" class="d">-		GParamSpec *pspec) {
</a><a href="#h0-10-71" id="h0-10-71" class="i">+                       GParamSpec *pspec)
</a><a href="#h0-10-72" id="h0-10-72" class="i">+{
</a> 	flock(COOKIEJAR(self)-&gt;lock, LOCK_SH);
 	G_OBJECT_CLASS(cookiejar_parent_class)-&gt;set_property(self, prop_id,
<a href="#h0-10-75" id="h0-10-75" class="d">-			value, pspec);
</a><a href="#h0-10-76" id="h0-10-76" class="i">+	                                                     value, pspec);
</a> 	flock(COOKIEJAR(self)-&gt;lock, LOCK_UN);
 }
 
<a href="#h0-10-80" id="h0-10-80" class="d">-static SoupCookieJarAcceptPolicy
</a><a href="#h0-10-81" id="h0-10-81" class="d">-cookiepolicy_get(void) {
</a><a href="#h0-10-82" id="h0-10-82" class="i">+SoupCookieJarAcceptPolicy
</a><a href="#h0-10-83" id="h0-10-83" class="i">+cookiepolicy_get(void)
</a><a href="#h0-10-84" id="h0-10-84" class="i">+{
</a> 	switch (cookiepolicies[policysel]) {
 	case &#39;a&#39;:
 		return SOUP_COOKIE_JAR_ACCEPT_NEVER;
<a href="#h0-11" id="h0-11" class="h">@@ -418,8 +433,9 @@ cookiepolicy_get(void) {
</a> 	return SOUP_COOKIE_JAR_ACCEPT_ALWAYS;
 }
 
<a href="#h0-11-3" id="h0-11-3" class="d">-static char
</a><a href="#h0-11-4" id="h0-11-4" class="d">-cookiepolicy_set(const SoupCookieJarAcceptPolicy ep) {
</a><a href="#h0-11-5" id="h0-11-5" class="i">+char
</a><a href="#h0-11-6" id="h0-11-6" class="i">+cookiepolicy_set(const SoupCookieJarAcceptPolicy ep)
</a><a href="#h0-11-7" id="h0-11-7" class="i">+{
</a> 	switch (ep) {
 	case SOUP_COOKIE_JAR_ACCEPT_NEVER:
 		return &#39;a&#39;;
<a href="#h0-12" id="h0-12" class="h">@@ -433,47 +449,51 @@ cookiepolicy_set(const SoupCookieJarAcceptPolicy ep) {
</a> 	return &#39;A&#39;;
 }
 
<a href="#h0-12-3" id="h0-12-3" class="d">-static void
</a><a href="#h0-12-4" id="h0-12-4" class="d">-evalscript(JSContextRef js, char *script, char* scriptname) {
</a><a href="#h0-12-5" id="h0-12-5" class="i">+void
</a><a href="#h0-12-6" id="h0-12-6" class="i">+evalscript(JSContextRef js, char *script, char* scriptname)
</a><a href="#h0-12-7" id="h0-12-7" class="i">+{
</a> 	JSStringRef jsscript, jsscriptname;
 	JSValueRef exception = NULL;
 
 	jsscript = JSStringCreateWithUTF8CString(script);
 	jsscriptname = JSStringCreateWithUTF8CString(scriptname);
 	JSEvaluateScript(js, jsscript, JSContextGetGlobalObject(js),
<a href="#h0-12-14" id="h0-12-14" class="d">-			jsscriptname, 0, &amp;exception);
</a><a href="#h0-12-15" id="h0-12-15" class="i">+	                 jsscriptname, 0, &amp;exception);
</a> 	JSStringRelease(jsscript);
 	JSStringRelease(jsscriptname);
 }
 
<a href="#h0-12-20" id="h0-12-20" class="d">-static void
</a><a href="#h0-12-21" id="h0-12-21" class="d">-runscript(WebKitWebFrame *frame) {
</a><a href="#h0-12-22" id="h0-12-22" class="i">+void
</a><a href="#h0-12-23" id="h0-12-23" class="i">+runscript(WebKitWebFrame *frame)
</a><a href="#h0-12-24" id="h0-12-24" class="i">+{
</a> 	char *script;
 	GError *error;
 
 	if (g_file_get_contents(scriptfile, &amp;script, NULL, &amp;error)) {
<a href="#h0-12-29" id="h0-12-29" class="d">-		evalscript(webkit_web_frame_get_global_context(frame),
</a><a href="#h0-12-30" id="h0-12-30" class="d">-				script, scriptfile);
</a><a href="#h0-12-31" id="h0-12-31" class="i">+		evalscript(webkit_web_frame_get_global_context(frame), script,
</a><a href="#h0-12-32" id="h0-12-32" class="i">+		           scriptfile);
</a> 	}
 }
 
<a href="#h0-12-36" id="h0-12-36" class="d">-static void
</a><a href="#h0-12-37" id="h0-12-37" class="d">-clipboard(Client *c, const Arg *arg) {
</a><a href="#h0-12-38" id="h0-12-38" class="i">+void
</a><a href="#h0-12-39" id="h0-12-39" class="i">+clipboard(Client *c, const Arg *arg)
</a><a href="#h0-12-40" id="h0-12-40" class="i">+{
</a> 	gboolean paste = *(gboolean *)arg;
 
 	if (paste) {
<a href="#h0-12-44" id="h0-12-44" class="d">-		gtk_clipboard_request_text(
</a><a href="#h0-12-45" id="h0-12-45" class="d">-				gtk_clipboard_get(GDK_SELECTION_PRIMARY),
</a><a href="#h0-12-46" id="h0-12-46" class="d">-				pasteuri, c);
</a><a href="#h0-12-47" id="h0-12-47" class="i">+		gtk_clipboard_request_text(gtk_clipboard_get(
</a><a href="#h0-12-48" id="h0-12-48" class="i">+		                           GDK_SELECTION_PRIMARY),
</a><a href="#h0-12-49" id="h0-12-49" class="i">+		                           pasteuri, c);
</a> 	} else {
<a href="#h0-12-51" id="h0-12-51" class="d">-		gtk_clipboard_set_text(
</a><a href="#h0-12-52" id="h0-12-52" class="d">-				gtk_clipboard_get(GDK_SELECTION_PRIMARY),
</a><a href="#h0-12-53" id="h0-12-53" class="d">-				c-&gt;linkhover ? c-&gt;linkhover : geturi(c), -1);
</a><a href="#h0-12-54" id="h0-12-54" class="i">+		gtk_clipboard_set_text(gtk_clipboard_get(
</a><a href="#h0-12-55" id="h0-12-55" class="i">+		                       GDK_SELECTION_PRIMARY), c-&gt;linkhover
</a><a href="#h0-12-56" id="h0-12-56" class="i">+		                       ? c-&gt;linkhover : geturi(c), -1);
</a> 	}
 }
 
<a href="#h0-12-60" id="h0-12-60" class="d">-static char *
</a><a href="#h0-12-61" id="h0-12-61" class="d">-copystr(char **str, const char *src) {
</a><a href="#h0-12-62" id="h0-12-62" class="i">+char *
</a><a href="#h0-12-63" id="h0-12-63" class="i">+copystr(char **str, const char *src)
</a><a href="#h0-12-64" id="h0-12-64" class="i">+{
</a> 	char *tmp;
 	tmp = g_strdup(src);
 
<a href="#h0-13" id="h0-13" class="h">@@ -484,15 +504,17 @@ copystr(char **str, const char *src) {
</a> 	return tmp;
 }
 
<a href="#h0-13-3" id="h0-13-3" class="d">-static WebKitWebView *
</a><a href="#h0-13-4" id="h0-13-4" class="d">-createwindow(WebKitWebView  *v, WebKitWebFrame *f, Client *c) {
</a><a href="#h0-13-5" id="h0-13-5" class="i">+WebKitWebView *
</a><a href="#h0-13-6" id="h0-13-6" class="i">+createwindow(WebKitWebView  *v, WebKitWebFrame *f, Client *c)
</a><a href="#h0-13-7" id="h0-13-7" class="i">+{
</a> 	Client *n = newclient();
 	return n-&gt;view;
 }
 
<a href="#h0-13-12" id="h0-13-12" class="d">-static gboolean
</a><a href="#h0-13-13" id="h0-13-13" class="i">+gboolean
</a> decidedownload(WebKitWebView *v, WebKitWebFrame *f, WebKitNetworkRequest *r,
<a href="#h0-13-15" id="h0-13-15" class="d">-		gchar *m,  WebKitWebPolicyDecision *p, Client *c) {
</a><a href="#h0-13-16" id="h0-13-16" class="i">+               gchar *m,  WebKitWebPolicyDecision *p, Client *c)
</a><a href="#h0-13-17" id="h0-13-17" class="i">+{
</a> 	if (!webkit_web_view_can_show_mime_type(v, m)) {
 		webkit_web_policy_decision_download(p);
 		return TRUE;
<a href="#h0-14" id="h0-14" class="h">@@ -500,14 +522,15 @@ decidedownload(WebKitWebView *v, WebKitWebFrame *f, WebKitNetworkRequest *r,
</a> 	return FALSE;
 }
 
<a href="#h0-14-3" id="h0-14-3" class="d">-static gboolean
</a><a href="#h0-14-4" id="h0-14-4" class="i">+gboolean
</a> decidewindow(WebKitWebView *view, WebKitWebFrame *f, WebKitNetworkRequest *r,
<a href="#h0-14-6" id="h0-14-6" class="d">-		WebKitWebNavigationAction *n, WebKitWebPolicyDecision *p,
</a><a href="#h0-14-7" id="h0-14-7" class="d">-		Client *c) {
</a><a href="#h0-14-8" id="h0-14-8" class="i">+             WebKitWebNavigationAction *n, WebKitWebPolicyDecision *p,
</a><a href="#h0-14-9" id="h0-14-9" class="i">+	     Client *c)
</a><a href="#h0-14-10" id="h0-14-10" class="i">+{
</a> 	Arg arg;
 
<a href="#h0-14-13" id="h0-14-13" class="d">-	if (webkit_web_navigation_action_get_reason(n) ==
</a><a href="#h0-14-14" id="h0-14-14" class="d">-			WEBKIT_WEB_NAVIGATION_REASON_LINK_CLICKED) {
</a><a href="#h0-14-15" id="h0-14-15" class="i">+	if (webkit_web_navigation_action_get_reason(n)
</a><a href="#h0-14-16" id="h0-14-16" class="i">+	    == WEBKIT_WEB_NAVIGATION_REASON_LINK_CLICKED) {
</a> 		webkit_web_policy_decision_ignore(p);
 		arg.v = (void *)webkit_network_request_get_uri(r);
 		newwindow(NULL, &amp;arg, 0);
<a href="#h0-15" id="h0-15" class="h">@@ -516,14 +539,15 @@ decidewindow(WebKitWebView *view, WebKitWebFrame *f, WebKitNetworkRequest *r,
</a> 	return FALSE;
 }
 
<a href="#h0-15-3" id="h0-15-3" class="d">-static gboolean
</a><a href="#h0-15-4" id="h0-15-4" class="d">-deletion_interface(WebKitWebView *view,
</a><a href="#h0-15-5" id="h0-15-5" class="d">-		WebKitDOMHTMLElement *arg1, Client *c) {
</a><a href="#h0-15-6" id="h0-15-6" class="i">+gboolean
</a><a href="#h0-15-7" id="h0-15-7" class="i">+deletion_interface(WebKitWebView *view, WebKitDOMHTMLElement *arg1, Client *c)
</a><a href="#h0-15-8" id="h0-15-8" class="i">+{
</a> 	return FALSE;
 }
 
<a href="#h0-15-12" id="h0-15-12" class="d">-static void
</a><a href="#h0-15-13" id="h0-15-13" class="d">-destroyclient(Client *c) {
</a><a href="#h0-15-14" id="h0-15-14" class="i">+void
</a><a href="#h0-15-15" id="h0-15-15" class="i">+destroyclient(Client *c)
</a><a href="#h0-15-16" id="h0-15-16" class="i">+{
</a> 	Client *p;
 
 	webkit_web_view_stop_loading(c-&gt;view);
<a href="#h0-16" id="h0-16" class="h">@@ -532,24 +556,26 @@ destroyclient(Client *c) {
</a> 	gtk_widget_destroy(c-&gt;vbox);
 	gtk_widget_destroy(c-&gt;win);
 
<a href="#h0-16-3" id="h0-16-3" class="d">-	for (p = clients; p &amp;&amp; p-&gt;next != c; p = p-&gt;next);
</a><a href="#h0-16-4" id="h0-16-4" class="d">-	if (p) {
</a><a href="#h0-16-5" id="h0-16-5" class="i">+	for (p = clients; p &amp;&amp; p-&gt;next != c; p = p-&gt;next)
</a><a href="#h0-16-6" id="h0-16-6" class="i">+		;
</a><a href="#h0-16-7" id="h0-16-7" class="i">+	if (p)
</a> 		p-&gt;next = c-&gt;next;
<a href="#h0-16-9" id="h0-16-9" class="d">-	} else {
</a><a href="#h0-16-10" id="h0-16-10" class="i">+	else
</a> 		clients = c-&gt;next;
<a href="#h0-16-12" id="h0-16-12" class="d">-	}
</a> 	free(c);
 	if (clients == NULL)
 		gtk_main_quit();
 }
 
<a href="#h0-16-18" id="h0-16-18" class="d">-static void
</a><a href="#h0-16-19" id="h0-16-19" class="d">-destroywin(GtkWidget* w, Client *c) {
</a><a href="#h0-16-20" id="h0-16-20" class="i">+void
</a><a href="#h0-16-21" id="h0-16-21" class="i">+destroywin(GtkWidget* w, Client *c)
</a><a href="#h0-16-22" id="h0-16-22" class="i">+{
</a> 	destroyclient(c);
 }
 
<a href="#h0-16-26" id="h0-16-26" class="d">-static void
</a><a href="#h0-16-27" id="h0-16-27" class="d">-die(const char *errstr, ...) {
</a><a href="#h0-16-28" id="h0-16-28" class="i">+void
</a><a href="#h0-16-29" id="h0-16-29" class="i">+die(const char *errstr, ...)
</a><a href="#h0-16-30" id="h0-16-30" class="i">+{
</a> 	va_list ap;
 
 	va_start(ap, errstr);
<a href="#h0-17" id="h0-17" class="h">@@ -558,8 +584,9 @@ die(const char *errstr, ...) {
</a> 	exit(EXIT_FAILURE);
 }
 
<a href="#h0-17-3" id="h0-17-3" class="d">-static void
</a><a href="#h0-17-4" id="h0-17-4" class="d">-find(Client *c, const Arg *arg) {
</a><a href="#h0-17-5" id="h0-17-5" class="i">+void
</a><a href="#h0-17-6" id="h0-17-6" class="i">+find(Client *c, const Arg *arg)
</a><a href="#h0-17-7" id="h0-17-7" class="i">+{
</a> 	const char *s;
 
 	s = getatom(c, AtomFind);
<a href="#h0-18" id="h0-18" class="h">@@ -567,28 +594,29 @@ find(Client *c, const Arg *arg) {
</a> 	webkit_web_view_search_text(c-&gt;view, s, FALSE, forward, TRUE);
 }
 
<a href="#h0-18-3" id="h0-18-3" class="d">-static void
</a><a href="#h0-18-4" id="h0-18-4" class="d">-fullscreen(Client *c, const Arg *arg) {
</a><a href="#h0-18-5" id="h0-18-5" class="d">-	if (c-&gt;fullscreen) {
</a><a href="#h0-18-6" id="h0-18-6" class="i">+void
</a><a href="#h0-18-7" id="h0-18-7" class="i">+fullscreen(Client *c, const Arg *arg)
</a><a href="#h0-18-8" id="h0-18-8" class="i">+{
</a><a href="#h0-18-9" id="h0-18-9" class="i">+	if (c-&gt;fullscreen)
</a> 		gtk_window_unfullscreen(GTK_WINDOW(c-&gt;win));
<a href="#h0-18-11" id="h0-18-11" class="d">-	} else {
</a><a href="#h0-18-12" id="h0-18-12" class="i">+	else
</a> 		gtk_window_fullscreen(GTK_WINDOW(c-&gt;win));
<a href="#h0-18-14" id="h0-18-14" class="d">-	}
</a> 	c-&gt;fullscreen = !c-&gt;fullscreen;
 }
 
<a href="#h0-18-18" id="h0-18-18" class="d">-static void
</a><a href="#h0-18-19" id="h0-18-19" class="i">+void
</a> geopolicyrequested(WebKitWebView *v, WebKitWebFrame *f,
<a href="#h0-18-21" id="h0-18-21" class="d">-		WebKitGeolocationPolicyDecision *d, Client *c) {
</a><a href="#h0-18-22" id="h0-18-22" class="d">-	if (allowgeolocation) {
</a><a href="#h0-18-23" id="h0-18-23" class="i">+                   WebKitGeolocationPolicyDecision *d, Client *c)
</a><a href="#h0-18-24" id="h0-18-24" class="i">+{
</a><a href="#h0-18-25" id="h0-18-25" class="i">+	if (allowgeolocation)
</a> 		webkit_geolocation_policy_allow(d);
<a href="#h0-18-27" id="h0-18-27" class="d">-	} else {
</a><a href="#h0-18-28" id="h0-18-28" class="i">+	else
</a> 		webkit_geolocation_policy_deny(d);
<a href="#h0-18-30" id="h0-18-30" class="d">-	}
</a> }
 
<a href="#h0-18-33" id="h0-18-33" class="d">-static const char *
</a><a href="#h0-18-34" id="h0-18-34" class="d">-getatom(Client *c, int a) {
</a><a href="#h0-18-35" id="h0-18-35" class="i">+const char *
</a><a href="#h0-18-36" id="h0-18-36" class="i">+getatom(Client *c, int a)
</a><a href="#h0-18-37" id="h0-18-37" class="i">+{
</a> 	static char buf[BUFSIZ];
 	Atom adummy;
 	int idummy;
<a href="#h0-19" id="h0-19" class="h">@@ -596,20 +624,20 @@ getatom(Client *c, int a) {
</a> 	unsigned char *p = NULL;
 
 	XGetWindowProperty(dpy, GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window),
<a href="#h0-19-3" id="h0-19-3" class="d">-			atoms[a], 0L, BUFSIZ, False, XA_STRING,
</a><a href="#h0-19-4" id="h0-19-4" class="d">-			&amp;adummy, &amp;idummy, &amp;ldummy, &amp;ldummy, &amp;p);
</a><a href="#h0-19-5" id="h0-19-5" class="d">-	if (p) {
</a><a href="#h0-19-6" id="h0-19-6" class="i">+	                   atoms[a], 0L, BUFSIZ, False, XA_STRING,
</a><a href="#h0-19-7" id="h0-19-7" class="i">+	                   &amp;adummy, &amp;idummy, &amp;ldummy, &amp;ldummy, &amp;p);
</a><a href="#h0-19-8" id="h0-19-8" class="i">+	if (p)
</a> 		strncpy(buf, (char *)p, LENGTH(buf)-1);
<a href="#h0-19-10" id="h0-19-10" class="d">-	} else {
</a><a href="#h0-19-11" id="h0-19-11" class="i">+	else
</a> 		buf[0] = &#39;\0&#39;;
<a href="#h0-19-13" id="h0-19-13" class="d">-	}
</a> 	XFree(p);
 
 	return buf;
 }
 
<a href="#h0-19-19" id="h0-19-19" class="d">-static char *
</a><a href="#h0-19-20" id="h0-19-20" class="d">-geturi(Client *c) {
</a><a href="#h0-19-21" id="h0-19-21" class="i">+char *
</a><a href="#h0-19-22" id="h0-19-22" class="i">+geturi(Client *c)
</a><a href="#h0-19-23" id="h0-19-23" class="i">+{
</a> 	char *uri;
 
 	if (!(uri = (char *)webkit_web_view_get_uri(c-&gt;view)))
<a href="#h0-20" id="h0-20" class="h">@@ -617,8 +645,9 @@ geturi(Client *c) {
</a> 	return uri;
 }
 
<a href="#h0-20-3" id="h0-20-3" class="d">-static gchar *
</a><a href="#h0-20-4" id="h0-20-4" class="d">-getstyle(const char *uri) {
</a><a href="#h0-20-5" id="h0-20-5" class="i">+gchar *
</a><a href="#h0-20-6" id="h0-20-6" class="i">+getstyle(const char *uri)
</a><a href="#h0-20-7" id="h0-20-7" class="i">+{
</a> 	int i;
 
 	if (stylefile != NULL)
<a href="#h0-21" id="h0-21" class="h">@@ -626,15 +655,15 @@ getstyle(const char *uri) {
</a> 
 	for (i = 0; i &lt; LENGTH(styles); i++) {
 		if (styles[i].regex &amp;&amp; !regexec(&amp;(styles[i].re), uri, 0,
<a href="#h0-21-3" id="h0-21-3" class="d">-					NULL, 0)) {
</a><a href="#h0-21-4" id="h0-21-4" class="i">+		    NULL, 0))
</a> 			return g_strconcat(&quot;file://&quot;, styles[i].style, NULL);
<a href="#h0-21-6" id="h0-21-6" class="d">-		}
</a> 	}
 	return g_strdup(&quot;&quot;);
 }
 
<a href="#h0-21-11" id="h0-21-11" class="d">-static void
</a><a href="#h0-21-12" id="h0-21-12" class="d">-handleplumb(Client *c, WebKitWebView *w, const gchar *uri) {
</a><a href="#h0-21-13" id="h0-21-13" class="i">+void
</a><a href="#h0-21-14" id="h0-21-14" class="i">+handleplumb(Client *c, WebKitWebView *w, const gchar *uri)
</a><a href="#h0-21-15" id="h0-21-15" class="i">+{
</a> 	Arg arg;
 
 	webkit_web_view_stop_loading(w);
<a href="#h0-22" id="h0-22" class="h">@@ -642,8 +671,9 @@ handleplumb(Client *c, WebKitWebView *w, const gchar *uri) {
</a> 	spawn(c, &amp;arg);
 }
 
<a href="#h0-22-3" id="h0-22-3" class="d">-static gboolean
</a><a href="#h0-22-4" id="h0-22-4" class="d">-initdownload(WebKitWebView *view, WebKitDownload *o, Client *c) {
</a><a href="#h0-22-5" id="h0-22-5" class="i">+gboolean
</a><a href="#h0-22-6" id="h0-22-6" class="i">+initdownload(WebKitWebView *view, WebKitDownload *o, Client *c)
</a><a href="#h0-22-7" id="h0-22-7" class="i">+{
</a> 	Arg arg;
 
 	updatewinid(c);
<a href="#h0-23" id="h0-23" class="h">@@ -652,22 +682,24 @@ initdownload(WebKitWebView *view, WebKitDownload *o, Client *c) {
</a> 	return FALSE;
 }
 
<a href="#h0-23-3" id="h0-23-3" class="d">-static void
</a><a href="#h0-23-4" id="h0-23-4" class="d">-inspector(Client *c, const Arg *arg) {
</a><a href="#h0-23-5" id="h0-23-5" class="d">-	if (c-&gt;isinspecting) {
</a><a href="#h0-23-6" id="h0-23-6" class="i">+void
</a><a href="#h0-23-7" id="h0-23-7" class="i">+inspector(Client *c, const Arg *arg)
</a><a href="#h0-23-8" id="h0-23-8" class="i">+{
</a><a href="#h0-23-9" id="h0-23-9" class="i">+	if (c-&gt;isinspecting)
</a> 		webkit_web_inspector_close(c-&gt;inspector);
<a href="#h0-23-11" id="h0-23-11" class="d">-	} else {
</a><a href="#h0-23-12" id="h0-23-12" class="i">+	else
</a> 		webkit_web_inspector_show(c-&gt;inspector);
<a href="#h0-23-14" id="h0-23-14" class="d">-	}
</a> }
 
<a href="#h0-23-17" id="h0-23-17" class="d">-static WebKitWebView *
</a><a href="#h0-23-18" id="h0-23-18" class="d">-inspector_new(WebKitWebInspector *i, WebKitWebView *v, Client *c) {
</a><a href="#h0-23-19" id="h0-23-19" class="i">+WebKitWebView *
</a><a href="#h0-23-20" id="h0-23-20" class="i">+inspector_new(WebKitWebInspector *i, WebKitWebView *v, Client *c)
</a><a href="#h0-23-21" id="h0-23-21" class="i">+{
</a> 	return WEBKIT_WEB_VIEW(webkit_web_view_new());
 }
 
<a href="#h0-23-25" id="h0-23-25" class="d">-static gboolean
</a><a href="#h0-23-26" id="h0-23-26" class="d">-inspector_show(WebKitWebInspector *i, Client *c) {
</a><a href="#h0-23-27" id="h0-23-27" class="i">+gboolean
</a><a href="#h0-23-28" id="h0-23-28" class="i">+inspector_show(WebKitWebInspector *i, Client *c)
</a><a href="#h0-23-29" id="h0-23-29" class="i">+{
</a> 	WebKitWebView *w;
 
 	if (c-&gt;isinspecting)
<a href="#h0-24" id="h0-24" class="h">@@ -681,8 +713,9 @@ inspector_show(WebKitWebInspector *i, Client *c) {
</a> 	return true;
 }
 
<a href="#h0-24-3" id="h0-24-3" class="d">-static gboolean
</a><a href="#h0-24-4" id="h0-24-4" class="d">-inspector_close(WebKitWebInspector *i, Client *c) {
</a><a href="#h0-24-5" id="h0-24-5" class="i">+gboolean
</a><a href="#h0-24-6" id="h0-24-6" class="i">+inspector_close(WebKitWebInspector *i, Client *c)
</a><a href="#h0-24-7" id="h0-24-7" class="i">+{
</a> 	GtkWidget *w;
 
 	if (!c-&gt;isinspecting)
<a href="#h0-25" id="h0-25" class="h">@@ -696,14 +729,16 @@ inspector_close(WebKitWebInspector *i, Client *c) {
</a> 	return true;
 }
 
<a href="#h0-25-3" id="h0-25-3" class="d">-static void
</a><a href="#h0-25-4" id="h0-25-4" class="d">-inspector_finished(WebKitWebInspector *i, Client *c) {
</a><a href="#h0-25-5" id="h0-25-5" class="i">+void
</a><a href="#h0-25-6" id="h0-25-6" class="i">+inspector_finished(WebKitWebInspector *i, Client *c)
</a><a href="#h0-25-7" id="h0-25-7" class="i">+{
</a> 	g_free(c-&gt;inspector);
 }
 
<a href="#h0-25-11" id="h0-25-11" class="d">-static gboolean
</a><a href="#h0-25-12" id="h0-25-12" class="d">-keypress(GtkAccelGroup *group, GObject *obj,
</a><a href="#h0-25-13" id="h0-25-13" class="d">-		guint key, GdkModifierType mods, Client *c) {
</a><a href="#h0-25-14" id="h0-25-14" class="i">+gboolean
</a><a href="#h0-25-15" id="h0-25-15" class="i">+keypress(GtkAccelGroup *group, GObject *obj, guint key, GdkModifierType mods,
</a><a href="#h0-25-16" id="h0-25-16" class="i">+         Client *c)
</a><a href="#h0-25-17" id="h0-25-17" class="i">+{
</a> 	guint i;
 	gboolean processed = FALSE;
 
<a href="#h0-26" id="h0-26" class="h">@@ -712,8 +747,8 @@ keypress(GtkAccelGroup *group, GObject *obj,
</a> 	updatewinid(c);
 	for (i = 0; i &lt; LENGTH(keys); i++) {
 		if (key == keys[i].keyval
<a href="#h0-26-3" id="h0-26-3" class="d">-				&amp;&amp; mods == keys[i].mod
</a><a href="#h0-26-4" id="h0-26-4" class="d">-				&amp;&amp; keys[i].func) {
</a><a href="#h0-26-5" id="h0-26-5" class="i">+		    &amp;&amp; mods == keys[i].mod
</a><a href="#h0-26-6" id="h0-26-6" class="i">+		    &amp;&amp; keys[i].func) {
</a> 			keys[i].func(c, &amp;(keys[i].arg));
 			processed = TRUE;
 		}
<a href="#h0-27" id="h0-27" class="h">@@ -722,8 +757,9 @@ keypress(GtkAccelGroup *group, GObject *obj,
</a> 	return processed;
 }
 
<a href="#h0-27-3" id="h0-27-3" class="d">-static void
</a><a href="#h0-27-4" id="h0-27-4" class="d">-linkhover(WebKitWebView *v, const char* t, const char* l, Client *c) {
</a><a href="#h0-27-5" id="h0-27-5" class="i">+void
</a><a href="#h0-27-6" id="h0-27-6" class="i">+linkhover(WebKitWebView *v, const char* t, const char* l, Client *c)
</a><a href="#h0-27-7" id="h0-27-7" class="i">+{
</a> 	if (l) {
 		c-&gt;linkhover = copystr(&amp;c-&gt;linkhover, l);
 	} else if (c-&gt;linkhover) {
<a href="#h0-28" id="h0-28" class="h">@@ -733,8 +769,9 @@ linkhover(WebKitWebView *v, const char* t, const char* l, Client *c) {
</a> 	updatetitle(c);
 }
 
<a href="#h0-28-3" id="h0-28-3" class="d">-static void
</a><a href="#h0-28-4" id="h0-28-4" class="d">-loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a><a href="#h0-28-5" id="h0-28-5" class="i">+void
</a><a href="#h0-28-6" id="h0-28-6" class="i">+loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c)
</a><a href="#h0-28-7" id="h0-28-7" class="i">+{
</a> 	WebKitWebFrame *frame;
 	WebKitWebDataSource *src;
 	WebKitNetworkRequest *request;
<a href="#h0-29" id="h0-29" class="h">@@ -751,13 +788,13 @@ loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a> 			request = webkit_web_data_source_get_request(src);
 			msg = webkit_network_request_get_message(request);
 			c-&gt;sslfailed = !(soup_message_get_flags(msg)
<a href="#h0-29-3" id="h0-29-3" class="d">-			                &amp; SOUP_MESSAGE_CERTIFICATE_TRUSTED);
</a><a href="#h0-29-4" id="h0-29-4" class="i">+			               &amp; SOUP_MESSAGE_CERTIFICATE_TRUSTED);
</a> 		}
 		setatom(c, AtomUri, uri);
 
 		if (enablestyles) {
 			g_object_set(G_OBJECT(set), &quot;user-stylesheet-uri&quot;,
<a href="#h0-29-10" id="h0-29-10" class="d">-					getstyle(uri), NULL);
</a><a href="#h0-29-11" id="h0-29-11" class="i">+			             getstyle(uri), NULL);
</a> 		}
 		break;
 	case WEBKIT_LOAD_FINISHED:
<a href="#h0-30" id="h0-30" class="h">@@ -773,8 +810,9 @@ loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a> 	}
 }
 
<a href="#h0-30-3" id="h0-30-3" class="d">-static void
</a><a href="#h0-30-4" id="h0-30-4" class="d">-loaduri(Client *c, const Arg *arg) {
</a><a href="#h0-30-5" id="h0-30-5" class="i">+void
</a><a href="#h0-30-6" id="h0-30-6" class="i">+loaduri(Client *c, const Arg *arg)
</a><a href="#h0-30-7" id="h0-30-7" class="i">+{
</a> 	char *u = NULL, *rp;
 	const char *uri = (char *)arg-&gt;v;
 	Arg a = { .b = FALSE };
<a href="#h0-31" id="h0-31" class="h">@@ -790,7 +828,7 @@ loaduri(Client *c, const Arg *arg) {
</a> 		free(rp);
 	} else {
 		u = g_strrstr(uri, &quot;://&quot;) ? g_strdup(uri)
<a href="#h0-31-3" id="h0-31-3" class="d">-			: g_strdup_printf(&quot;http://%s&quot;, uri);
</a><a href="#h0-31-4" id="h0-31-4" class="i">+		    : g_strdup_printf(&quot;http://%s&quot;, uri);
</a> 	}
 
 	setatom(c, AtomUri, uri);
<a href="#h0-32" id="h0-32" class="h">@@ -807,14 +845,16 @@ loaduri(Client *c, const Arg *arg) {
</a> 	g_free(u);
 }
 
<a href="#h0-32-3" id="h0-32-3" class="d">-static void
</a><a href="#h0-32-4" id="h0-32-4" class="d">-navigate(Client *c, const Arg *arg) {
</a><a href="#h0-32-5" id="h0-32-5" class="i">+void
</a><a href="#h0-32-6" id="h0-32-6" class="i">+navigate(Client *c, const Arg *arg)
</a><a href="#h0-32-7" id="h0-32-7" class="i">+{
</a> 	int steps = *(int *)arg;
 	webkit_web_view_go_back_or_forward(c-&gt;view, steps);
 }
 
<a href="#h0-32-12" id="h0-32-12" class="d">-static Client *
</a><a href="#h0-32-13" id="h0-32-13" class="d">-newclient(void) {
</a><a href="#h0-32-14" id="h0-32-14" class="i">+Client *
</a><a href="#h0-32-15" id="h0-32-15" class="i">+newclient(void)
</a><a href="#h0-32-16" id="h0-32-16" class="i">+{
</a> 	Client *c;
 	WebKitWebSettings *settings;
 	WebKitWebFrame *frame;
<a href="#h0-33" id="h0-33" class="h">@@ -851,11 +891,11 @@ newclient(void) {
</a> 	}
 	gtk_window_set_default_size(GTK_WINDOW(c-&gt;win), 800, 600);
 	g_signal_connect(G_OBJECT(c-&gt;win),
<a href="#h0-33-3" id="h0-33-3" class="d">-			&quot;destroy&quot;,
</a><a href="#h0-33-4" id="h0-33-4" class="d">-			G_CALLBACK(destroywin), c);
</a><a href="#h0-33-5" id="h0-33-5" class="i">+	                 &quot;destroy&quot;,
</a><a href="#h0-33-6" id="h0-33-6" class="i">+			 G_CALLBACK(destroywin), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;win),
<a href="#h0-33-8" id="h0-33-8" class="d">-			&quot;leave_notify_event&quot;,
</a><a href="#h0-33-9" id="h0-33-9" class="d">-			G_CALLBACK(titlechangeleave), c);
</a><a href="#h0-33-10" id="h0-33-10" class="i">+	                 &quot;leave_notify_event&quot;,
</a><a href="#h0-33-11" id="h0-33-11" class="i">+			 G_CALLBACK(titlechangeleave), c);
</a> 
 	if (!kioskmode)
 		addaccelgroup(c);
<a href="#h0-34" id="h0-34" class="h">@@ -871,61 +911,63 @@ newclient(void) {
</a> 	c-&gt;view = WEBKIT_WEB_VIEW(webkit_web_view_new());
 
 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-3" id="h0-34-3" class="d">-			&quot;notify::title&quot;,
</a><a href="#h0-34-4" id="h0-34-4" class="d">-			G_CALLBACK(titlechange), c);
</a><a href="#h0-34-5" id="h0-34-5" class="i">+	                 &quot;notify::title&quot;,
</a><a href="#h0-34-6" id="h0-34-6" class="i">+			 G_CALLBACK(titlechange), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-8" id="h0-34-8" class="d">-			&quot;hovering-over-link&quot;,
</a><a href="#h0-34-9" id="h0-34-9" class="d">-			G_CALLBACK(linkhover), c);
</a><a href="#h0-34-10" id="h0-34-10" class="i">+	                 &quot;hovering-over-link&quot;,
</a><a href="#h0-34-11" id="h0-34-11" class="i">+			 G_CALLBACK(linkhover), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-13" id="h0-34-13" class="d">-			&quot;geolocation-policy-decision-requested&quot;,
</a><a href="#h0-34-14" id="h0-34-14" class="d">-			G_CALLBACK(geopolicyrequested), c);
</a><a href="#h0-34-15" id="h0-34-15" class="i">+	                 &quot;geolocation-policy-decision-requested&quot;,
</a><a href="#h0-34-16" id="h0-34-16" class="i">+			 G_CALLBACK(geopolicyrequested), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-18" id="h0-34-18" class="d">-			&quot;create-web-view&quot;,
</a><a href="#h0-34-19" id="h0-34-19" class="d">-			G_CALLBACK(createwindow), c);
</a><a href="#h0-34-20" id="h0-34-20" class="i">+	                 &quot;create-web-view&quot;,
</a><a href="#h0-34-21" id="h0-34-21" class="i">+			 G_CALLBACK(createwindow), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-23" id="h0-34-23" class="d">-			&quot;new-window-policy-decision-requested&quot;,
</a><a href="#h0-34-24" id="h0-34-24" class="d">-			G_CALLBACK(decidewindow), c);
</a><a href="#h0-34-25" id="h0-34-25" class="i">+	                 &quot;new-window-policy-decision-requested&quot;,
</a><a href="#h0-34-26" id="h0-34-26" class="i">+			 G_CALLBACK(decidewindow), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-28" id="h0-34-28" class="d">-			&quot;mime-type-policy-decision-requested&quot;,
</a><a href="#h0-34-29" id="h0-34-29" class="d">-			G_CALLBACK(decidedownload), c);
</a><a href="#h0-34-30" id="h0-34-30" class="i">+	                 &quot;mime-type-policy-decision-requested&quot;,
</a><a href="#h0-34-31" id="h0-34-31" class="i">+			 G_CALLBACK(decidedownload), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-33" id="h0-34-33" class="d">-			&quot;window-object-cleared&quot;,
</a><a href="#h0-34-34" id="h0-34-34" class="d">-			G_CALLBACK(windowobjectcleared), c);
</a><a href="#h0-34-35" id="h0-34-35" class="i">+	                 &quot;window-object-cleared&quot;,
</a><a href="#h0-34-36" id="h0-34-36" class="i">+			 G_CALLBACK(windowobjectcleared), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-38" id="h0-34-38" class="d">-			&quot;notify::load-status&quot;,
</a><a href="#h0-34-39" id="h0-34-39" class="d">-			G_CALLBACK(loadstatuschange), c);
</a><a href="#h0-34-40" id="h0-34-40" class="i">+	                 &quot;notify::load-status&quot;,
</a><a href="#h0-34-41" id="h0-34-41" class="i">+			 G_CALLBACK(loadstatuschange), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-43" id="h0-34-43" class="d">-			&quot;notify::progress&quot;,
</a><a href="#h0-34-44" id="h0-34-44" class="d">-			G_CALLBACK(progresschange), c);
</a><a href="#h0-34-45" id="h0-34-45" class="i">+	                 &quot;notify::progress&quot;,
</a><a href="#h0-34-46" id="h0-34-46" class="i">+			 G_CALLBACK(progresschange), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-48" id="h0-34-48" class="d">-			&quot;download-requested&quot;,
</a><a href="#h0-34-49" id="h0-34-49" class="d">-			G_CALLBACK(initdownload), c);
</a><a href="#h0-34-50" id="h0-34-50" class="i">+	                 &quot;download-requested&quot;,
</a><a href="#h0-34-51" id="h0-34-51" class="i">+			 G_CALLBACK(initdownload), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-53" id="h0-34-53" class="d">-			&quot;button-release-event&quot;,
</a><a href="#h0-34-54" id="h0-34-54" class="d">-			G_CALLBACK(buttonrelease), c);
</a><a href="#h0-34-55" id="h0-34-55" class="i">+	                 &quot;button-release-event&quot;,
</a><a href="#h0-34-56" id="h0-34-56" class="i">+			 G_CALLBACK(buttonrelease), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-58" id="h0-34-58" class="d">-			&quot;context-menu&quot;,
</a><a href="#h0-34-59" id="h0-34-59" class="d">-			G_CALLBACK(contextmenu), c);
</a><a href="#h0-34-60" id="h0-34-60" class="i">+	                 &quot;context-menu&quot;,
</a><a href="#h0-34-61" id="h0-34-61" class="i">+			 G_CALLBACK(contextmenu), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-63" id="h0-34-63" class="d">-			&quot;resource-request-starting&quot;,
</a><a href="#h0-34-64" id="h0-34-64" class="d">-			G_CALLBACK(beforerequest), c);
</a><a href="#h0-34-65" id="h0-34-65" class="i">+	                 &quot;resource-request-starting&quot;,
</a><a href="#h0-34-66" id="h0-34-66" class="i">+			 G_CALLBACK(beforerequest), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view),
<a href="#h0-34-68" id="h0-34-68" class="d">-			&quot;should-show-delete-interface-for-element&quot;,
</a><a href="#h0-34-69" id="h0-34-69" class="d">-			G_CALLBACK(deletion_interface), c);
</a><a href="#h0-34-70" id="h0-34-70" class="i">+	                 &quot;should-show-delete-interface-for-element&quot;,
</a><a href="#h0-34-71" id="h0-34-71" class="i">+			 G_CALLBACK(deletion_interface), c);
</a> 
 	/* Scrolled Window */
 	c-&gt;scroll = gtk_scrolled_window_new(NULL, NULL);
 
 	frame = webkit_web_view_get_main_frame(WEBKIT_WEB_VIEW(c-&gt;view));
 	g_signal_connect(G_OBJECT(frame), &quot;scrollbars-policy-changed&quot;,
<a href="#h0-34-78" id="h0-34-78" class="d">-			G_CALLBACK(gtk_true), NULL);
</a><a href="#h0-34-79" id="h0-34-79" class="i">+	                 G_CALLBACK(gtk_true), NULL);
</a> 
 	if (!enablescrollbars) {
 		gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll),
<a href="#h0-34-83" id="h0-34-83" class="d">-				GTK_POLICY_NEVER, GTK_POLICY_NEVER);
</a><a href="#h0-34-84" id="h0-34-84" class="i">+		                               GTK_POLICY_NEVER,
</a><a href="#h0-34-85" id="h0-34-85" class="i">+					       GTK_POLICY_NEVER);
</a> 	} else {
 		gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll),
<a href="#h0-34-88" id="h0-34-88" class="d">-				GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
</a><a href="#h0-34-89" id="h0-34-89" class="i">+		                               GTK_POLICY_AUTOMATIC,
</a><a href="#h0-34-90" id="h0-34-90" class="i">+					       GTK_POLICY_AUTOMATIC);
</a> 	}
 
 	/* Arranging */
<a href="#h0-35" id="h0-35" class="h">@@ -934,8 +976,8 @@ newclient(void) {
</a> 	gtk_container_add(GTK_CONTAINER(c-&gt;vbox), c-&gt;scroll);
 
 	/* Setup */
<a href="#h0-35-3" id="h0-35-3" class="d">-	gtk_box_set_child_packing(GTK_BOX(c-&gt;vbox), c-&gt;scroll, TRUE,
</a><a href="#h0-35-4" id="h0-35-4" class="d">-			TRUE, 0, GTK_PACK_START);
</a><a href="#h0-35-5" id="h0-35-5" class="i">+	gtk_box_set_child_packing(GTK_BOX(c-&gt;vbox), c-&gt;scroll, TRUE, TRUE, 0,
</a><a href="#h0-35-6" id="h0-35-6" class="i">+	                          GTK_PACK_START);
</a> 	gtk_widget_grab_focus(GTK_WIDGET(c-&gt;view));
 	gtk_widget_show(c-&gt;pane);
 	gtk_widget_show(c-&gt;vbox);
<a href="#h0-36" id="h0-36" class="h">@@ -943,7 +985,7 @@ newclient(void) {
</a> 	gtk_widget_show(GTK_WIDGET(c-&gt;view));
 	gtk_widget_show(c-&gt;win);
 	gtk_window_set_geometry_hints(GTK_WINDOW(c-&gt;win), NULL, &amp;hints,
<a href="#h0-36-3" id="h0-36-3" class="d">-			GDK_HINT_MIN_SIZE);
</a><a href="#h0-36-4" id="h0-36-4" class="i">+	                              GDK_HINT_MIN_SIZE);
</a> 	gdk_window_set_events(GTK_WIDGET(c-&gt;win)-&gt;window, GDK_ALL_EVENTS_MASK);
 	gdk_window_add_filter(GTK_WIDGET(c-&gt;win)-&gt;window, processx, c);
 	webkit_web_view_set_full_content_zoom(c-&gt;view, TRUE);
<a href="#h0-37" id="h0-37" class="h">@@ -955,25 +997,26 @@ newclient(void) {
</a> 		ua = useragent;
 	g_object_set(G_OBJECT(settings), &quot;user-agent&quot;, ua, NULL);
 	if (enablestyles) {
<a href="#h0-37-3" id="h0-37-3" class="d">-		g_object_set(G_OBJECT(settings), &quot;user-stylesheet-uri&quot;,
</a><a href="#h0-37-4" id="h0-37-4" class="d">-		             getstyle(&quot;about:blank&quot;), NULL);
</a><a href="#h0-37-5" id="h0-37-5" class="i">+		g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-6" id="h0-37-6" class="i">+		             &quot;user-stylesheet-uri&quot;, getstyle(&quot;about:blank&quot;),
</a><a href="#h0-37-7" id="h0-37-7" class="i">+			     NULL);
</a> 	}
<a href="#h0-37-9" id="h0-37-9" class="d">-	g_object_set(G_OBJECT(settings), &quot;auto-load-images&quot;, loadimages,
</a><a href="#h0-37-10" id="h0-37-10" class="d">-			NULL);
</a><a href="#h0-37-11" id="h0-37-11" class="d">-	g_object_set(G_OBJECT(settings), &quot;enable-plugins&quot;, enableplugins,
</a><a href="#h0-37-12" id="h0-37-12" class="d">-			NULL);
</a><a href="#h0-37-13" id="h0-37-13" class="d">-	g_object_set(G_OBJECT(settings), &quot;enable-scripts&quot;, enablescripts,
</a><a href="#h0-37-14" id="h0-37-14" class="d">-			NULL);
</a><a href="#h0-37-15" id="h0-37-15" class="d">-	g_object_set(G_OBJECT(settings), &quot;enable-spatial-navigation&quot;,
</a><a href="#h0-37-16" id="h0-37-16" class="d">-			enablespatialbrowsing, NULL);
</a><a href="#h0-37-17" id="h0-37-17" class="d">-	g_object_set(G_OBJECT(settings), &quot;enable-developer-extras&quot;,
</a><a href="#h0-37-18" id="h0-37-18" class="d">-			enableinspector, NULL);
</a><a href="#h0-37-19" id="h0-37-19" class="d">-	g_object_set(G_OBJECT(settings), &quot;enable-default-context-menu&quot;,
</a><a href="#h0-37-20" id="h0-37-20" class="d">-			kioskmode ^ 1, NULL);
</a><a href="#h0-37-21" id="h0-37-21" class="d">-	g_object_set(G_OBJECT(settings), &quot;default-font-size&quot;,
</a><a href="#h0-37-22" id="h0-37-22" class="d">-			defaultfontsize, NULL);
</a><a href="#h0-37-23" id="h0-37-23" class="d">-	g_object_set(G_OBJECT(settings), &quot;resizable-text-areas&quot;,
</a><a href="#h0-37-24" id="h0-37-24" class="d">-			1, NULL);
</a><a href="#h0-37-25" id="h0-37-25" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-26" id="h0-37-26" class="i">+	             &quot;auto-load-images&quot;, loadimages, NULL);
</a><a href="#h0-37-27" id="h0-37-27" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-28" id="h0-37-28" class="i">+	             &quot;enable-plugins&quot;, enableplugins, NULL);
</a><a href="#h0-37-29" id="h0-37-29" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-30" id="h0-37-30" class="i">+	             &quot;enable-scripts&quot;, enablescripts, NULL);
</a><a href="#h0-37-31" id="h0-37-31" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-32" id="h0-37-32" class="i">+		     &quot;enable-spatial-navigation&quot;, enablespatialbrowsing, NULL);
</a><a href="#h0-37-33" id="h0-37-33" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-34" id="h0-37-34" class="i">+	             &quot;enable-developer-extras&quot;, enableinspector, NULL);
</a><a href="#h0-37-35" id="h0-37-35" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-36" id="h0-37-36" class="i">+	             &quot;enable-default-context-menu&quot;, kioskmode ^ 1, NULL);
</a><a href="#h0-37-37" id="h0-37-37" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-38" id="h0-37-38" class="i">+	             &quot;default-font-size&quot;, defaultfontsize, NULL);
</a><a href="#h0-37-39" id="h0-37-39" class="i">+	g_object_set(G_OBJECT(settings),
</a><a href="#h0-37-40" id="h0-37-40" class="i">+	             &quot;resizable-text-areas&quot;, 1, NULL);
</a> 
 	/*
 	 * While stupid, CSS specifies that a pixel represents 1/96 of an inch.
<a href="#h0-38" id="h0-38" class="h">@@ -984,8 +1027,8 @@ newclient(void) {
</a> 		screen = gdk_window_get_screen(GTK_WIDGET(c-&gt;win)-&gt;window);
 		dpi = gdk_screen_get_resolution(screen);
 		if (dpi != -1) {
<a href="#h0-38-3" id="h0-38-3" class="d">-			g_object_set(G_OBJECT(settings), &quot;enforce-96-dpi&quot;, true,
</a><a href="#h0-38-4" id="h0-38-4" class="d">-					NULL);
</a><a href="#h0-38-5" id="h0-38-5" class="i">+			g_object_set(G_OBJECT(settings),
</a><a href="#h0-38-6" id="h0-38-6" class="i">+			             &quot;enforce-96-dpi&quot;, true, NULL);
</a> 			webkit_web_view_set_zoom_level(c-&gt;view, dpi/96);
 		}
 	}
<a href="#h0-39" id="h0-39" class="h">@@ -994,16 +1037,15 @@ newclient(void) {
</a> 		webkit_web_view_set_zoom_level(c-&gt;view, zoomlevel);
 
 	if (enableinspector) {
<a href="#h0-39-3" id="h0-39-3" class="d">-		c-&gt;inspector = WEBKIT_WEB_INSPECTOR(
</a><a href="#h0-39-4" id="h0-39-4" class="d">-				webkit_web_view_get_inspector(c-&gt;view));
</a><a href="#h0-39-5" id="h0-39-5" class="i">+		c-&gt;inspector = webkit_web_view_get_inspector(c-&gt;view);
</a> 		g_signal_connect(G_OBJECT(c-&gt;inspector), &quot;inspect-web-view&quot;,
<a href="#h0-39-7" id="h0-39-7" class="d">-				G_CALLBACK(inspector_new), c);
</a><a href="#h0-39-8" id="h0-39-8" class="i">+		                 G_CALLBACK(inspector_new), c);
</a> 		g_signal_connect(G_OBJECT(c-&gt;inspector), &quot;show-window&quot;,
<a href="#h0-39-10" id="h0-39-10" class="d">-				G_CALLBACK(inspector_show), c);
</a><a href="#h0-39-11" id="h0-39-11" class="i">+		                 G_CALLBACK(inspector_show), c);
</a> 		g_signal_connect(G_OBJECT(c-&gt;inspector), &quot;close-window&quot;,
<a href="#h0-39-13" id="h0-39-13" class="d">-				G_CALLBACK(inspector_close), c);
</a><a href="#h0-39-14" id="h0-39-14" class="i">+		                 G_CALLBACK(inspector_close), c);
</a> 		g_signal_connect(G_OBJECT(c-&gt;inspector), &quot;finished&quot;,
<a href="#h0-39-16" id="h0-39-16" class="d">-				G_CALLBACK(inspector_finished), c);
</a><a href="#h0-39-17" id="h0-39-17" class="i">+		                 G_CALLBACK(inspector_finished), c);
</a> 		c-&gt;isinspecting = false;
 	}
 
<a href="#h0-40" id="h0-40" class="h">@@ -1023,7 +1065,7 @@ newclient(void) {
</a> 	if (showxid) {
 		gdk_display_sync(gtk_widget_get_display(c-&gt;win));
 		printf(&quot;%u\n&quot;,
<a href="#h0-40-3" id="h0-40-3" class="d">-			(guint)GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window));
</a><a href="#h0-40-4" id="h0-40-4" class="i">+		       (guint)GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window));
</a> 		fflush(NULL);
                 if (fclose(stdout) != 0) {
 			die(&quot;Error closing stdout&quot;);
<a href="#h0-41" id="h0-41" class="h">@@ -1033,8 +1075,9 @@ newclient(void) {
</a> 	return c;
 }
 
<a href="#h0-41-3" id="h0-41-3" class="d">-static void
</a><a href="#h0-41-4" id="h0-41-4" class="d">-newwindow(Client *c, const Arg *arg, gboolean noembed) {
</a><a href="#h0-41-5" id="h0-41-5" class="i">+void
</a><a href="#h0-41-6" id="h0-41-6" class="i">+newwindow(Client *c, const Arg *arg, gboolean noembed)
</a><a href="#h0-41-7" id="h0-41-7" class="i">+{
</a> 	guint i = 0;
 	const char *cmd[18], *uri;
 	const Arg a = { .v = (void *)cmd };
<a href="#h0-42" id="h0-42" class="h">@@ -1074,21 +1117,22 @@ newwindow(Client *c, const Arg *arg, gboolean noembed) {
</a> 	spawn(NULL, &amp;a);
 }
 
<a href="#h0-42-3" id="h0-42-3" class="d">-static gboolean
</a><a href="#h0-42-4" id="h0-42-4" class="i">+gboolean
</a> contextmenu(WebKitWebView *view, GtkWidget *menu, WebKitHitTestResult *target,
<a href="#h0-42-6" id="h0-42-6" class="d">-		gboolean keyboard, Client *c) {
</a><a href="#h0-42-7" id="h0-42-7" class="i">+            gboolean keyboard, Client *c)
</a><a href="#h0-42-8" id="h0-42-8" class="i">+{
</a> 	GList *items = gtk_container_get_children(GTK_CONTAINER(GTK_MENU(menu)));
 
<a href="#h0-42-11" id="h0-42-11" class="d">-	for (GList *l = items; l; l = l-&gt;next) {
</a><a href="#h0-42-12" id="h0-42-12" class="i">+	for (GList *l = items; l; l = l-&gt;next)
</a> 		g_signal_connect(l-&gt;data, &quot;activate&quot;, G_CALLBACK(menuactivate), c);
<a href="#h0-42-14" id="h0-42-14" class="d">-	}
</a> 
 	g_list_free(items);
 	return FALSE;
 }
 
<a href="#h0-42-20" id="h0-42-20" class="d">-static void
</a><a href="#h0-42-21" id="h0-42-21" class="d">-menuactivate(GtkMenuItem *item, Client *c) {
</a><a href="#h0-42-22" id="h0-42-22" class="i">+void
</a><a href="#h0-42-23" id="h0-42-23" class="i">+menuactivate(GtkMenuItem *item, Client *c)
</a><a href="#h0-42-24" id="h0-42-24" class="i">+{
</a> 	/*
 	 * context-menu-action-2000 open link
 	 * context-menu-action-1    open link in window
<a href="#h0-43" id="h0-43" class="h">@@ -1122,20 +1166,23 @@ menuactivate(GtkMenuItem *item, Client *c) {
</a> 	}
 }
 
<a href="#h0-43-3" id="h0-43-3" class="d">-static void
</a><a href="#h0-43-4" id="h0-43-4" class="d">-pasteuri(GtkClipboard *clipboard, const char *text, gpointer d) {
</a><a href="#h0-43-5" id="h0-43-5" class="i">+void
</a><a href="#h0-43-6" id="h0-43-6" class="i">+pasteuri(GtkClipboard *clipboard, const char *text, gpointer d)
</a><a href="#h0-43-7" id="h0-43-7" class="i">+{
</a> 	Arg arg = {.v = text };
 	if (text != NULL)
 		loaduri((Client *) d, &amp;arg);
 }
 
<a href="#h0-43-13" id="h0-43-13" class="d">-static void
</a><a href="#h0-43-14" id="h0-43-14" class="d">-print(Client *c, const Arg *arg) {
</a><a href="#h0-43-15" id="h0-43-15" class="i">+void
</a><a href="#h0-43-16" id="h0-43-16" class="i">+print(Client *c, const Arg *arg)
</a><a href="#h0-43-17" id="h0-43-17" class="i">+{
</a> 	webkit_web_frame_print(webkit_web_view_get_main_frame(c-&gt;view));
 }
 
<a href="#h0-43-21" id="h0-43-21" class="d">-static GdkFilterReturn
</a><a href="#h0-43-22" id="h0-43-22" class="d">-processx(GdkXEvent *e, GdkEvent *event, gpointer d) {
</a><a href="#h0-43-23" id="h0-43-23" class="i">+GdkFilterReturn
</a><a href="#h0-43-24" id="h0-43-24" class="i">+processx(GdkXEvent *e, GdkEvent *event, gpointer d)
</a><a href="#h0-43-25" id="h0-43-25" class="i">+{
</a> 	Client *c = (Client *)d;
 	XPropertyEvent *ev;
 	Arg arg;
<a href="#h0-44" id="h0-44" class="h">@@ -1159,54 +1206,59 @@ processx(GdkXEvent *e, GdkEvent *event, gpointer d) {
</a> 	return GDK_FILTER_CONTINUE;
 }
 
<a href="#h0-44-3" id="h0-44-3" class="d">-static void
</a><a href="#h0-44-4" id="h0-44-4" class="d">-progresschange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a><a href="#h0-44-5" id="h0-44-5" class="i">+void
</a><a href="#h0-44-6" id="h0-44-6" class="i">+progresschange(WebKitWebView *view, GParamSpec *pspec, Client *c)
</a><a href="#h0-44-7" id="h0-44-7" class="i">+{
</a> 	c-&gt;progress = webkit_web_view_get_progress(c-&gt;view) * 100;
 	updatetitle(c);
 }
 
<a href="#h0-44-12" id="h0-44-12" class="d">-static void
</a><a href="#h0-44-13" id="h0-44-13" class="d">-linkopen(Client *c, const Arg *arg) {
</a><a href="#h0-44-14" id="h0-44-14" class="i">+void
</a><a href="#h0-44-15" id="h0-44-15" class="i">+linkopen(Client *c, const Arg *arg)
</a><a href="#h0-44-16" id="h0-44-16" class="i">+{
</a> 	newwindow(NULL, arg, 1);
 }
 
<a href="#h0-44-20" id="h0-44-20" class="d">-static void
</a><a href="#h0-44-21" id="h0-44-21" class="d">-linkopenembed(Client *c, const Arg *arg) {
</a><a href="#h0-44-22" id="h0-44-22" class="i">+void
</a><a href="#h0-44-23" id="h0-44-23" class="i">+linkopenembed(Client *c, const Arg *arg)
</a><a href="#h0-44-24" id="h0-44-24" class="i">+{
</a> 	newwindow(NULL, arg, 0);
 }
 
<a href="#h0-44-28" id="h0-44-28" class="d">-static void
</a><a href="#h0-44-29" id="h0-44-29" class="d">-reload(Client *c, const Arg *arg) {
</a><a href="#h0-44-30" id="h0-44-30" class="i">+void
</a><a href="#h0-44-31" id="h0-44-31" class="i">+reload(Client *c, const Arg *arg)
</a><a href="#h0-44-32" id="h0-44-32" class="i">+{
</a> 	gboolean nocache = *(gboolean *)arg;
<a href="#h0-44-34" id="h0-44-34" class="d">-	if (nocache) {
</a><a href="#h0-44-35" id="h0-44-35" class="i">+	if (nocache)
</a> 		webkit_web_view_reload_bypass_cache(c-&gt;view);
<a href="#h0-44-37" id="h0-44-37" class="d">-	} else {
</a><a href="#h0-44-38" id="h0-44-38" class="i">+	else
</a> 		webkit_web_view_reload(c-&gt;view);
<a href="#h0-44-40" id="h0-44-40" class="d">-	}
</a> }
 
<a href="#h0-44-43" id="h0-44-43" class="d">-static void
</a><a href="#h0-44-44" id="h0-44-44" class="d">-scroll_h(Client *c, const Arg *arg) {
</a><a href="#h0-44-45" id="h0-44-45" class="i">+void
</a><a href="#h0-44-46" id="h0-44-46" class="i">+scroll_h(Client *c, const Arg *arg)
</a><a href="#h0-44-47" id="h0-44-47" class="i">+{
</a> 	scroll(gtk_scrolled_window_get_hadjustment(
<a href="#h0-44-49" id="h0-44-49" class="d">-				GTK_SCROLLED_WINDOW(c-&gt;scroll)), arg);
</a><a href="#h0-44-50" id="h0-44-50" class="i">+	       GTK_SCROLLED_WINDOW(c-&gt;scroll)), arg);
</a> }
 
<a href="#h0-44-53" id="h0-44-53" class="d">-static void
</a><a href="#h0-44-54" id="h0-44-54" class="d">-scroll_v(Client *c, const Arg *arg) {
</a><a href="#h0-44-55" id="h0-44-55" class="i">+void
</a><a href="#h0-44-56" id="h0-44-56" class="i">+scroll_v(Client *c, const Arg *arg)
</a><a href="#h0-44-57" id="h0-44-57" class="i">+{
</a> 	scroll(gtk_scrolled_window_get_vadjustment(
<a href="#h0-44-59" id="h0-44-59" class="d">-				GTK_SCROLLED_WINDOW(c-&gt;scroll)), arg);
</a><a href="#h0-44-60" id="h0-44-60" class="i">+	       GTK_SCROLLED_WINDOW(c-&gt;scroll)), arg);
</a> }
 
<a href="#h0-44-63" id="h0-44-63" class="d">-static void
</a><a href="#h0-44-64" id="h0-44-64" class="d">-scroll(GtkAdjustment *a, const Arg *arg) {
</a><a href="#h0-44-65" id="h0-44-65" class="i">+void
</a><a href="#h0-44-66" id="h0-44-66" class="i">+scroll(GtkAdjustment *a, const Arg *arg)
</a><a href="#h0-44-67" id="h0-44-67" class="i">+{
</a> 	gdouble v;
 
 	v = gtk_adjustment_get_value(a);
 	switch (arg-&gt;i) {
 	case +10000:
 	case -10000:
<a href="#h0-44-74" id="h0-44-74" class="d">-		v += gtk_adjustment_get_page_increment(a) *
</a><a href="#h0-44-75" id="h0-44-75" class="d">-			(arg-&gt;i / 10000);
</a><a href="#h0-44-76" id="h0-44-76" class="i">+		v += gtk_adjustment_get_page_increment(a) * (arg-&gt;i / 10000);
</a> 		break;
 	case +20000:
 	case -20000:
<a href="#h0-45" id="h0-45" class="h">@@ -1216,20 +1268,22 @@ scroll(GtkAdjustment *a, const Arg *arg) {
</a> 
 	v = MAX(v, 0.0);
 	v = MIN(v, gtk_adjustment_get_upper(a) -
<a href="#h0-45-3" id="h0-45-3" class="d">-			gtk_adjustment_get_page_size(a));
</a><a href="#h0-45-4" id="h0-45-4" class="i">+	        gtk_adjustment_get_page_size(a));
</a> 	gtk_adjustment_set_value(a, v);
 }
 
<a href="#h0-45-8" id="h0-45-8" class="d">-static void
</a><a href="#h0-45-9" id="h0-45-9" class="d">-setatom(Client *c, int a, const char *v) {
</a><a href="#h0-45-10" id="h0-45-10" class="i">+void
</a><a href="#h0-45-11" id="h0-45-11" class="i">+setatom(Client *c, int a, const char *v)
</a><a href="#h0-45-12" id="h0-45-12" class="i">+{
</a> 	XSync(dpy, False);
 	XChangeProperty(dpy, GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window),
<a href="#h0-45-15" id="h0-45-15" class="d">-			atoms[a], XA_STRING, 8, PropModeReplace,
</a><a href="#h0-45-16" id="h0-45-16" class="d">-			(unsigned char *)v, strlen(v) + 1);
</a><a href="#h0-45-17" id="h0-45-17" class="i">+	                atoms[a], XA_STRING, 8, PropModeReplace,
</a><a href="#h0-45-18" id="h0-45-18" class="i">+	                (unsigned char *)v, strlen(v) + 1);
</a> }
 
<a href="#h0-45-21" id="h0-45-21" class="d">-static void
</a><a href="#h0-45-22" id="h0-45-22" class="d">-setup(void) {
</a><a href="#h0-45-23" id="h0-45-23" class="i">+void
</a><a href="#h0-45-24" id="h0-45-24" class="i">+setup(void)
</a><a href="#h0-45-25" id="h0-45-25" class="i">+{
</a> 	int i;
 	char *proxy;
 	char *new_proxy;
<a href="#h0-46" id="h0-46" class="h">@@ -1256,15 +1310,14 @@ setup(void) {
</a> 	if (stylefile == NULL) {
 		for (i = 0; i &lt; LENGTH(styles); i++) {
 			if (regcomp(&amp;(styles[i].re), styles[i].regex,
<a href="#h0-46-3" id="h0-46-3" class="d">-						REG_EXTENDED)) {
</a><a href="#h0-46-4" id="h0-46-4" class="i">+			    REG_EXTENDED)) {
</a> 				fprintf(stderr,
<a href="#h0-46-6" id="h0-46-6" class="d">-					&quot;Could not compile regex: %s\n&quot;,
</a><a href="#h0-46-7" id="h0-46-7" class="d">-					styles[i].regex);
</a><a href="#h0-46-8" id="h0-46-8" class="i">+				        &quot;Could not compile regex: %s\n&quot;,
</a><a href="#h0-46-9" id="h0-46-9" class="i">+				        styles[i].regex);
</a> 				styles[i].regex = NULL;
 			}
<a href="#h0-46-12" id="h0-46-12" class="d">-			styles[i].style = buildfile(
</a><a href="#h0-46-13" id="h0-46-13" class="d">-					g_strconcat(styledir, &quot;/&quot;,
</a><a href="#h0-46-14" id="h0-46-14" class="d">-						styles[i].style, NULL));
</a><a href="#h0-46-15" id="h0-46-15" class="i">+			styles[i].style = buildfile(g_strconcat(styledir, &quot;/&quot;,
</a><a href="#h0-46-16" id="h0-46-16" class="i">+			                            styles[i].style, NULL));
</a> 		}
 	} else {
 		stylefile = buildfile(stylefile);
<a href="#h0-47" id="h0-47" class="h">@@ -1275,12 +1328,13 @@ setup(void) {
</a> 
 	/* cookie jar */
 	soup_session_add_feature(s,
<a href="#h0-47-3" id="h0-47-3" class="d">-			SOUP_SESSION_FEATURE(cookiejar_new(cookiefile, FALSE,
</a><a href="#h0-47-4" id="h0-47-4" class="d">-					cookiepolicy_get())));
</a><a href="#h0-47-5" id="h0-47-5" class="i">+	                         SOUP_SESSION_FEATURE(cookiejar_new(cookiefile,
</a><a href="#h0-47-6" id="h0-47-6" class="i">+	                         FALSE, cookiepolicy_get())));
</a> 
 	/* disk cache */
 	if (enablediskcache) {
<a href="#h0-47-10" id="h0-47-10" class="d">-		diskcache = soup_cache_new(cachefolder, SOUP_CACHE_SINGLE_USER);
</a><a href="#h0-47-11" id="h0-47-11" class="i">+		diskcache = soup_cache_new(cachefolder,
</a><a href="#h0-47-12" id="h0-47-12" class="i">+		                           SOUP_CACHE_SINGLE_USER);
</a> 		soup_cache_set_max_size(diskcache, diskcachebytes);
 		soup_cache_load(diskcache);
 		soup_session_add_feature(s, SOUP_SESSION_FEATURE(diskcache));
<a href="#h0-48" id="h0-48" class="h">@@ -1290,7 +1344,8 @@ setup(void) {
</a> 	tlsdb = g_tls_file_database_new(cafile, &amp;error);
 
 	if (error) {
<a href="#h0-48-3" id="h0-48-3" class="d">-		g_warning(&quot;Error loading SSL database %s: %s&quot;, cafile, error-&gt;message);
</a><a href="#h0-48-4" id="h0-48-4" class="i">+		g_warning(&quot;Error loading SSL database %s: %s&quot;, cafile,
</a><a href="#h0-48-5" id="h0-48-5" class="i">+		          error-&gt;message);
</a> 		g_error_free(error);
 	}
 	g_object_set(G_OBJECT(s), &quot;tls-database&quot;, tlsdb, NULL);
<a href="#h0-49" id="h0-49" class="h">@@ -1299,11 +1354,11 @@ setup(void) {
</a> 	/* proxy */
 	if ((proxy = getenv(&quot;http_proxy&quot;)) &amp;&amp; strcmp(proxy, &quot;&quot;)) {
 		new_proxy = g_strrstr(proxy, &quot;http://&quot;)
<a href="#h0-49-3" id="h0-49-3" class="d">-            || g_strrstr(proxy, &quot;socks://&quot;)
</a><a href="#h0-49-4" id="h0-49-4" class="d">-            || g_strrstr(proxy, &quot;socks4://&quot;)
</a><a href="#h0-49-5" id="h0-49-5" class="d">-            || g_strrstr(proxy, &quot;socks5://&quot;)
</a><a href="#h0-49-6" id="h0-49-6" class="d">-            ? g_strdup(proxy)
</a><a href="#h0-49-7" id="h0-49-7" class="d">-            : g_strdup_printf(&quot;http://%s&quot;, proxy);
</a><a href="#h0-49-8" id="h0-49-8" class="i">+		            || g_strrstr(proxy, &quot;socks://&quot;)
</a><a href="#h0-49-9" id="h0-49-9" class="i">+		            || g_strrstr(proxy, &quot;socks4://&quot;)
</a><a href="#h0-49-10" id="h0-49-10" class="i">+		            || g_strrstr(proxy, &quot;socks5://&quot;)
</a><a href="#h0-49-11" id="h0-49-11" class="i">+		            ? g_strdup(proxy)
</a><a href="#h0-49-12" id="h0-49-12" class="i">+		            : g_strdup_printf(&quot;http://%s&quot;, proxy);
</a> 		puri = soup_uri_new(new_proxy);
 		g_object_set(G_OBJECT(s), &quot;proxy-uri&quot;, puri, NULL);
 		soup_uri_free(puri);
<a href="#h0-50" id="h0-50" class="h">@@ -1312,15 +1367,17 @@ setup(void) {
</a> 	}
 }
 
<a href="#h0-50-3" id="h0-50-3" class="d">-static void
</a><a href="#h0-50-4" id="h0-50-4" class="d">-sigchld(int unused) {
</a><a href="#h0-50-5" id="h0-50-5" class="i">+void
</a><a href="#h0-50-6" id="h0-50-6" class="i">+sigchld(int unused)
</a><a href="#h0-50-7" id="h0-50-7" class="i">+{
</a> 	if (signal(SIGCHLD, sigchld) == SIG_ERR)
 		die(&quot;Can&#39;t install SIGCHLD handler&quot;);
 	while (0 &lt; waitpid(-1, NULL, WNOHANG));
 }
 
<a href="#h0-50-13" id="h0-50-13" class="d">-static void
</a><a href="#h0-50-14" id="h0-50-14" class="d">-source(Client *c, const Arg *arg) {
</a><a href="#h0-50-15" id="h0-50-15" class="i">+void
</a><a href="#h0-50-16" id="h0-50-16" class="i">+source(Client *c, const Arg *arg)
</a><a href="#h0-50-17" id="h0-50-17" class="i">+{
</a> 	Arg a = { .b = FALSE };
 	gboolean s;
 
<a href="#h0-51" id="h0-51" class="h">@@ -1329,8 +1386,9 @@ source(Client *c, const Arg *arg) {
</a> 	reload(c, &amp;a);
 }
 
<a href="#h0-51-3" id="h0-51-3" class="d">-static void
</a><a href="#h0-51-4" id="h0-51-4" class="d">-spawn(Client *c, const Arg *arg) {
</a><a href="#h0-51-5" id="h0-51-5" class="i">+void
</a><a href="#h0-51-6" id="h0-51-6" class="i">+spawn(Client *c, const Arg *arg)
</a><a href="#h0-51-7" id="h0-51-7" class="i">+{
</a> 	if (fork() == 0) {
 		if (dpy)
 			close(ConnectionNumber(dpy));
<a href="#h0-52" id="h0-52" class="h">@@ -1342,20 +1400,23 @@ spawn(Client *c, const Arg *arg) {
</a> 	}
 }
 
<a href="#h0-52-3" id="h0-52-3" class="d">-static void
</a><a href="#h0-52-4" id="h0-52-4" class="d">-eval(Client *c, const Arg *arg) {
</a><a href="#h0-52-5" id="h0-52-5" class="i">+void
</a><a href="#h0-52-6" id="h0-52-6" class="i">+eval(Client *c, const Arg *arg)
</a><a href="#h0-52-7" id="h0-52-7" class="i">+{
</a> 	WebKitWebFrame *frame = webkit_web_view_get_main_frame(c-&gt;view);
 	evalscript(webkit_web_frame_get_global_context(frame),
<a href="#h0-52-10" id="h0-52-10" class="d">-			((char **)arg-&gt;v)[0], &quot;&quot;);
</a><a href="#h0-52-11" id="h0-52-11" class="i">+	           ((char **)arg-&gt;v)[0], &quot;&quot;);
</a> }
 
<a href="#h0-52-14" id="h0-52-14" class="d">-static void
</a><a href="#h0-52-15" id="h0-52-15" class="d">-stop(Client *c, const Arg *arg) {
</a><a href="#h0-52-16" id="h0-52-16" class="i">+void
</a><a href="#h0-52-17" id="h0-52-17" class="i">+stop(Client *c, const Arg *arg)
</a><a href="#h0-52-18" id="h0-52-18" class="i">+{
</a> 	webkit_web_view_stop_loading(c-&gt;view);
 }
 
<a href="#h0-52-22" id="h0-52-22" class="d">-static void
</a><a href="#h0-52-23" id="h0-52-23" class="d">-titlechange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a><a href="#h0-52-24" id="h0-52-24" class="i">+void
</a><a href="#h0-52-25" id="h0-52-25" class="i">+titlechange(WebKitWebView *view, GParamSpec *pspec, Client *c)
</a><a href="#h0-52-26" id="h0-52-26" class="i">+{
</a> 	const gchar *t = webkit_web_view_get_title(view);
 	if (t) {
 		c-&gt;title = copystr(&amp;c-&gt;title, t);
<a href="#h0-53" id="h0-53" class="h">@@ -1363,14 +1424,16 @@ titlechange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
</a> 	}
 }
 
<a href="#h0-53-3" id="h0-53-3" class="d">-static void
</a><a href="#h0-53-4" id="h0-53-4" class="d">-titlechangeleave(void *a, void *b, Client *c) {
</a><a href="#h0-53-5" id="h0-53-5" class="i">+void
</a><a href="#h0-53-6" id="h0-53-6" class="i">+titlechangeleave(void *a, void *b, Client *c)
</a><a href="#h0-53-7" id="h0-53-7" class="i">+{
</a> 	c-&gt;linkhover = NULL;
 	updatetitle(c);
 }
 
<a href="#h0-53-12" id="h0-53-12" class="d">-static void
</a><a href="#h0-53-13" id="h0-53-13" class="d">-toggle(Client *c, const Arg *arg) {
</a><a href="#h0-53-14" id="h0-53-14" class="i">+void
</a><a href="#h0-53-15" id="h0-53-15" class="i">+toggle(Client *c, const Arg *arg)
</a><a href="#h0-53-16" id="h0-53-16" class="i">+{
</a> 	WebKitWebSettings *settings;
 	char *name = (char *)arg-&gt;v;
 	gboolean value;
<a href="#h0-54" id="h0-54" class="h">@@ -1383,44 +1446,44 @@ toggle(Client *c, const Arg *arg) {
</a> 	reload(c, &amp;a);
 }
 
<a href="#h0-54-3" id="h0-54-3" class="d">-static void
</a><a href="#h0-54-4" id="h0-54-4" class="d">-togglecookiepolicy(Client *c, const Arg *arg) {
</a><a href="#h0-54-5" id="h0-54-5" class="i">+void
</a><a href="#h0-54-6" id="h0-54-6" class="i">+togglecookiepolicy(Client *c, const Arg *arg)
</a><a href="#h0-54-7" id="h0-54-7" class="i">+{
</a> 	SoupCookieJar *jar;
 	SoupCookieJarAcceptPolicy policy;
 
<a href="#h0-54-11" id="h0-54-11" class="d">-	jar = SOUP_COOKIE_JAR(
</a><a href="#h0-54-12" id="h0-54-12" class="d">-			soup_session_get_feature(
</a><a href="#h0-54-13" id="h0-54-13" class="d">-				webkit_get_default_session(),
</a><a href="#h0-54-14" id="h0-54-14" class="d">-				SOUP_TYPE_COOKIE_JAR));
</a><a href="#h0-54-15" id="h0-54-15" class="i">+	jar = SOUP_COOKIE_JAR(soup_session_get_feature(
</a><a href="#h0-54-16" id="h0-54-16" class="i">+	                      webkit_get_default_session(),
</a><a href="#h0-54-17" id="h0-54-17" class="i">+	                      SOUP_TYPE_COOKIE_JAR));
</a> 	g_object_get(G_OBJECT(jar), &quot;accept-policy&quot;, &amp;policy, NULL);
 
 	policysel++;
 	if (policysel &gt;= strlen(cookiepolicies))
 		policysel = 0;
 
<a href="#h0-54-24" id="h0-54-24" class="d">-	g_object_set(G_OBJECT(jar), &quot;accept-policy&quot;,
</a><a href="#h0-54-25" id="h0-54-25" class="d">-			cookiepolicy_get(), NULL);
</a><a href="#h0-54-26" id="h0-54-26" class="i">+	g_object_set(G_OBJECT(jar), &quot;accept-policy&quot;, cookiepolicy_get(), NULL);
</a> 
 	updatetitle(c);
 	/* Do not reload. */
 }
 
<a href="#h0-54-32" id="h0-54-32" class="d">-static void
</a><a href="#h0-54-33" id="h0-54-33" class="d">-togglegeolocation(Client *c, const Arg *arg) {
</a><a href="#h0-54-34" id="h0-54-34" class="i">+void
</a><a href="#h0-54-35" id="h0-54-35" class="i">+togglegeolocation(Client *c, const Arg *arg)
</a><a href="#h0-54-36" id="h0-54-36" class="i">+{
</a> 	Arg a = { .b = FALSE };
 
 	allowgeolocation ^= 1;
<a href="#h0-54-40" id="h0-54-40" class="d">-
</a> 	reload(c, &amp;a);
 }
 
<a href="#h0-54-44" id="h0-54-44" class="d">-static void
</a><a href="#h0-54-45" id="h0-54-45" class="d">-twitch(Client *c, const Arg *arg) {
</a><a href="#h0-54-46" id="h0-54-46" class="i">+void
</a><a href="#h0-54-47" id="h0-54-47" class="i">+twitch(Client *c, const Arg *arg)
</a><a href="#h0-54-48" id="h0-54-48" class="i">+{
</a> 	GtkAdjustment *a;
 	gdouble v;
 
<a href="#h0-54-52" id="h0-54-52" class="d">-	a = gtk_scrolled_window_get_vadjustment(
</a><a href="#h0-54-53" id="h0-54-53" class="d">-			GTK_SCROLLED_WINDOW(c-&gt;scroll));
</a><a href="#h0-54-54" id="h0-54-54" class="i">+	a = gtk_scrolled_window_get_vadjustment(GTK_SCROLLED_WINDOW(
</a><a href="#h0-54-55" id="h0-54-55" class="i">+	                                        c-&gt;scroll));
</a> 
 	v = gtk_adjustment_get_value(a);
 
<a href="#h0-55" id="h0-55" class="h">@@ -1428,23 +1491,27 @@ twitch(Client *c, const Arg *arg) {
</a> 
 	v = MAX(v, 0.0);
 	v = MIN(v, gtk_adjustment_get_upper(a) -
<a href="#h0-55-3" id="h0-55-3" class="d">-			gtk_adjustment_get_page_size(a));
</a><a href="#h0-55-4" id="h0-55-4" class="i">+	        gtk_adjustment_get_page_size(a));
</a> 	gtk_adjustment_set_value(a, v);
 }
 
<a href="#h0-55-8" id="h0-55-8" class="d">-static void
</a><a href="#h0-55-9" id="h0-55-9" class="d">-togglescrollbars(Client *c, const Arg *arg) {
</a><a href="#h0-55-10" id="h0-55-10" class="i">+void
</a><a href="#h0-55-11" id="h0-55-11" class="i">+togglescrollbars(Client *c, const Arg *arg)
</a><a href="#h0-55-12" id="h0-55-12" class="i">+{
</a> 	GtkPolicyType vspolicy;
 	Arg a;
 
<a href="#h0-55-16" id="h0-55-16" class="d">-	gtk_scrolled_window_get_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll), NULL, &amp;vspolicy);
</a><a href="#h0-55-17" id="h0-55-17" class="i">+	gtk_scrolled_window_get_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll), NULL,
</a><a href="#h0-55-18" id="h0-55-18" class="i">+	                               &amp;vspolicy);
</a> 
 	if (vspolicy == GTK_POLICY_AUTOMATIC) {
 		gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll),
<a href="#h0-55-22" id="h0-55-22" class="d">-				GTK_POLICY_NEVER, GTK_POLICY_NEVER);
</a><a href="#h0-55-23" id="h0-55-23" class="i">+		                               GTK_POLICY_NEVER,
</a><a href="#h0-55-24" id="h0-55-24" class="i">+					       GTK_POLICY_NEVER);
</a> 	} else {
 		gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(c-&gt;scroll),
<a href="#h0-55-27" id="h0-55-27" class="d">-				GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
</a><a href="#h0-55-28" id="h0-55-28" class="i">+		                               GTK_POLICY_AUTOMATIC,
</a><a href="#h0-55-29" id="h0-55-29" class="i">+					       GTK_POLICY_AUTOMATIC);
</a> 		a.i = +1;
 		twitch(c, &amp;a);
 		a.i = -1;
<a href="#h0-56" id="h0-56" class="h">@@ -1452,8 +1519,9 @@ togglescrollbars(Client *c, const Arg *arg) {
</a> 	}
 }
 
<a href="#h0-56-3" id="h0-56-3" class="d">-static void
</a><a href="#h0-56-4" id="h0-56-4" class="d">-togglestyle(Client *c, const Arg *arg) {
</a><a href="#h0-56-5" id="h0-56-5" class="i">+void
</a><a href="#h0-56-6" id="h0-56-6" class="i">+togglestyle(Client *c, const Arg *arg)
</a><a href="#h0-56-7" id="h0-56-7" class="i">+{
</a> 	WebKitWebSettings *settings = webkit_web_view_get_settings(c-&gt;view);
 	char *uri;
 
<a href="#h0-57" id="h0-57" class="h">@@ -1464,16 +1532,17 @@ togglestyle(Client *c, const Arg *arg) {
</a> 	updatetitle(c);
 }
 
<a href="#h0-57-3" id="h0-57-3" class="d">-static void
</a><a href="#h0-57-4" id="h0-57-4" class="d">-gettogglestat(Client *c){
</a><a href="#h0-57-5" id="h0-57-5" class="i">+void
</a><a href="#h0-57-6" id="h0-57-6" class="i">+gettogglestat(Client *c)
</a><a href="#h0-57-7" id="h0-57-7" class="i">+{
</a> 	gboolean value;
 	int p = 0;
 	WebKitWebSettings *settings = webkit_web_view_get_settings(c-&gt;view);
 
 	togglestat[p++] = cookiepolicy_set(cookiepolicy_get());
 
<a href="#h0-57-14" id="h0-57-14" class="d">-	g_object_get(G_OBJECT(settings), &quot;enable-caret-browsing&quot;,
</a><a href="#h0-57-15" id="h0-57-15" class="d">-			&amp;value, NULL);
</a><a href="#h0-57-16" id="h0-57-16" class="i">+	g_object_get(G_OBJECT(settings), &quot;enable-caret-browsing&quot;, &amp;value,
</a><a href="#h0-57-17" id="h0-57-17" class="i">+	             NULL);
</a> 	togglestat[p++] = value? &#39;C&#39;: &#39;c&#39;;
 
 	togglestat[p++] = allowgeolocation? &#39;G&#39;: &#39;g&#39;;
<a href="#h0-58" id="h0-58" class="h">@@ -1494,23 +1563,23 @@ gettogglestat(Client *c){
</a> 	togglestat[p] = &#39;\0&#39;;
 }
 
<a href="#h0-58-3" id="h0-58-3" class="d">-static void
</a><a href="#h0-58-4" id="h0-58-4" class="d">-getpagestat(Client *c) {
</a><a href="#h0-58-5" id="h0-58-5" class="i">+void
</a><a href="#h0-58-6" id="h0-58-6" class="i">+getpagestat(Client *c)
</a><a href="#h0-58-7" id="h0-58-7" class="i">+{
</a> 	const char *uri = geturi(c);
 
<a href="#h0-58-10" id="h0-58-10" class="d">-	if (strstr(uri, &quot;https://&quot;) == uri) {
</a><a href="#h0-58-11" id="h0-58-11" class="i">+	if (strstr(uri, &quot;https://&quot;) == uri)
</a> 		pagestat[0] = c-&gt;sslfailed ? &#39;U&#39; : &#39;T&#39;;
<a href="#h0-58-13" id="h0-58-13" class="d">-	} else {
</a><a href="#h0-58-14" id="h0-58-14" class="i">+	else
</a> 		pagestat[0] = &#39;-&#39;;
<a href="#h0-58-16" id="h0-58-16" class="d">-	}
</a> 
 	pagestat[1] = usingproxy ? &#39;P&#39; : &#39;-&#39;;
 	pagestat[2] = &#39;\0&#39;;
<a href="#h0-58-20" id="h0-58-20" class="d">-
</a> }
 
<a href="#h0-58-23" id="h0-58-23" class="d">-static void
</a><a href="#h0-58-24" id="h0-58-24" class="d">-updatetitle(Client *c) {
</a><a href="#h0-58-25" id="h0-58-25" class="i">+void
</a><a href="#h0-58-26" id="h0-58-26" class="i">+updatetitle(Client *c)
</a><a href="#h0-58-27" id="h0-58-27" class="i">+{
</a> 	char *t;
 
 	if (showindicators) {
<a href="#h0-59" id="h0-59" class="h">@@ -1518,48 +1587,50 @@ updatetitle(Client *c) {
</a> 		getpagestat(c);
 
 		if (c-&gt;linkhover) {
<a href="#h0-59-3" id="h0-59-3" class="d">-			t = g_strdup_printf(&quot;%s:%s | %s&quot;, togglestat,
</a><a href="#h0-59-4" id="h0-59-4" class="d">-					pagestat, c-&gt;linkhover);
</a><a href="#h0-59-5" id="h0-59-5" class="i">+			t = g_strdup_printf(&quot;%s:%s | %s&quot;, togglestat, pagestat,
</a><a href="#h0-59-6" id="h0-59-6" class="i">+			                    c-&gt;linkhover);
</a> 		} else if (c-&gt;progress != 100) {
 			t = g_strdup_printf(&quot;[%i%%] %s:%s | %s&quot;, c-&gt;progress,
<a href="#h0-59-9" id="h0-59-9" class="d">-					togglestat, pagestat,
</a><a href="#h0-59-10" id="h0-59-10" class="d">-					(c-&gt;title == NULL)? &quot;&quot; : c-&gt;title);
</a><a href="#h0-59-11" id="h0-59-11" class="i">+			                    togglestat, pagestat,
</a><a href="#h0-59-12" id="h0-59-12" class="i">+			                    c-&gt;title == NULL ? &quot;&quot; : c-&gt;title);
</a> 		} else {
 			t = g_strdup_printf(&quot;%s:%s | %s&quot;, togglestat, pagestat,
<a href="#h0-59-15" id="h0-59-15" class="d">-					(c-&gt;title == NULL)? &quot;&quot; : c-&gt;title);
</a><a href="#h0-59-16" id="h0-59-16" class="i">+			                    c-&gt;title == NULL ? &quot;&quot; : c-&gt;title);
</a> 		}
 
 		gtk_window_set_title(GTK_WINDOW(c-&gt;win), t);
 		g_free(t);
 	} else {
<a href="#h0-59-22" id="h0-59-22" class="d">-		gtk_window_set_title(GTK_WINDOW(c-&gt;win),
</a><a href="#h0-59-23" id="h0-59-23" class="d">-				(c-&gt;title == NULL)? &quot;&quot; : c-&gt;title);
</a><a href="#h0-59-24" id="h0-59-24" class="i">+		gtk_window_set_title(GTK_WINDOW(c-&gt;win), (c-&gt;title == NULL) ?
</a><a href="#h0-59-25" id="h0-59-25" class="i">+		                     &quot;&quot; : c-&gt;title);
</a> 	}
 }
 
<a href="#h0-59-29" id="h0-59-29" class="d">-static void
</a><a href="#h0-59-30" id="h0-59-30" class="d">-updatewinid(Client *c) {
</a><a href="#h0-59-31" id="h0-59-31" class="i">+void
</a><a href="#h0-59-32" id="h0-59-32" class="i">+updatewinid(Client *c)
</a><a href="#h0-59-33" id="h0-59-33" class="i">+{
</a> 	snprintf(winid, LENGTH(winid), &quot;%u&quot;,
<a href="#h0-59-35" id="h0-59-35" class="d">-			(int)GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window));
</a><a href="#h0-59-36" id="h0-59-36" class="i">+	         (int)GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window));
</a> }
 
<a href="#h0-59-39" id="h0-59-39" class="d">-static void
</a><a href="#h0-59-40" id="h0-59-40" class="d">-usage(void) {
</a><a href="#h0-59-41" id="h0-59-41" class="d">-	die(&quot;usage: %s [-bBfFgGiIkKnNpPsSvx]&quot;
</a><a href="#h0-59-42" id="h0-59-42" class="d">-		&quot; [-a cookiepolicies ] &quot;
</a><a href="#h0-59-43" id="h0-59-43" class="d">-		&quot; [-c cookiefile] [-e xid] [-r scriptfile]&quot;
</a><a href="#h0-59-44" id="h0-59-44" class="d">-		&quot; [-t stylefile] [-u useragent] [-z zoomlevel]&quot;
</a><a href="#h0-59-45" id="h0-59-45" class="d">-		&quot; [uri]\n&quot;, basename(argv0));
</a><a href="#h0-59-46" id="h0-59-46" class="i">+void
</a><a href="#h0-59-47" id="h0-59-47" class="i">+usage(void)
</a><a href="#h0-59-48" id="h0-59-48" class="i">+{
</a><a href="#h0-59-49" id="h0-59-49" class="i">+	die(&quot;usage: %s [-bBfFgGiIkKnNpPsSvx] [-a cookiepolicies ] &quot;
</a><a href="#h0-59-50" id="h0-59-50" class="i">+	    &quot;[-c cookiefile] [-e xid] [-r scriptfile] [-t stylefile] &quot;
</a><a href="#h0-59-51" id="h0-59-51" class="i">+	    &quot;[-u useragent] [-z zoomlevel] [uri]\n&quot;, basename(argv0));
</a> }
 
<a href="#h0-59-54" id="h0-59-54" class="d">-static void
</a><a href="#h0-59-55" id="h0-59-55" class="i">+void
</a> windowobjectcleared(GtkWidget *w, WebKitWebFrame *frame, JSContextRef js,
<a href="#h0-59-57" id="h0-59-57" class="d">-		JSObjectRef win, Client *c) {
</a><a href="#h0-59-58" id="h0-59-58" class="i">+                    JSObjectRef win, Client *c)
</a><a href="#h0-59-59" id="h0-59-59" class="i">+{
</a> 	runscript(frame);
 }
 
<a href="#h0-59-63" id="h0-59-63" class="d">-static void
</a><a href="#h0-59-64" id="h0-59-64" class="d">-zoom(Client *c, const Arg *arg) {
</a><a href="#h0-59-65" id="h0-59-65" class="i">+void
</a><a href="#h0-59-66" id="h0-59-66" class="i">+zoom(Client *c, const Arg *arg)
</a><a href="#h0-59-67" id="h0-59-67" class="i">+{
</a> 	c-&gt;zoomed = TRUE;
 	if (arg-&gt;i &lt; 0) {
 		/* zoom out */
<a href="#h0-60" id="h0-60" class="h">@@ -1575,7 +1646,8 @@ zoom(Client *c, const Arg *arg) {
</a> }
 
 int
<a href="#h0-60-3" id="h0-60-3" class="d">-main(int argc, char *argv[]) {
</a><a href="#h0-60-4" id="h0-60-4" class="i">+main(int argc, char *argv[])
</a><a href="#h0-60-5" id="h0-60-5" class="i">+{
</a> 	Arg arg;
 	Client *c;
 
<a href="#h0-61" id="h0-61" class="h">@@ -1662,8 +1734,8 @@ main(int argc, char *argv[]) {
</a> 		useragent = EARGF(usage());
 		break;
 	case &#39;v&#39;:
<a href="#h0-61-3" id="h0-61-3" class="d">-		die(&quot;surf-&quot;VERSION&quot;, ©2009-2014 surf engineers, &quot;
</a><a href="#h0-61-4" id="h0-61-4" class="d">-				&quot;see LICENSE for details\n&quot;);
</a><a href="#h0-61-5" id="h0-61-5" class="i">+		die(&quot;surf-&quot;VERSION&quot;, ©2009-2015 surf engineers, &quot;
</a><a href="#h0-61-6" id="h0-61-6" class="i">+		    &quot;see LICENSE for details\n&quot;);
</a> 	case &#39;x&#39;:
 		showxid = TRUE;
 		break;
<a href="#h0-62" id="h0-62" class="h">@@ -1678,11 +1750,10 @@ main(int argc, char *argv[]) {
</a> 
 	setup();
 	c = newclient();
<a href="#h0-62-3" id="h0-62-3" class="d">-	if (arg.v) {
</a><a href="#h0-62-4" id="h0-62-4" class="i">+	if (arg.v)
</a> 		loaduri(clients, &amp;arg);
<a href="#h0-62-6" id="h0-62-6" class="d">-	} else {
</a><a href="#h0-62-7" id="h0-62-7" class="i">+	else
</a> 		updatetitle(c);
<a href="#h0-62-9" id="h0-62-9" class="d">-	}
</a> 
 	gtk_main();
 	cleanup();
</pre>
</div>
</body>
</html>
