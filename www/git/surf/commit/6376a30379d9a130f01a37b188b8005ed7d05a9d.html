<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>removing context-menu, downloading. - surf - surf browser, a WebKit based browser
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="surf Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>surf</h1><span class="desc">surf browser, a WebKit based browser
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/6376a30379d9a130f01a37b188b8005ed7d05a9d.html">6376a30379d9a130f01a37b188b8005ed7d05a9d</a>
<b>parent</b> <a href="../commit/91d04b15f0bb16d5b31ad92ea1e6a0066e589956.html">91d04b15f0bb16d5b31ad92ea1e6a0066e589956</a>
<b>Author:</b> Enno Boland (tox) &lt;<a href="mailto:tox@s01.de">tox@s01.de</a>&gt;
<b>Date:</b>   Mon, 17 May 2010 10:58:08 +0200

removing context-menu, downloading.
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">config.def.h</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">surf.c</a></td><td> | </td><td class="num">119</td><td><span class="i">++++++</span><span class="d">-------------------------------------------------------------------------</span></td></tr>
</table></pre><pre>2 files changed, 8 insertions(+), 122 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/config.def.h.html">config.def.h</a> b/<a href="../file/config.def.h.html">config.def.h</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -35,14 +35,3 @@ static Key keys[] = {
</a>     { MODKEY,               GDK_n,      find,       { .b = TRUE } },
     { MODKEY|GDK_SHIFT_MASK,GDK_n,      find,       { .b = FALSE } },
 };
<a href="#h0-0-3" id="h0-0-3" class="d">-
</a><a href="#h0-0-4" id="h0-0-4" class="d">-static Item items[] = {
</a><a href="#h0-0-5" id="h0-0-5" class="d">-    { &quot;Back&quot;,           navigate,  { .i = -1 } },
</a><a href="#h0-0-6" id="h0-0-6" class="d">-    { &quot;Forward&quot;,        navigate,  { .i = +1 } },
</a><a href="#h0-0-7" id="h0-0-7" class="d">-    { &quot;New Window&quot;,     newwindow, { .v = NULL } },
</a><a href="#h0-0-8" id="h0-0-8" class="d">-    { &quot;Reload&quot;,         reload,    { .b = FALSE } },
</a><a href="#h0-0-9" id="h0-0-9" class="d">-    { &quot;Stop&quot;,           stop,      { 0 } },
</a><a href="#h0-0-10" id="h0-0-10" class="d">-    { &quot;Paste URI&quot;,      clipboard, { .b = TRUE } },
</a><a href="#h0-0-11" id="h0-0-11" class="d">-    { &quot;Copy URI&quot;,       clipboard, { .b = FALSE } },
</a><a href="#h0-0-12" id="h0-0-12" class="d">-    { &quot;Download&quot;,       download,  { 0 } },
</a><a href="#h0-0-13" id="h0-0-13" class="d">-};
</a><b>diff --git a/<a id="h1" href="../file/surf.c.html">surf.c</a> b/<a href="../file/surf.c.html">surf.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -32,9 +32,7 @@ union Arg {
</a> 
 typedef struct Client {
 	GtkWidget *win, *scroll, *vbox, *indicator;
<a href="#h1-0-3" id="h1-0-3" class="d">-	GtkWidget **items;
</a> 	WebKitWebView *view;
<a href="#h1-0-5" id="h1-0-5" class="d">-	WebKitDownload *download;
</a> 	char *title, *linkhover;
 	const char *uri, *needle;
 	gint progress;
<a href="#h1-1" id="h1-1" class="h">@@ -68,7 +66,6 @@ static gboolean loadimage = 1, plugin = 1, script = 1;
</a> static char *buildpath(const char *path);
 static void cleanup(void);
 static void clipboard(Client *c, const Arg *arg);
<a href="#h1-1-3" id="h1-1-3" class="d">-static void context(WebKitWebView *v, GtkMenu *m, Client *c);
</a> static char *copystr(char **str, const char *src);
 static WebKitWebView *createwindow(WebKitWebView *v, WebKitWebFrame *f, Client *c);
 static gboolean decidedownload(WebKitWebView *v, WebKitWebFrame *f, WebKitNetworkRequest *r, gchar *m,  WebKitWebPolicyDecision *p, Client *c);
<a href="#h1-2" id="h1-2" class="h">@@ -76,7 +73,6 @@ static gboolean decidewindow(WebKitWebView *v, WebKitWebFrame *f, WebKitNetworkR
</a> static void destroyclient(Client *c);
 static void destroywin(GtkWidget* w, Client *c);
 static void die(char *str);
<a href="#h1-2-3" id="h1-2-3" class="d">-static void download(Client *c, const Arg *arg);
</a> static void drawindicator(Client *c);
 static gboolean exposeindicator(GtkWidget *w, GdkEventExpose *e, Client *c);
 static void find(Client *c, const Arg *arg);
<a href="#h1-3" id="h1-3" class="h">@@ -84,8 +80,6 @@ static const char *getatom(Client *c, Atom a);
</a> static const char *getcookies(SoupURI *uri);
 static char *geturi(Client *c);
 void gotheaders(SoupMessage *msg, gpointer user_data);
<a href="#h1-3-3" id="h1-3-3" class="d">-static gboolean initdownload(WebKitWebView *v, WebKitDownload *o, Client *c);
</a><a href="#h1-3-4" id="h1-3-4" class="d">-static void itemclick(GtkMenuItem *mi, Client *c);
</a> static gboolean keypress(GtkWidget *w, GdkEventKey *ev, Client *c);
 static void linkhover(WebKitWebView *v, const char* t, const char* l, Client *c);
 static void loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c);
<a href="#h1-4" id="h1-4" class="h">@@ -110,7 +104,6 @@ static void spawn(Client *c, const Arg *arg);
</a> static void stop(Client *c, const Arg *arg);
 static void titlechange(WebKitWebView *v, WebKitWebFrame* frame, const char* title, Client *c);
 static void update(Client *c);
<a href="#h1-4-3" id="h1-4-3" class="d">-static void updatedownload(WebKitDownload *o, GParamSpec *pspec, Client *c);
</a> static void updatewinid(Client *c);
 static void usage(void);
 static void windowobjectcleared(GtkWidget *w, WebKitWebFrame *frame, JSContextRef js, JSObjectRef win, Client *c);
<a href="#h1-5" id="h1-5" class="h">@@ -173,22 +166,6 @@ clipboard(Client *c, const Arg *arg) {
</a> 		gtk_clipboard_set_text(gtk_clipboard_get(GDK_SELECTION_PRIMARY), c-&gt;linkhover ? c-&gt;linkhover : geturi(c), -1);
 }
 
<a href="#h1-5-3" id="h1-5-3" class="d">-void
</a><a href="#h1-5-4" id="h1-5-4" class="d">-context(WebKitWebView *v, GtkMenu *m, Client *c) {
</a><a href="#h1-5-5" id="h1-5-5" class="d">-	int i;
</a><a href="#h1-5-6" id="h1-5-6" class="d">-	GtkContainer *parent;
</a><a href="#h1-5-7" id="h1-5-7" class="d">-
</a><a href="#h1-5-8" id="h1-5-8" class="d">-	gtk_widget_hide_all(GTK_WIDGET(m));
</a><a href="#h1-5-9" id="h1-5-9" class="d">-	gtk_widget_show(GTK_WIDGET(m));
</a><a href="#h1-5-10" id="h1-5-10" class="d">-	for(i = 0; i &lt; LENGTH(items); i++) {
</a><a href="#h1-5-11" id="h1-5-11" class="d">-		parent = GTK_CONTAINER(gtk_widget_get_parent(c-&gt;items[i]));
</a><a href="#h1-5-12" id="h1-5-12" class="d">-		if(parent)
</a><a href="#h1-5-13" id="h1-5-13" class="d">-			gtk_container_remove(parent, c-&gt;items[i]);
</a><a href="#h1-5-14" id="h1-5-14" class="d">-		gtk_menu_shell_append(GTK_MENU_SHELL(m), c-&gt;items[i]);
</a><a href="#h1-5-15" id="h1-5-15" class="d">-		gtk_widget_show(c-&gt;items[i]);
</a><a href="#h1-5-16" id="h1-5-16" class="d">-	}
</a><a href="#h1-5-17" id="h1-5-17" class="d">-}
</a><a href="#h1-5-18" id="h1-5-18" class="d">-
</a> char *
 copystr(char **str, const char *src) {
 	char *tmp;
<a href="#h1-6" id="h1-6" class="h">@@ -210,7 +187,10 @@ createwindow(WebKitWebView  *v, WebKitWebFrame *f, Client *c) {
</a> gboolean
 decidedownload(WebKitWebView *v, WebKitWebFrame *f, WebKitNetworkRequest *r, gchar *m,  WebKitWebPolicyDecision *p, Client *c) {
 	if(!webkit_web_view_can_show_mime_type(v, m)) {
<a href="#h1-6-3" id="h1-6-3" class="d">-		webkit_web_policy_decision_download(p);
</a><a href="#h1-6-4" id="h1-6-4" class="i">+		webkit_web_policy_decision_ignore(p);
</a><a href="#h1-6-5" id="h1-6-5" class="i">+		webkit_web_view_load_html_string(c-&gt;view,
</a><a href="#h1-6-6" id="h1-6-6" class="i">+				&quot;Can&#39;t display content.&quot;,
</a><a href="#h1-6-7" id="h1-6-7" class="i">+				webkit_network_request_get_uri(r));
</a> 		return TRUE;
 	}
 	return FALSE;
<a href="#h1-7" id="h1-7" class="h">@@ -231,7 +211,6 @@ decidewindow(WebKitWebView *view, WebKitWebFrame *f, WebKitNetworkRequest *r, We
</a> 
 void
 destroyclient(Client *c) {
<a href="#h1-7-3" id="h1-7-3" class="d">-	int i;
</a> 	Client *p;
 
 	gtk_widget_destroy(c-&gt;indicator);
<a href="#h1-8" id="h1-8" class="h">@@ -239,9 +218,6 @@ destroyclient(Client *c) {
</a> 	gtk_widget_destroy(c-&gt;scroll);
 	gtk_widget_destroy(c-&gt;vbox);
 	gtk_widget_destroy(c-&gt;win);
<a href="#h1-8-3" id="h1-8-3" class="d">-	for(i = 0; i &lt; LENGTH(items); i++)
</a><a href="#h1-8-4" id="h1-8-4" class="d">-		gtk_widget_destroy(c-&gt;items[i]);
</a><a href="#h1-8-5" id="h1-8-5" class="d">-	free(c-&gt;items);
</a> 
 	for(p = clients; p &amp;&amp; p-&gt;next != c; p = p-&gt;next);
 	if(p)
<a href="#h1-9" id="h1-9" class="h">@@ -265,22 +241,6 @@ die(char *str) {
</a> }
 
 void
<a href="#h1-9-3" id="h1-9-3" class="d">-download(Client *c, const Arg *arg) {
</a><a href="#h1-9-4" id="h1-9-4" class="d">-	char *uri;
</a><a href="#h1-9-5" id="h1-9-5" class="d">-	WebKitNetworkRequest *r;
</a><a href="#h1-9-6" id="h1-9-6" class="d">-	WebKitDownload *dl;
</a><a href="#h1-9-7" id="h1-9-7" class="d">-
</a><a href="#h1-9-8" id="h1-9-8" class="d">-	if(arg-&gt;v)
</a><a href="#h1-9-9" id="h1-9-9" class="d">-		uri = (char *)arg-&gt;v;
</a><a href="#h1-9-10" id="h1-9-10" class="d">-	else
</a><a href="#h1-9-11" id="h1-9-11" class="d">-		uri = c-&gt;linkhover ? c-&gt;linkhover : geturi(c);
</a><a href="#h1-9-12" id="h1-9-12" class="d">-	r = webkit_network_request_new(uri);
</a><a href="#h1-9-13" id="h1-9-13" class="d">-	dl = webkit_download_new(r);
</a><a href="#h1-9-14" id="h1-9-14" class="d">-	initdownload(c-&gt;view, dl, c);
</a><a href="#h1-9-15" id="h1-9-15" class="d">-	webkit_download_start(c-&gt;download);
</a><a href="#h1-9-16" id="h1-9-16" class="d">-}
</a><a href="#h1-9-17" id="h1-9-17" class="d">-
</a><a href="#h1-9-18" id="h1-9-18" class="d">-void
</a> drawindicator(Client *c) {
 	gint width;
 	const char *uri;
<a href="#h1-10" id="h1-10" class="h">@@ -369,37 +329,6 @@ gotheaders(SoupMessage *msg, gpointer v) {
</a> }
 
 gboolean
<a href="#h1-10-3" id="h1-10-3" class="d">-initdownload(WebKitWebView *view, WebKitDownload *o, Client *c) {
</a><a href="#h1-10-4" id="h1-10-4" class="d">-	const char *filename;
</a><a href="#h1-10-5" id="h1-10-5" class="d">-	char *uri;
</a><a href="#h1-10-6" id="h1-10-6" class="d">-
</a><a href="#h1-10-7" id="h1-10-7" class="d">-	c-&gt;download = o;
</a><a href="#h1-10-8" id="h1-10-8" class="d">-	filename = webkit_download_get_suggested_filename(o);
</a><a href="#h1-10-9" id="h1-10-9" class="d">-	if(!strcmp(&quot;&quot;, filename))
</a><a href="#h1-10-10" id="h1-10-10" class="d">-		filename = &quot;index.html&quot;;
</a><a href="#h1-10-11" id="h1-10-11" class="d">-	uri = g_strconcat(&quot;file://&quot;, dldir, &quot;/&quot;, filename, NULL);
</a><a href="#h1-10-12" id="h1-10-12" class="d">-	webkit_download_set_destination_uri(c-&gt;download, uri);
</a><a href="#h1-10-13" id="h1-10-13" class="d">-	c-&gt;progress = 0;
</a><a href="#h1-10-14" id="h1-10-14" class="d">-	g_signal_connect(c-&gt;download, &quot;notify::progress&quot;, G_CALLBACK(updatedownload), c);
</a><a href="#h1-10-15" id="h1-10-15" class="d">-	g_signal_connect(c-&gt;download, &quot;notify::status&quot;, G_CALLBACK(updatedownload), c);
</a><a href="#h1-10-16" id="h1-10-16" class="d">-	
</a><a href="#h1-10-17" id="h1-10-17" class="d">-	c-&gt;title = copystr(&amp;c-&gt;title, filename);
</a><a href="#h1-10-18" id="h1-10-18" class="d">-	update(c);
</a><a href="#h1-10-19" id="h1-10-19" class="d">-	return TRUE;
</a><a href="#h1-10-20" id="h1-10-20" class="d">-}
</a><a href="#h1-10-21" id="h1-10-21" class="d">-
</a><a href="#h1-10-22" id="h1-10-22" class="d">-void
</a><a href="#h1-10-23" id="h1-10-23" class="d">-itemclick(GtkMenuItem *mi, Client *c) {
</a><a href="#h1-10-24" id="h1-10-24" class="d">-	int i;
</a><a href="#h1-10-25" id="h1-10-25" class="d">-	const char *label;
</a><a href="#h1-10-26" id="h1-10-26" class="d">-
</a><a href="#h1-10-27" id="h1-10-27" class="d">-	label = gtk_menu_item_get_label(mi);
</a><a href="#h1-10-28" id="h1-10-28" class="d">-	for(i = 0; i &lt; LENGTH(items); i++)
</a><a href="#h1-10-29" id="h1-10-29" class="d">-		if(!strcmp(items[i].label, label))
</a><a href="#h1-10-30" id="h1-10-30" class="d">-			items[i].func(c, &amp;(items[i].arg));
</a><a href="#h1-10-31" id="h1-10-31" class="d">-}
</a><a href="#h1-10-32" id="h1-10-32" class="d">-
</a><a href="#h1-10-33" id="h1-10-33" class="d">-gboolean
</a> keypress(GtkWidget* w, GdkEventKey *ev, Client *c) {
 	guint i;
 	gboolean processed = FALSE;
<a href="#h1-11" id="h1-11" class="h">@@ -418,8 +347,9 @@ keypress(GtkWidget* w, GdkEventKey *ev, Client *c) {
</a> 
 void
 linkhover(WebKitWebView *v, const char* t, const char* l, Client *c) {
<a href="#h1-11-3" id="h1-11-3" class="d">-	if(l)
</a><a href="#h1-11-4" id="h1-11-4" class="i">+	if(l) {
</a> 		c-&gt;linkhover = copystr(&amp;c-&gt;linkhover, l);
<a href="#h1-11-6" id="h1-11-6" class="i">+	}
</a> 	else if(c-&gt;linkhover) {
 		free(c-&gt;linkhover);
 		c-&gt;linkhover = NULL;
<a href="#h1-12" id="h1-12" class="h">@@ -431,9 +361,7 @@ void
</a> loadstatuschange(WebKitWebView *view, GParamSpec *pspec, Client *c) {
 	switch(webkit_web_view_get_load_status (c-&gt;view)) {
 	case WEBKIT_LOAD_COMMITTED:
<a href="#h1-12-3" id="h1-12-3" class="d">-	if(c-&gt;download)
</a><a href="#h1-12-4" id="h1-12-4" class="d">-		stop(c, NULL);
</a><a href="#h1-12-5" id="h1-12-5" class="d">-	setatom(c, uriprop, geturi(c));
</a><a href="#h1-12-6" id="h1-12-6" class="i">+		setatom(c, uriprop, geturi(c));
</a> 		break;
 	case WEBKIT_LOAD_FINISHED:
 		c-&gt;progress = 0;
<a href="#h1-13" id="h1-13" class="h">@@ -475,7 +403,6 @@ navigate(Client *c, const Arg *arg) {
</a> 
 Client *
 newclient(void) {
<a href="#h1-13-3" id="h1-13-3" class="d">-	int i;
</a> 	Client *c;
 	WebKitWebSettings *settings;
 	WebKitWebFrame *frame;
<a href="#h1-14" id="h1-14" class="h">@@ -509,16 +436,6 @@ newclient(void) {
</a> 	g_signal_connect(G_OBJECT(c-&gt;win), &quot;key-press-event&quot;, G_CALLBACK(keypress), c);
 	g_signal_connect(G_OBJECT(c-&gt;win), &quot;size-allocate&quot;, G_CALLBACK(resize), c);
 
<a href="#h1-14-3" id="h1-14-3" class="d">-	if(!(c-&gt;items = calloc(1, sizeof(GtkWidget *) * LENGTH(items))))
</a><a href="#h1-14-4" id="h1-14-4" class="d">-		die(&quot;Cannot malloc!\n&quot;);
</a><a href="#h1-14-5" id="h1-14-5" class="d">-
</a><a href="#h1-14-6" id="h1-14-6" class="d">-	/* contextmenu */
</a><a href="#h1-14-7" id="h1-14-7" class="d">-	for(i = 0; i &lt; LENGTH(items); i++) {
</a><a href="#h1-14-8" id="h1-14-8" class="d">-		c-&gt;items[i] = gtk_menu_item_new_with_label(items[i].label);
</a><a href="#h1-14-9" id="h1-14-9" class="d">-		g_signal_connect(G_OBJECT(c-&gt;items[i]), &quot;activate&quot;,
</a><a href="#h1-14-10" id="h1-14-10" class="d">-				G_CALLBACK(itemclick), c);
</a><a href="#h1-14-11" id="h1-14-11" class="d">-	}
</a><a href="#h1-14-12" id="h1-14-12" class="d">-
</a> 	/* VBox */
 	c-&gt;vbox = gtk_vbox_new(FALSE, 0);
 
<a href="#h1-15" id="h1-15" class="h">@@ -534,9 +451,7 @@ newclient(void) {
</a> 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;create-web-view&quot;, G_CALLBACK(createwindow), c);
 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;new-window-policy-decision-requested&quot;, G_CALLBACK(decidewindow), c);
 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;mime-type-policy-decision-requested&quot;, G_CALLBACK(decidedownload), c);
<a href="#h1-15-3" id="h1-15-3" class="d">-	g_signal_connect(G_OBJECT(c-&gt;view), &quot;download-requested&quot;, G_CALLBACK(initdownload), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;window-object-cleared&quot;, G_CALLBACK(windowobjectcleared), c);
<a href="#h1-15-5" id="h1-15-5" class="d">-	g_signal_connect(G_OBJECT(c-&gt;view), &quot;populate-popup&quot;, G_CALLBACK(context), c);
</a> 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;notify::load-status&quot;, G_CALLBACK(loadstatuschange), c);
 	g_signal_connect(G_OBJECT(c-&gt;view), &quot;notify::progress&quot;, G_CALLBACK(progresschange), c);
 
<a href="#h1-16" id="h1-16" class="h">@@ -582,7 +497,6 @@ newclient(void) {
</a> 	if(NOBACKGROUND)
 		webkit_web_view_set_transparent(c-&gt;view, TRUE);
 
<a href="#h1-16-3" id="h1-16-3" class="d">-	c-&gt;download = NULL;
</a> 	c-&gt;title = NULL;
 	c-&gt;next = clients;
 	clients = c;
<a href="#h1-17" id="h1-17" class="h">@@ -816,11 +730,7 @@ spawn(Client *c, const Arg *arg) {
</a> 
 void
 stop(Client *c, const Arg *arg) {
<a href="#h1-17-3" id="h1-17-3" class="d">-	if(c-&gt;download)
</a><a href="#h1-17-4" id="h1-17-4" class="d">-		webkit_download_cancel(c-&gt;download);
</a><a href="#h1-17-5" id="h1-17-5" class="d">-	else
</a><a href="#h1-17-6" id="h1-17-6" class="d">-		webkit_web_view_stop_loading(c-&gt;view);
</a><a href="#h1-17-7" id="h1-17-7" class="d">-	c-&gt;download = NULL;
</a><a href="#h1-17-8" id="h1-17-8" class="i">+	webkit_web_view_stop_loading(c-&gt;view);
</a> }
 
 void
<a href="#h1-18" id="h1-18" class="h">@@ -845,19 +755,6 @@ update(Client *c) {
</a> }
 
 void
<a href="#h1-18-3" id="h1-18-3" class="d">-updatedownload(WebKitDownload *o, GParamSpec *pspec, Client *c) {
</a><a href="#h1-18-4" id="h1-18-4" class="d">-	WebKitDownloadStatus status;
</a><a href="#h1-18-5" id="h1-18-5" class="d">-
</a><a href="#h1-18-6" id="h1-18-6" class="d">-	status = webkit_download_get_status(c-&gt;download);
</a><a href="#h1-18-7" id="h1-18-7" class="d">-	if(status == WEBKIT_DOWNLOAD_STATUS_STARTED || status == WEBKIT_DOWNLOAD_STATUS_CREATED) {
</a><a href="#h1-18-8" id="h1-18-8" class="d">-		c-&gt;progress = (gint)(webkit_download_get_progress(c-&gt;download)*100);
</a><a href="#h1-18-9" id="h1-18-9" class="d">-	}
</a><a href="#h1-18-10" id="h1-18-10" class="d">-	else
</a><a href="#h1-18-11" id="h1-18-11" class="d">-		stop(c, NULL);
</a><a href="#h1-18-12" id="h1-18-12" class="d">-	update(c);
</a><a href="#h1-18-13" id="h1-18-13" class="d">-}
</a><a href="#h1-18-14" id="h1-18-14" class="d">-
</a><a href="#h1-18-15" id="h1-18-15" class="d">-void
</a> updatewinid(Client *c) {
 	snprintf(winid, LENGTH(winid), &quot;%u&quot;,
 			(int)GDK_WINDOW_XID(GTK_WIDGET(c-&gt;win)-&gt;window));
</pre>
</div>
</body>
</html>
