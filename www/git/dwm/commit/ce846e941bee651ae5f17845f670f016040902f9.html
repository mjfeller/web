<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>added xlock command (I need it regularly) - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/ce846e941bee651ae5f17845f670f016040902f9.html">ce846e941bee651ae5f17845f670f016040902f9</a>
<b>parent</b> <a href="../commit/0a638a4cafb3dd754a596605bb55ac7977fba71e.html">0a638a4cafb3dd754a596605bb55ac7977fba71e</a>
<b>Author:</b> Anselm R. Garbe &lt;<a href="mailto:garbeam@wmii.de">garbeam@wmii.de</a>&gt;
<b>Date:</b>   Thu, 13 Jul 2006 12:19:10 +0200

added xlock command (I need it regularly)

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">client.c</a></td><td> | </td><td class="num">30</td><td><span class="i">++++++++++</span><span class="d">--------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">dev.c</a></td><td> | </td><td class="num">5</td><td><span class="i">++++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">dwm.h</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">dwm.html</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
</table></pre><pre>4 files changed, 19 insertions(+), 25 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/client.c.html">client.c</a> b/<a href="../file/client.c.html">client.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -11,9 +11,7 @@
</a> 
 #include &quot;dwm.h&quot;
 
<a href="#h0-0-3" id="h0-0-3" class="d">-static void floating(void);
</a><a href="#h0-0-4" id="h0-0-4" class="d">-static void tiling(void);
</a><a href="#h0-0-5" id="h0-0-5" class="d">-static void (*arrange)(void) = floating;
</a><a href="#h0-0-6" id="h0-0-6" class="i">+static void (*arrange)(void *) = floating;
</a> 
 void
 max(void *aux)
<a href="#h0-1" id="h0-1" class="h">@@ -24,27 +22,30 @@ max(void *aux)
</a> 	stack-&gt;y = sy;
 	stack-&gt;w = sw - 2 * stack-&gt;border;
 	stack-&gt;h = sh - 2 * stack-&gt;border;
<a href="#h0-1-3" id="h0-1-3" class="i">+	craise(stack);
</a> 	resize(stack);
 	discard_events(EnterWindowMask);
 }
 
<a href="#h0-1-8" id="h0-1-8" class="d">-static void
</a><a href="#h0-1-9" id="h0-1-9" class="d">-floating(void)
</a><a href="#h0-1-10" id="h0-1-10" class="i">+void
</a><a href="#h0-1-11" id="h0-1-11" class="i">+floating(void *aux)
</a> {
 	Client *c;
 
<a href="#h0-1-15" id="h0-1-15" class="i">+	arrange = floating;
</a> 	for(c = stack; c; c = c-&gt;snext)
 		resize(c);
 	discard_events(EnterWindowMask);
 }
 
<a href="#h0-1-21" id="h0-1-21" class="d">-static void
</a><a href="#h0-1-22" id="h0-1-22" class="d">-tiling(void)
</a><a href="#h0-1-23" id="h0-1-23" class="i">+void
</a><a href="#h0-1-24" id="h0-1-24" class="i">+tiling(void *aux)
</a> {
 	Client *c;
 	int n, cols, rows, gw, gh, i, j;
     float rt, fd;
 
<a href="#h0-1-30" id="h0-1-30" class="i">+	arrange = tiling;
</a> 	if(!clients)
 		return;
 	for(n = 0, c = clients; c; c = c-&gt;next, n++);
<a href="#h0-2" id="h0-2" class="h">@@ -76,17 +77,6 @@ tiling(void)
</a> }
 
 void
<a href="#h0-2-3" id="h0-2-3" class="d">-toggle(void *aux)
</a><a href="#h0-2-4" id="h0-2-4" class="d">-{
</a><a href="#h0-2-5" id="h0-2-5" class="d">-	if(arrange == floating)
</a><a href="#h0-2-6" id="h0-2-6" class="d">-		arrange = tiling;
</a><a href="#h0-2-7" id="h0-2-7" class="d">-	else
</a><a href="#h0-2-8" id="h0-2-8" class="d">-		arrange = floating;
</a><a href="#h0-2-9" id="h0-2-9" class="d">-	arrange();
</a><a href="#h0-2-10" id="h0-2-10" class="d">-}
</a><a href="#h0-2-11" id="h0-2-11" class="d">-
</a><a href="#h0-2-12" id="h0-2-12" class="d">-
</a><a href="#h0-2-13" id="h0-2-13" class="d">-void
</a> sel(void *aux)
 {
 	const char *arg = aux;
<a href="#h0-3" id="h0-3" class="h">@@ -280,7 +270,7 @@ manage(Window w, XWindowAttributes *wa)
</a> 			GrabModeAsync, GrabModeSync, None, None);
 	XGrabButton(dpy, Button3, Mod1Mask, c-&gt;win, False, ButtonPressMask,
 			GrabModeAsync, GrabModeSync, None, None);
<a href="#h0-3-3" id="h0-3-3" class="d">-	arrange();
</a><a href="#h0-3-4" id="h0-3-4" class="i">+	arrange(NULL);
</a> 	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w / 2, c-&gt;h / 2);
 	focus(c);
 }
<a href="#h0-4" id="h0-4" class="h">@@ -400,7 +390,7 @@ unmanage(Client *c)
</a> 	XFlush(dpy);
 	XSetErrorHandler(error_handler);
 	XUngrabServer(dpy);
<a href="#h0-4-3" id="h0-4-3" class="d">-	arrange();
</a><a href="#h0-4-4" id="h0-4-4" class="i">+	arrange(NULL);
</a> 	if(stack)
 		focus(stack);
 }
<b>diff --git a/<a id="h1" href="../file/dev.c.html">dev.c</a> b/<a href="../file/dev.c.html">dev.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -17,13 +17,16 @@ const char *term[] = {
</a> 	&quot;-*-terminus-medium-*-*-*-13-*-*-*-*-*-iso10646-*&quot;,NULL
 };
 const char *browse[] = { &quot;firefox&quot;, NULL };
<a href="#h1-0-3" id="h1-0-3" class="i">+const char *xlock[] = { &quot;xlock&quot;, NULL };
</a> 
 static Key key[] = {
 	{ Mod1Mask, XK_Return, (void (*)(void *))spawn, term },
 	{ Mod1Mask, XK_w, (void (*)(void *))spawn, browse },
<a href="#h1-0-8" id="h1-0-8" class="i">+	{ Mod1Mask, XK_l, (void (*)(void *))spawn, xlock },
</a> 	{ Mod1Mask, XK_k, sel, &quot;prev&quot; }, 
 	{ Mod1Mask, XK_j, sel, &quot;next&quot; }, 
<a href="#h1-0-11" id="h1-0-11" class="d">-	{ Mod1Mask, XK_space, toggle, NULL }, 
</a><a href="#h1-0-12" id="h1-0-12" class="i">+	{ Mod1Mask, XK_t, tiling, NULL }, 
</a><a href="#h1-0-13" id="h1-0-13" class="i">+	{ Mod1Mask, XK_f, tiling, NULL }, 
</a> 	{ Mod1Mask, XK_m, max, NULL }, 
 	{ Mod1Mask | ShiftMask, XK_c, ckill, NULL }, 
 	{ Mod1Mask | ShiftMask, XK_q, quit, NULL },
<b>diff --git a/<a id="h2" href="../file/dwm.h.html">dwm.h</a> b/<a href="../file/dwm.h.html">dwm.h</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -100,7 +100,8 @@ extern void lower(Client *c);
</a> extern void ckill(void *aux);
 extern void sel(void *aux);
 extern void max(void *aux);
<a href="#h2-0-3" id="h2-0-3" class="d">-extern void toggle(void *aux);
</a><a href="#h2-0-4" id="h2-0-4" class="i">+extern void floating(void *aux);
</a><a href="#h2-0-5" id="h2-0-5" class="i">+extern void tiling(void *aux);
</a> extern void gravitate(Client *c, Bool invert);
 
 /* draw.c */
<b>diff --git a/<a id="h3" href="../file/dwm.html.html">dwm.html</a> b/<a href="../file/dwm.html.html">dwm.html</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -59,9 +59,9 @@
</a> 			&lt;/li&gt;
 			&lt;li&gt;
 			garbeam &lt;b&gt;does not&lt;/b&gt; want any feedback to dwm. If you ask for support,
<a href="#h3-0-3" id="h3-0-3" class="d">-			feature requests or if you report bugs, they will be &lt;b&gt;ignored&lt;/b&gt;
</a><a href="#h3-0-4" id="h3-0-4" class="d">-			with a high chance. dwm is only intended to fit garbeam&#39;s needs,
</a><a href="#h3-0-5" id="h3-0-5" class="d">-			however you are free to download and distribute/relicense it, with the
</a><a href="#h3-0-6" id="h3-0-6" class="i">+			feature requests, or if you report bugs, they will be &lt;b&gt;ignored&lt;/b&gt;
</a><a href="#h3-0-7" id="h3-0-7" class="i">+			with a high chance. dwm is only intended to fit garbeams needs.
</a><a href="#h3-0-8" id="h3-0-8" class="i">+			However you are free to download and distribute/relicense it, with the
</a> 			conditions of the &lt;a href=&quot;http://wmii.de/cgi-bin/hgwebdir.cgi/dwm?f=f10eb1139362;file=LICENSE;style=raw&quot;&gt;MIT/X Consortium license&lt;/a&gt;.
 			&lt;/li&gt;
 		&lt;/ul&gt;
</pre>
</div>
</body>
</html>
