<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>added some comments - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/281f0981a6edd51417f9bb427cc870370748e43f.html">281f0981a6edd51417f9bb427cc870370748e43f</a>
<b>parent</b> <a href="../commit/6ff346bed992971f508102b5f0b9cf34038a2c08.html">6ff346bed992971f508102b5f0b9cf34038a2c08</a>
<b>Author:</b> Anselm R. Garbe &lt;<a href="mailto:arg@10kloc.org">arg@10kloc.org</a>&gt;
<b>Date:</b>   Mon, 11 Sep 2006 07:40:41 +0200

added some comments
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">client.c</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">dwm.h</a></td><td> | </td><td class="num">141</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
</table></pre><pre>2 files changed, 72 insertions(+), 75 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/client.c.html">client.c</a> b/<a href="../file/client.c.html">client.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -19,11 +19,11 @@ detachstack(Client *c)
</a> }
 
 static void
<a href="#h0-0-3" id="h0-0-3" class="d">-grabbuttons(Client *c, Bool focus)
</a><a href="#h0-0-4" id="h0-0-4" class="i">+grabbuttons(Client *c, Bool focused)
</a> {
 	XUngrabButton(dpy, AnyButton, AnyModifier, c-&gt;win);
 
<a href="#h0-0-8" id="h0-0-8" class="d">-	if(focus) {
</a><a href="#h0-0-9" id="h0-0-9" class="i">+	if(focused) {
</a> 		XGrabButton(dpy, Button1, MODKEY, c-&gt;win, False, BUTTONMASK,
 				GrabModeAsync, GrabModeSync, None, None);
 		XGrabButton(dpy, Button1, MODKEY | LockMask, c-&gt;win, False, BUTTONMASK,
<a href="#h0-1" id="h0-1" class="h">@@ -304,7 +304,7 @@ resize(Client *c, Bool sizehints, Corner sticky)
</a> 		wc.border_width = 0;
 	else
 		wc.border_width = 1;
<a href="#h0-1-3" id="h0-1-3" class="d">-	XConfigureWindow(dpy, c-&gt;win, CWX|CWY|CWWidth|CWHeight|CWBorderWidth, &amp;wc);
</a><a href="#h0-1-4" id="h0-1-4" class="i">+	XConfigureWindow(dpy, c-&gt;win, CWX | CWY | CWWidth | CWHeight | CWBorderWidth, &amp;wc);
</a> 	XSync(dpy, False);
 }
 
<b>diff --git a/<a id="h1" href="../file/dwm.h.html">dwm.h</a> b/<a href="../file/dwm.h.html">dwm.h</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -11,23 +11,19 @@
</a> #define MOUSEMASK		(BUTTONMASK | PointerMotionMask)
 #define PROTODELWIN		1
 
<a href="#h1-0-3" id="h1-0-3" class="i">+enum { NetSupported, NetWMName, NetLast };		/* EWMH atoms */
</a><a href="#h1-0-4" id="h1-0-4" class="i">+enum { WMProtocols, WMDelete, WMLast };			/* default atoms */
</a><a href="#h1-0-5" id="h1-0-5" class="i">+enum { CurNormal, CurResize, CurMove, CurLast };	/* cursor */
</a><a href="#h1-0-6" id="h1-0-6" class="i">+enum { ColFG, ColBG, ColLast };				/* color */
</a><a href="#h1-0-7" id="h1-0-7" class="i">+
</a><a href="#h1-0-8" id="h1-0-8" class="i">+typedef enum {
</a><a href="#h1-0-9" id="h1-0-9" class="i">+	TopLeft, TopRight, BotLeft, BotRight
</a><a href="#h1-0-10" id="h1-0-10" class="i">+} Corner; /* window corners */
</a><a href="#h1-0-11" id="h1-0-11" class="i">+
</a> typedef union {
 	const char *cmd;
 	int i;
<a href="#h1-0-15" id="h1-0-15" class="d">-} Arg;
</a><a href="#h1-0-16" id="h1-0-16" class="d">-
</a><a href="#h1-0-17" id="h1-0-17" class="d">-/* atoms */
</a><a href="#h1-0-18" id="h1-0-18" class="d">-enum { NetSupported, NetWMName, NetLast };
</a><a href="#h1-0-19" id="h1-0-19" class="d">-enum { WMProtocols, WMDelete, WMLast };
</a><a href="#h1-0-20" id="h1-0-20" class="d">-
</a><a href="#h1-0-21" id="h1-0-21" class="d">-/* cursor */
</a><a href="#h1-0-22" id="h1-0-22" class="d">-enum { CurNormal, CurResize, CurMove, CurLast };
</a><a href="#h1-0-23" id="h1-0-23" class="d">-
</a><a href="#h1-0-24" id="h1-0-24" class="d">-/* color */
</a><a href="#h1-0-25" id="h1-0-25" class="d">-enum { ColFG, ColBG, ColLast };
</a><a href="#h1-0-26" id="h1-0-26" class="d">-
</a><a href="#h1-0-27" id="h1-0-27" class="d">-/* window corners */
</a><a href="#h1-0-28" id="h1-0-28" class="d">-typedef enum { TopLeft, TopRight, BotLeft, BotRight } Corner;
</a><a href="#h1-0-29" id="h1-0-29" class="i">+} Arg; /* argument type */
</a> 
 typedef struct {
 	int ascent;
<a href="#h1-1" id="h1-1" class="h">@@ -37,7 +33,7 @@ typedef struct {
</a> 	XFontStruct *xfont;
 } Fnt;
 
<a href="#h1-1-3" id="h1-1-3" class="d">-typedef struct { /* draw context */
</a><a href="#h1-1-4" id="h1-1-4" class="i">+typedef struct {
</a> 	int x, y, w, h;
 	unsigned long norm[ColLast];
 	unsigned long sel[ColLast];
<a href="#h1-2" id="h1-2" class="h">@@ -45,7 +41,7 @@ typedef struct { /* draw context */
</a> 	Drawable drawable;
 	Fnt font;
 	GC gc;
<a href="#h1-2-3" id="h1-2-3" class="d">-} DC;
</a><a href="#h1-2-4" id="h1-2-4" class="i">+} DC; /* draw context */
</a> 
 typedef struct Client Client;
 struct Client {
<a href="#h1-3" id="h1-3" class="h">@@ -66,77 +62,78 @@ struct Client {
</a> 	Window twin;
 };
 
<a href="#h1-3-3" id="h1-3-3" class="d">-extern const char *tags[];
</a><a href="#h1-3-4" id="h1-3-4" class="d">-extern char stext[1024];
</a><a href="#h1-3-5" id="h1-3-5" class="d">-extern int bx, by, bw, bh, bmw, mw, screen, sx, sy, sw, sh;
</a><a href="#h1-3-6" id="h1-3-6" class="d">-extern unsigned int ntags, numlockmask;
</a><a href="#h1-3-7" id="h1-3-7" class="d">-extern void (*handler[LASTEvent])(XEvent *);
</a><a href="#h1-3-8" id="h1-3-8" class="d">-extern void (*arrange)(Arg *);
</a><a href="#h1-3-9" id="h1-3-9" class="i">+extern const char *tags[];			/* all tags */
</a><a href="#h1-3-10" id="h1-3-10" class="i">+extern char stext[1024];			/* status text */
</a><a href="#h1-3-11" id="h1-3-11" class="i">+extern int bx, by, bw, bh, bmw;			/* bar geometry, bar mode label width */
</a><a href="#h1-3-12" id="h1-3-12" class="i">+extern int mw, screen, sx, sy, sw, sh;		/* screen geometry, master width */
</a><a href="#h1-3-13" id="h1-3-13" class="i">+extern unsigned int ntags, numlockmask;		/* number of tags, and dynamic lock mask */
</a><a href="#h1-3-14" id="h1-3-14" class="i">+extern void (*handler[LASTEvent])(XEvent *);	/* event handler */
</a><a href="#h1-3-15" id="h1-3-15" class="i">+extern void (*arrange)(Arg *);			/* arrange function, indicates mode  */
</a> extern Atom wmatom[WMLast], netatom[NetLast];
<a href="#h1-3-17" id="h1-3-17" class="d">-extern Bool running, issel, maximized, *seltag;
</a><a href="#h1-3-18" id="h1-3-18" class="d">-extern Client *clients, *sel, *stack;
</a><a href="#h1-3-19" id="h1-3-19" class="i">+extern Bool running, issel, maximized, *seltag;	/* seltag is array of Bool */
</a><a href="#h1-3-20" id="h1-3-20" class="i">+extern Client *clients, *sel, *stack;		/* Client containers */
</a> extern Cursor cursor[CurLast];
<a href="#h1-3-22" id="h1-3-22" class="d">-extern DC dc;
</a><a href="#h1-3-23" id="h1-3-23" class="i">+extern DC dc;					/* draw context for everything */
</a> extern Display *dpy;
 extern Window root, barwin;
 
 /* client.c */
<a href="#h1-3-28" id="h1-3-28" class="d">-extern void ban(Client *c);
</a><a href="#h1-3-29" id="h1-3-29" class="d">-extern void focus(Client *c);
</a><a href="#h1-3-30" id="h1-3-30" class="d">-extern Client *getclient(Window w);
</a><a href="#h1-3-31" id="h1-3-31" class="d">-extern Client *getctitle(Window w);
</a><a href="#h1-3-32" id="h1-3-32" class="d">-extern void gravitate(Client *c, Bool invert);
</a><a href="#h1-3-33" id="h1-3-33" class="d">-extern void killclient(Arg *arg);
</a><a href="#h1-3-34" id="h1-3-34" class="d">-extern void manage(Window w, XWindowAttributes *wa);
</a><a href="#h1-3-35" id="h1-3-35" class="d">-extern void resize(Client *c, Bool sizehints, Corner sticky);
</a><a href="#h1-3-36" id="h1-3-36" class="d">-extern void setsize(Client *c);
</a><a href="#h1-3-37" id="h1-3-37" class="d">-extern void settitle(Client *c);
</a><a href="#h1-3-38" id="h1-3-38" class="d">-extern void togglemax(Arg *arg);
</a><a href="#h1-3-39" id="h1-3-39" class="d">-extern void unmanage(Client *c);
</a><a href="#h1-3-40" id="h1-3-40" class="i">+extern void ban(Client *c);			/* ban client from screen */
</a><a href="#h1-3-41" id="h1-3-41" class="i">+extern void focus(Client *c);			/* focus c, c may be NULL */
</a><a href="#h1-3-42" id="h1-3-42" class="i">+extern Client *getclient(Window w);		/* return client of w */
</a><a href="#h1-3-43" id="h1-3-43" class="i">+extern Client *getctitle(Window w);		/* return client of title window */
</a><a href="#h1-3-44" id="h1-3-44" class="i">+extern void gravitate(Client *c, Bool invert);	/* gravitate c */
</a><a href="#h1-3-45" id="h1-3-45" class="i">+extern void killclient(Arg *arg);		/* kill c nicely */
</a><a href="#h1-3-46" id="h1-3-46" class="i">+extern void manage(Window w, XWindowAttributes *wa);	/* manage new client */
</a><a href="#h1-3-47" id="h1-3-47" class="i">+extern void resize(Client *c, Bool sizehints, Corner sticky); /* resize c*/
</a><a href="#h1-3-48" id="h1-3-48" class="i">+extern void setsize(Client *c);			/* set the size structs of c */
</a><a href="#h1-3-49" id="h1-3-49" class="i">+extern void settitle(Client *c);		/* set the name of c */
</a><a href="#h1-3-50" id="h1-3-50" class="i">+extern void togglemax(Arg *arg);		/* (un)maximize c */
</a><a href="#h1-3-51" id="h1-3-51" class="i">+extern void unmanage(Client *c);		/* destroy c */
</a> 
 /* draw.c */
<a href="#h1-3-54" id="h1-3-54" class="d">-extern void drawall();
</a><a href="#h1-3-55" id="h1-3-55" class="d">-extern void drawstatus();
</a><a href="#h1-3-56" id="h1-3-56" class="d">-extern void drawtitle(Client *c);
</a><a href="#h1-3-57" id="h1-3-57" class="d">-extern unsigned long getcolor(const char *colstr);
</a><a href="#h1-3-58" id="h1-3-58" class="d">-extern void setfont(const char *fontstr);
</a><a href="#h1-3-59" id="h1-3-59" class="d">-extern unsigned int textw(const char *text);
</a><a href="#h1-3-60" id="h1-3-60" class="i">+extern void drawall();				/* draw all visible client titles and the bar */
</a><a href="#h1-3-61" id="h1-3-61" class="i">+extern void drawstatus();			/* draw the bar */
</a><a href="#h1-3-62" id="h1-3-62" class="i">+extern void drawtitle(Client *c);		/* draw title of c */
</a><a href="#h1-3-63" id="h1-3-63" class="i">+extern unsigned long getcolor(const char *colstr);	/* return color of colstr */
</a><a href="#h1-3-64" id="h1-3-64" class="i">+extern void setfont(const char *fontstr);	/* set the font for DC */
</a><a href="#h1-3-65" id="h1-3-65" class="i">+extern unsigned int textw(const char *text);	/* return the text width of text */
</a> 
 /* event.c */
<a href="#h1-3-68" id="h1-3-68" class="d">-extern void grabkeys();
</a><a href="#h1-3-69" id="h1-3-69" class="d">-extern void procevent();
</a><a href="#h1-3-70" id="h1-3-70" class="i">+extern void grabkeys();				/* grab all keys defined in config.h */
</a><a href="#h1-3-71" id="h1-3-71" class="i">+extern void procevent();			/* process pending X events */
</a> 
 /* main.c */
<a href="#h1-3-74" id="h1-3-74" class="d">-extern int getproto(Window w);
</a><a href="#h1-3-75" id="h1-3-75" class="d">-extern void quit(Arg *arg);
</a><a href="#h1-3-76" id="h1-3-76" class="d">-extern void sendevent(Window w, Atom a, long value);
</a><a href="#h1-3-77" id="h1-3-77" class="d">-extern int xerror(Display *dsply, XErrorEvent *ee);
</a><a href="#h1-3-78" id="h1-3-78" class="i">+extern int getproto(Window w);			/* return protocol mask of WMProtocols property of w */
</a><a href="#h1-3-79" id="h1-3-79" class="i">+extern void quit(Arg *arg);			/* quit dwm nicely */
</a><a href="#h1-3-80" id="h1-3-80" class="i">+extern void sendevent(Window w, Atom a, long value);	/* send synthetic event to w */
</a><a href="#h1-3-81" id="h1-3-81" class="i">+extern int xerror(Display *dsply, XErrorEvent *ee);	/* dwm&#39;s X error handler */
</a> 
 /* tag.c */
<a href="#h1-3-84" id="h1-3-84" class="d">-extern void initrregs();
</a><a href="#h1-3-85" id="h1-3-85" class="d">-extern Client *getnext(Client *c);
</a><a href="#h1-3-86" id="h1-3-86" class="d">-extern Client *getprev(Client *c);
</a><a href="#h1-3-87" id="h1-3-87" class="d">-extern void settags(Client *c, Client *trans);
</a><a href="#h1-3-88" id="h1-3-88" class="d">-extern void tag(Arg *arg);
</a><a href="#h1-3-89" id="h1-3-89" class="d">-extern void toggletag(Arg *arg);
</a><a href="#h1-3-90" id="h1-3-90" class="i">+extern void initrregs();			/* initialize regexps of rules defined in config.h */
</a><a href="#h1-3-91" id="h1-3-91" class="i">+extern Client *getnext(Client *c);		/* returns next visible client */
</a><a href="#h1-3-92" id="h1-3-92" class="i">+extern Client *getprev(Client *c);		/* returns previous visible client */
</a><a href="#h1-3-93" id="h1-3-93" class="i">+extern void settags(Client *c, Client *trans);	/* updates tags of c */
</a><a href="#h1-3-94" id="h1-3-94" class="i">+extern void tag(Arg *arg);			/* tags c accordingly to arg&#39;s index */
</a><a href="#h1-3-95" id="h1-3-95" class="i">+extern void toggletag(Arg *arg);		/* toggles c tags accordingly to arg&#39;s index */
</a> 
 /* util.c */
<a href="#h1-3-98" id="h1-3-98" class="d">-extern void *emallocz(unsigned int size);
</a><a href="#h1-3-99" id="h1-3-99" class="d">-extern void eprint(const char *errstr, ...);
</a><a href="#h1-3-100" id="h1-3-100" class="d">-extern void *erealloc(void *ptr, unsigned int size);
</a><a href="#h1-3-101" id="h1-3-101" class="d">-extern void spawn(Arg *arg);
</a><a href="#h1-3-102" id="h1-3-102" class="i">+extern void *emallocz(unsigned int size);	/* allocates zero-initialized memory, exits on error */
</a><a href="#h1-3-103" id="h1-3-103" class="i">+extern void eprint(const char *errstr, ...);	/* prints error string and exits with return code 1 */
</a><a href="#h1-3-104" id="h1-3-104" class="i">+extern void *erealloc(void *ptr, unsigned int size);	/* reallocates memory, exits on error */
</a><a href="#h1-3-105" id="h1-3-105" class="i">+extern void spawn(Arg *arg)			/* forks a new subprocess accordingly to arg&#39;s cmd */
</a> 
 /* view.c */
<a href="#h1-3-108" id="h1-3-108" class="d">-extern void detach(Client *c);
</a><a href="#h1-3-109" id="h1-3-109" class="d">-extern void dofloat(Arg *arg);
</a><a href="#h1-3-110" id="h1-3-110" class="d">-extern void dotile(Arg *arg);
</a><a href="#h1-3-111" id="h1-3-111" class="d">-extern void focusnext(Arg *arg);
</a><a href="#h1-3-112" id="h1-3-112" class="d">-extern void focusprev(Arg *arg);
</a><a href="#h1-3-113" id="h1-3-113" class="d">-extern Bool isvisible(Client *c);
</a><a href="#h1-3-114" id="h1-3-114" class="d">-extern void resizecol(Arg *arg);
</a><a href="#h1-3-115" id="h1-3-115" class="d">-extern void restack();
</a><a href="#h1-3-116" id="h1-3-116" class="d">-extern void togglemode(Arg *arg);
</a><a href="#h1-3-117" id="h1-3-117" class="d">-extern void toggleview(Arg *arg);
</a><a href="#h1-3-118" id="h1-3-118" class="d">-extern void view(Arg *arg);
</a><a href="#h1-3-119" id="h1-3-119" class="d">-extern void viewall(Arg *arg);
</a><a href="#h1-3-120" id="h1-3-120" class="d">-extern void zoom(Arg *arg);
</a><a href="#h1-3-121" id="h1-3-121" class="i">+extern void detach(Client *c);			/* detaches c from global client list */
</a><a href="#h1-3-122" id="h1-3-122" class="i">+extern void dofloat(Arg *arg);			/* arranges all windows in a floating way, arg is ignored */
</a><a href="#h1-3-123" id="h1-3-123" class="i">+extern void dotile(Arg *arg);			/* arranges all windows in a tiled way, arg is ignored */
</a><a href="#h1-3-124" id="h1-3-124" class="i">+extern void focusnext(Arg *arg);		/* focuses next visible client, arg is ignored  */
</a><a href="#h1-3-125" id="h1-3-125" class="i">+extern void focusprev(Arg *arg);		/* focuses previous visible client, arg is ignored */
</a><a href="#h1-3-126" id="h1-3-126" class="i">+extern Bool isvisible(Client *c);		/* returns True if client is visible */
</a><a href="#h1-3-127" id="h1-3-127" class="i">+extern void resizecol(Arg *arg);		/* resizes the master width accordingly to arg&#39;s index value */
</a><a href="#h1-3-128" id="h1-3-128" class="i">+extern void restack();				/* restores z layers of all clients */
</a><a href="#h1-3-129" id="h1-3-129" class="i">+extern void togglemode(Arg *arg);		/* toggles global arrange mode (between dotile and dofloat) */
</a><a href="#h1-3-130" id="h1-3-130" class="i">+extern void toggleview(Arg *arg);		/* makes the tag accordingly to arg&#39;s index (in)visible */
</a><a href="#h1-3-131" id="h1-3-131" class="i">+extern void view(Arg *arg);			/* makes the tag accordingly to arg&#39;s index visible */
</a><a href="#h1-3-132" id="h1-3-132" class="i">+extern void viewall(Arg *arg);			/* makes all tags visible, arg is ignored */
</a><a href="#h1-3-133" id="h1-3-133" class="i">+extern void zoom(Arg *arg);			/* zooms the focused client to master column, arg is ignored */
</a></pre>
</div>
</body>
</html>
