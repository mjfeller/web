<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>added logo+description - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/650a1fb4e1a798aca48a53739f5bb2649191bc1c.html">650a1fb4e1a798aca48a53739f5bb2649191bc1c</a>
<b>parent</b> <a href="../commit/d7e17087ed2fc5eed57efa03e81460e3e41f7238.html">d7e17087ed2fc5eed57efa03e81460e3e41f7238</a>
<b>Author:</b> Anselm R. Garbe &lt;<a href="mailto:garbeam@wmii.de">garbeam@wmii.de</a>&gt;
<b>Date:</b>   Thu, 13 Jul 2006 09:32:22 +0200

added logo+description

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">Makefile</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">README</a></td><td> | </td><td class="num">25</td><td><span class="i">++++++++++++</span><span class="d">-------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">client.c</a></td><td> | </td><td class="num">55</td><td><span class="i">+++++++++++++++++++++++++++++++++</span><span class="d">----------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">config.mk</a></td><td> | </td><td class="num">8</td><td><span class="i">++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">draw.c</a></td><td> | </td><td class="num">73</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d">-------------------------------------</span></td></tr>
<tr><td class="R">R</td><td><a href="#h5">gridwm.1 -&gt; dwm.1</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">dwm.html</a></td><td> | </td><td class="num">77</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">kb.c</a></td><td> | </td><td class="num">5</td><td><span class="i">+++</span><span class="d">--</span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">logo.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">util.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">wm.c</a></td><td> | </td><td class="num">23</td><td><span class="i">+++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">wm.h</a></td><td> | </td><td class="num">17</td><td><span class="i">+++++++</span><span class="d">----------</span></td></tr>
</table></pre><pre>12 files changed, 194 insertions(+), 115 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/Makefile.html">Makefile</a> b/<a href="../file/Makefile.html">Makefile</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,18 +1,18 @@
</a><a href="#h0-0-0" id="h0-0-0" class="d">-# gridwm - grid window manager
</a><a href="#h0-0-1" id="h0-0-1" class="i">+# dwm - dynamic window manager
</a> #   (C)opyright MMVI Anselm R. Garbe
 
 include config.mk
 
 SRC = client.c draw.c event.c kb.c mouse.c util.c wm.c
 OBJ = ${SRC:.c=.o}
<a href="#h0-0-8" id="h0-0-8" class="d">-MAN1 = gridwm.1 
</a><a href="#h0-0-9" id="h0-0-9" class="d">-BIN = gridwm
</a><a href="#h0-0-10" id="h0-0-10" class="i">+MAN1 = dwm.1 
</a><a href="#h0-0-11" id="h0-0-11" class="i">+BIN = dwm
</a> 
<a href="#h0-0-13" id="h0-0-13" class="d">-all: config gridwm
</a><a href="#h0-0-14" id="h0-0-14" class="i">+all: config dwm
</a> 	@echo finished
 
 config:
<a href="#h0-0-18" id="h0-0-18" class="d">-	@echo gridwm build options:
</a><a href="#h0-0-19" id="h0-0-19" class="i">+	@echo dwm build options:
</a> 	@echo &quot;LIBS     = ${LIBS}&quot;
 	@echo &quot;CFLAGS   = ${CFLAGS}&quot;
 	@echo &quot;LDFLAGS  = ${LDFLAGS}&quot;
<a href="#h0-1" id="h0-1" class="h">@@ -24,19 +24,19 @@ config:
</a> 
 ${OBJ}: wm.h
 
<a href="#h0-1-3" id="h0-1-3" class="d">-gridwm: ${OBJ}
</a><a href="#h0-1-4" id="h0-1-4" class="i">+dwm: ${OBJ}
</a> 	@echo LD $@
 	@${CC} -o $@ ${OBJ} ${LDFLAGS}
 
 clean:
<a href="#h0-1-9" id="h0-1-9" class="d">-	rm -f gridwm *.o core
</a><a href="#h0-1-10" id="h0-1-10" class="i">+	rm -f dwm *.o core
</a> 
 dist: clean
<a href="#h0-1-13" id="h0-1-13" class="d">-	mkdir -p gridwm-${VERSION}
</a><a href="#h0-1-14" id="h0-1-14" class="d">-	cp -R Makefile README LICENSE config.mk *.h *.c ${MAN} gridwm-${VERSION}
</a><a href="#h0-1-15" id="h0-1-15" class="d">-	tar -cf gridwm-${VERSION}.tar gridwm-${VERSION}
</a><a href="#h0-1-16" id="h0-1-16" class="d">-	gzip gridwm-${VERSION}.tar
</a><a href="#h0-1-17" id="h0-1-17" class="d">-	rm -rf gridwm-${VERSION}
</a><a href="#h0-1-18" id="h0-1-18" class="i">+	mkdir -p dwm-${VERSION}
</a><a href="#h0-1-19" id="h0-1-19" class="i">+	cp -R Makefile README LICENSE config.mk *.h *.c ${MAN} dwm-${VERSION}
</a><a href="#h0-1-20" id="h0-1-20" class="i">+	tar -cf dwm-${VERSION}.tar dwm-${VERSION}
</a><a href="#h0-1-21" id="h0-1-21" class="i">+	gzip dwm-${VERSION}.tar
</a><a href="#h0-1-22" id="h0-1-22" class="i">+	rm -rf dwm-${VERSION}
</a> 
 install: all
 	@mkdir -p ${DESTDIR}${PREFIX}/bin
<b>diff --git a/<a id="h1" href="../file/README.html">README</a> b/<a href="../file/README.html">README</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,41 +1,40 @@
</a><a href="#h1-0-0" id="h1-0-0" class="d">-gridwm
</a><a href="#h1-0-1" id="h1-0-1" class="i">+dwm
</a> ------
 
<a href="#h1-0-4" id="h1-0-4" class="d">-gridwm is an extremly fast, small, and automatic X11 window manager.  It
</a><a href="#h1-0-5" id="h1-0-5" class="d">-arranges all windows in a grid.
</a><a href="#h1-0-6" id="h1-0-6" class="i">+dwm is an extremly fast, small, and dynamic X11 window manager.
</a> 
 
 Requirements
 ------------
<a href="#h1-0-11" id="h1-0-11" class="d">-In order to build gridwm you need the Xlib header files.
</a><a href="#h1-0-12" id="h1-0-12" class="i">+In order to build dwm you need the Xlib header files.
</a> 
 
 Installation
 ------------
<a href="#h1-0-17" id="h1-0-17" class="d">-Edit config.mk to match your local setup. gridwm is installed into
</a><a href="#h1-0-18" id="h1-0-18" class="i">+Edit config.mk to match your local setup. dwm is installed into
</a> the /usr/local namespace by default.
 
<a href="#h1-0-21" id="h1-0-21" class="d">-Afterwards enter the following command to build and install gridwm (if
</a><a href="#h1-0-22" id="h1-0-22" class="i">+Afterwards enter the following command to build and install dwm (if
</a> necessary as root):
 
     make clean install
 
 
<a href="#h1-0-28" id="h1-0-28" class="d">-Running gridwm
</a><a href="#h1-0-29" id="h1-0-29" class="i">+Running dwm
</a> --------------
<a href="#h1-0-31" id="h1-0-31" class="d">-Add the following line to your .xinitrc to start gridwm using startx:
</a><a href="#h1-0-32" id="h1-0-32" class="i">+Add the following line to your .xinitrc to start dwm using startx:
</a> 
<a href="#h1-0-34" id="h1-0-34" class="d">-    exec gridwm
</a><a href="#h1-0-35" id="h1-0-35" class="i">+    exec dwm
</a> 
<a href="#h1-0-37" id="h1-0-37" class="d">-In order to connect gridwm to a specific display, make sure that
</a><a href="#h1-0-38" id="h1-0-38" class="i">+In order to connect dwm to a specific display, make sure that
</a> the DISPLAY environment variable is set correctly, e.g.:
 
<a href="#h1-0-41" id="h1-0-41" class="d">-    DISPLAY=foo.bar:1 exec gridwm
</a><a href="#h1-0-42" id="h1-0-42" class="i">+    DISPLAY=foo.bar:1 exec dwm
</a> 
<a href="#h1-0-44" id="h1-0-44" class="d">-This will start gridwm on display :1 of the host foo.bar.
</a><a href="#h1-0-45" id="h1-0-45" class="i">+This will start dwm on display :1 of the host foo.bar.
</a> 
 
 Configuration
 -------------
<a href="#h1-0-50" id="h1-0-50" class="d">-The configuration of gridwm is done by customizing the wm.h source file. To
</a><a href="#h1-0-51" id="h1-0-51" class="i">+The configuration of dwm is done by customizing the wm.h source file. To
</a> customize the key bindings edit kb.c.
<b>diff --git a/<a id="h2" href="../file/client.c.html">client.c</a> b/<a href="../file/client.c.html">client.c</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -11,7 +11,9 @@
</a> 
 #include &quot;wm.h&quot;
 
<a href="#h2-0-3" id="h2-0-3" class="d">-void (*arrange)(void *aux);
</a><a href="#h2-0-4" id="h2-0-4" class="i">+static void floating(void);
</a><a href="#h2-0-5" id="h2-0-5" class="i">+static void tiling(void);
</a><a href="#h2-0-6" id="h2-0-6" class="i">+static void (*arrange)(void) = tiling;
</a> 
 void
 max(void *aux)
<a href="#h2-1" id="h2-1" class="h">@@ -26,25 +28,23 @@ max(void *aux)
</a> 	discard_events(EnterWindowMask);
 }
 
<a href="#h2-1-3" id="h2-1-3" class="d">-void
</a><a href="#h2-1-4" id="h2-1-4" class="d">-floating(void *aux)
</a><a href="#h2-1-5" id="h2-1-5" class="i">+static void
</a><a href="#h2-1-6" id="h2-1-6" class="i">+floating(void)
</a> {
 	Client *c;
 
<a href="#h2-1-10" id="h2-1-10" class="d">-	arrange = floating;
</a> 	for(c = stack; c; c = c-&gt;snext)
 		resize(c);
 	discard_events(EnterWindowMask);
 }
 
<a href="#h2-1-16" id="h2-1-16" class="d">-void
</a><a href="#h2-1-17" id="h2-1-17" class="d">-grid(void *aux)
</a><a href="#h2-1-18" id="h2-1-18" class="i">+static void
</a><a href="#h2-1-19" id="h2-1-19" class="i">+tiling(void)
</a> {
 	Client *c;
 	int n, cols, rows, gw, gh, i, j;
     float rt, fd;
 
<a href="#h2-1-25" id="h2-1-25" class="d">-	arrange = grid;
</a> 	if(!clients)
 		return;
 	for(n = 0, c = clients; c; c = c-&gt;next, n++);
<a href="#h2-2" id="h2-2" class="h">@@ -76,6 +76,17 @@ grid(void *aux)
</a> }
 
 void
<a href="#h2-2-3" id="h2-2-3" class="i">+toggle(void *aux)
</a><a href="#h2-2-4" id="h2-2-4" class="i">+{
</a><a href="#h2-2-5" id="h2-2-5" class="i">+	if(arrange == floating)
</a><a href="#h2-2-6" id="h2-2-6" class="i">+		arrange = tiling;
</a><a href="#h2-2-7" id="h2-2-7" class="i">+	else
</a><a href="#h2-2-8" id="h2-2-8" class="i">+		arrange = floating;
</a><a href="#h2-2-9" id="h2-2-9" class="i">+	arrange();
</a><a href="#h2-2-10" id="h2-2-10" class="i">+}
</a><a href="#h2-2-11" id="h2-2-11" class="i">+
</a><a href="#h2-2-12" id="h2-2-12" class="i">+
</a><a href="#h2-2-13" id="h2-2-13" class="i">+void
</a> sel(void *aux)
 {
 	const char *arg = aux;
<a href="#h2-3" id="h2-3" class="h">@@ -114,8 +125,8 @@ resize_title(Client *c)
</a> 	c-&gt;tw = 0;
 	for(i = 0; i &lt; TLast; i++)
 		if(c-&gt;tags[i])
<a href="#h2-3-3" id="h2-3-3" class="d">-			c-&gt;tw += textw(&amp;brush.font, c-&gt;tags[i]) + brush.font.height;
</a><a href="#h2-3-4" id="h2-3-4" class="d">-	c-&gt;tw += textw(&amp;brush.font, c-&gt;name) + brush.font.height;
</a><a href="#h2-3-5" id="h2-3-5" class="i">+			c-&gt;tw += textw(&amp;dc.font, c-&gt;tags[i]) + dc.font.height;
</a><a href="#h2-3-6" id="h2-3-6" class="i">+	c-&gt;tw += textw(&amp;dc.font, c-&gt;name) + dc.font.height;
</a> 	if(c-&gt;tw &gt; c-&gt;w)
 		c-&gt;tw = c-&gt;w + 2;
 	c-&gt;tx = c-&gt;x + c-&gt;w - c-&gt;tw + 2;
<a href="#h2-4" id="h2-4" class="h">@@ -240,7 +251,7 @@ manage(Window w, XWindowAttributes *wa)
</a> 	c-&gt;border = 1;
 	update_size(c);
 	XSetWindowBorderWidth(dpy, c-&gt;win, 1);
<a href="#h2-4-3" id="h2-4-3" class="d">-	XSetWindowBorder(dpy, c-&gt;win, brush.border);
</a><a href="#h2-4-4" id="h2-4-4" class="i">+	XSetWindowBorder(dpy, c-&gt;win, dc.border);
</a> 	XSelectInput(dpy, c-&gt;win,
 			StructureNotifyMask | PropertyChangeMask | EnterWindowMask);
 	XGetTransientForHint(dpy, c-&gt;win, &amp;c-&gt;trans);
<a href="#h2-5" id="h2-5" class="h">@@ -266,7 +277,7 @@ manage(Window w, XWindowAttributes *wa)
</a> 			GrabModeAsync, GrabModeSync, None, None);
 	XGrabButton(dpy, Button3, Mod1Mask, c-&gt;win, False, ButtonPressMask,
 			GrabModeAsync, GrabModeSync, None, None);
<a href="#h2-5-3" id="h2-5-3" class="d">-	arrange(NULL);
</a><a href="#h2-5-4" id="h2-5-4" class="i">+	arrange();
</a> 	focus(c);
 }
 
<a href="#h2-6" id="h2-6" class="h">@@ -385,7 +396,7 @@ unmanage(Client *c)
</a> 	XFlush(dpy);
 	XSetErrorHandler(error_handler);
 	XUngrabServer(dpy);
<a href="#h2-6-3" id="h2-6-3" class="d">-	arrange(NULL);
</a><a href="#h2-6-4" id="h2-6-4" class="i">+	arrange();
</a> 	if(stack)
 		focus(stack);
 }
<a href="#h2-7" id="h2-7" class="h">@@ -417,21 +428,21 @@ draw_client(Client *c)
</a> 	if(c == stack)
 		return;
 
<a href="#h2-7-3" id="h2-7-3" class="d">-	brush.x = brush.y = 0;
</a><a href="#h2-7-4" id="h2-7-4" class="d">-	brush.h = c-&gt;th;
</a><a href="#h2-7-5" id="h2-7-5" class="i">+	dc.x = dc.y = 0;
</a><a href="#h2-7-6" id="h2-7-6" class="i">+	dc.h = c-&gt;th;
</a> 
<a href="#h2-7-8" id="h2-7-8" class="d">-	brush.w = 0;
</a><a href="#h2-7-9" id="h2-7-9" class="i">+	dc.w = 0;
</a> 	for(i = 0; i &lt; TLast; i++) {
 		if(c-&gt;tags[i]) {
<a href="#h2-7-12" id="h2-7-12" class="d">-			brush.x += brush.w;
</a><a href="#h2-7-13" id="h2-7-13" class="d">-			brush.w = textw(&amp;brush.font, c-&gt;tags[i]) + brush.font.height;
</a><a href="#h2-7-14" id="h2-7-14" class="d">-			draw(&amp;brush, True, c-&gt;tags[i]);
</a><a href="#h2-7-15" id="h2-7-15" class="i">+			dc.x += dc.w;
</a><a href="#h2-7-16" id="h2-7-16" class="i">+			dc.w = textw(&amp;dc.font, c-&gt;tags[i]) + dc.font.height;
</a><a href="#h2-7-17" id="h2-7-17" class="i">+			draw(True, c-&gt;tags[i]);
</a> 		}
 	}
<a href="#h2-7-20" id="h2-7-20" class="d">-	brush.x += brush.w;
</a><a href="#h2-7-21" id="h2-7-21" class="d">-	brush.w = textw(&amp;brush.font, c-&gt;name) + brush.font.height;
</a><a href="#h2-7-22" id="h2-7-22" class="d">-	draw(&amp;brush, True, c-&gt;name);
</a><a href="#h2-7-23" id="h2-7-23" class="d">-	XCopyArea(dpy, brush.drawable, c-&gt;title, brush.gc,
</a><a href="#h2-7-24" id="h2-7-24" class="i">+	dc.x += dc.w;
</a><a href="#h2-7-25" id="h2-7-25" class="i">+	dc.w = textw(&amp;dc.font, c-&gt;name) + dc.font.height;
</a><a href="#h2-7-26" id="h2-7-26" class="i">+	draw(True, c-&gt;name);
</a><a href="#h2-7-27" id="h2-7-27" class="i">+	XCopyArea(dpy, dc.drawable, c-&gt;title, dc.gc,
</a> 			0, 0, c-&gt;tw, c-&gt;th, 0, 0);
 	XFlush(dpy);
 }
<b>diff --git a/<a id="h3" href="../file/config.mk.html">config.mk</a> b/<a href="../file/config.mk.html">config.mk</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -14,14 +14,10 @@ VERSION = 0.0
</a> LIBS = -L${PREFIX}/lib -L/usr/lib -lc -lm -L${X11LIB} -lX11
 
 # Linux/BSD
<a href="#h3-0-3" id="h3-0-3" class="d">-CFLAGS = -Os -I. -I${PREFIX}/include -I/usr/include -I${X11INC} \
</a><a href="#h3-0-4" id="h3-0-4" class="i">+CFLAGS = -g -Wall -O2 -I. -I${PREFIX}/include -I/usr/include -I${X11INC} \
</a> 	-DVERSION=\&quot;${VERSION}\&quot;
<a href="#h3-0-6" id="h3-0-6" class="d">-LDFLAGS = ${LIBS}
</a><a href="#h3-0-7" id="h3-0-7" class="d">-#CFLAGS  += -W -Wstrict-prototypes -Wpointer-arith -Wcast-align -Wcast-qual -Wshadow -Waggregate-return -Wnested-externs -Winline -Wwrite-strings -Wundef -Wsign-compare -Wmissing-prototypes -Wredundant-decls
</a><a href="#h3-0-8" id="h3-0-8" class="i">+LDFLAGS = -g ${LIBS}
</a> 
<a href="#h3-0-10" id="h3-0-10" class="d">-#CFLAGS = -g -Wall -O2 -I. -I${PREFIX}/include -I/usr/include -I${X11INC} \
</a><a href="#h3-0-11" id="h3-0-11" class="d">-#	-DVERSION=\&quot;${VERSION}\&quot;
</a><a href="#h3-0-12" id="h3-0-12" class="d">-#LDFLAGS = -g ${LIBS}
</a> 
 # Solaris
 #CFLAGS = -fast -xtarget=ultra ${INCLUDES} -DVERSION=\&quot;${VERSION}\&quot;
<b>diff --git a/<a id="h4" href="../file/draw.c.html">draw.c</a> b/<a href="../file/draw.c.html">draw.c</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -11,39 +11,39 @@
</a> #include &quot;wm.h&quot;
 
 static void
<a href="#h4-0-3" id="h4-0-3" class="d">-drawborder(Brush *b)
</a><a href="#h4-0-4" id="h4-0-4" class="i">+drawborder(void)
</a> {
 	XPoint points[5];
<a href="#h4-0-7" id="h4-0-7" class="d">-	XSetLineAttributes(dpy, b-&gt;gc, 1, LineSolid, CapButt, JoinMiter);
</a><a href="#h4-0-8" id="h4-0-8" class="d">-	XSetForeground(dpy, b-&gt;gc, b-&gt;border);
</a><a href="#h4-0-9" id="h4-0-9" class="d">-	points[0].x = b-&gt;x;
</a><a href="#h4-0-10" id="h4-0-10" class="d">-	points[0].y = b-&gt;y;
</a><a href="#h4-0-11" id="h4-0-11" class="d">-	points[1].x = b-&gt;w - 1;
</a><a href="#h4-0-12" id="h4-0-12" class="i">+	XSetLineAttributes(dpy, dc.gc, 1, LineSolid, CapButt, JoinMiter);
</a><a href="#h4-0-13" id="h4-0-13" class="i">+	XSetForeground(dpy, dc.gc, dc.border);
</a><a href="#h4-0-14" id="h4-0-14" class="i">+	points[0].x = dc.x;
</a><a href="#h4-0-15" id="h4-0-15" class="i">+	points[0].y = dc.y;
</a><a href="#h4-0-16" id="h4-0-16" class="i">+	points[1].x = dc.w - 1;
</a> 	points[1].y = 0;
 	points[2].x = 0;
<a href="#h4-0-19" id="h4-0-19" class="d">-	points[2].y = b-&gt;h - 1;
</a><a href="#h4-0-20" id="h4-0-20" class="d">-	points[3].x = -(b-&gt;w - 1);
</a><a href="#h4-0-21" id="h4-0-21" class="i">+	points[2].y = dc.h - 1;
</a><a href="#h4-0-22" id="h4-0-22" class="i">+	points[3].x = -(dc.w - 1);
</a> 	points[3].y = 0;
 	points[4].x = 0;
<a href="#h4-0-25" id="h4-0-25" class="d">-	points[4].y = -(b-&gt;h - 1);
</a><a href="#h4-0-26" id="h4-0-26" class="d">-	XDrawLines(dpy, b-&gt;drawable, b-&gt;gc, points, 5, CoordModePrevious);
</a><a href="#h4-0-27" id="h4-0-27" class="i">+	points[4].y = -(dc.h - 1);
</a><a href="#h4-0-28" id="h4-0-28" class="i">+	XDrawLines(dpy, dc.drawable, dc.gc, points, 5, CoordModePrevious);
</a> }
 
 void
<a href="#h4-0-32" id="h4-0-32" class="d">-draw(Brush *b, Bool border, const char *text)
</a><a href="#h4-0-33" id="h4-0-33" class="i">+draw(Bool border, const char *text)
</a> {
 	int x, y, w, h;
 	unsigned int len;
 	static char buf[256];
 	XGCValues gcv;
<a href="#h4-0-39" id="h4-0-39" class="d">-	XRectangle r = { b-&gt;x, b-&gt;y, b-&gt;w, b-&gt;h };
</a><a href="#h4-0-40" id="h4-0-40" class="i">+	XRectangle r = { dc.x, dc.y, dc.w, dc.h };
</a> 
<a href="#h4-0-42" id="h4-0-42" class="d">-	XSetForeground(dpy, b-&gt;gc, b-&gt;bg);
</a><a href="#h4-0-43" id="h4-0-43" class="d">-	XFillRectangles(dpy, b-&gt;drawable, b-&gt;gc, &amp;r, 1);
</a><a href="#h4-0-44" id="h4-0-44" class="i">+	XSetForeground(dpy, dc.gc, dc.bg);
</a><a href="#h4-0-45" id="h4-0-45" class="i">+	XFillRectangles(dpy, dc.drawable, dc.gc, &amp;r, 1);
</a> 
 	w = 0;
 	if(border)
<a href="#h4-0-49" id="h4-0-49" class="d">-		drawborder(b);
</a><a href="#h4-0-50" id="h4-0-50" class="i">+		drawborder();
</a> 
 	if(!text)
 		return;
<a href="#h4-1" id="h4-1" class="h">@@ -54,33 +54,33 @@ draw(Brush *b, Bool border, const char *text)
</a> 	memcpy(buf, text, len);
 	buf[len] = 0;
 
<a href="#h4-1-3" id="h4-1-3" class="d">-	h = b-&gt;font.ascent + b-&gt;font.descent;
</a><a href="#h4-1-4" id="h4-1-4" class="d">-	y = b-&gt;y + (b-&gt;h / 2) - (h / 2) + b-&gt;font.ascent;
</a><a href="#h4-1-5" id="h4-1-5" class="d">-	x = b-&gt;x + (h / 2);
</a><a href="#h4-1-6" id="h4-1-6" class="i">+	h = dc.font.ascent + dc.font.descent;
</a><a href="#h4-1-7" id="h4-1-7" class="i">+	y = dc.y + (dc.h / 2) - (h / 2) + dc.font.ascent;
</a><a href="#h4-1-8" id="h4-1-8" class="i">+	x = dc.x + (h / 2);
</a> 
 	/* shorten text if necessary */
<a href="#h4-1-11" id="h4-1-11" class="d">-	while(len &amp;&amp; (w = textnw(&amp;b-&gt;font, buf, len)) &gt; b-&gt;w - h)
</a><a href="#h4-1-12" id="h4-1-12" class="i">+	while(len &amp;&amp; (w = textnw(&amp;dc.font, buf, len)) &gt; dc.w - h)
</a> 		buf[--len] = 0;
 
<a href="#h4-1-15" id="h4-1-15" class="d">-	if(w &gt; b-&gt;w)
</a><a href="#h4-1-16" id="h4-1-16" class="i">+	if(w &gt; dc.w)
</a> 		return; /* too long */
 
<a href="#h4-1-19" id="h4-1-19" class="d">-	gcv.foreground = b-&gt;fg;
</a><a href="#h4-1-20" id="h4-1-20" class="d">-	gcv.background = b-&gt;bg;
</a><a href="#h4-1-21" id="h4-1-21" class="d">-	if(b-&gt;font.set) {
</a><a href="#h4-1-22" id="h4-1-22" class="d">-		XChangeGC(dpy, b-&gt;gc, GCForeground | GCBackground, &amp;gcv);
</a><a href="#h4-1-23" id="h4-1-23" class="d">-		XmbDrawImageString(dpy, b-&gt;drawable, b-&gt;font.set, b-&gt;gc,
</a><a href="#h4-1-24" id="h4-1-24" class="i">+	gcv.foreground = dc.fg;
</a><a href="#h4-1-25" id="h4-1-25" class="i">+	gcv.background = dc.bg;
</a><a href="#h4-1-26" id="h4-1-26" class="i">+	if(dc.font.set) {
</a><a href="#h4-1-27" id="h4-1-27" class="i">+		XChangeGC(dpy, dc.gc, GCForeground | GCBackground, &amp;gcv);
</a><a href="#h4-1-28" id="h4-1-28" class="i">+		XmbDrawImageString(dpy, dc.drawable, dc.font.set, dc.gc,
</a> 				x, y, buf, len);
 	}
 	else {
<a href="#h4-1-32" id="h4-1-32" class="d">-		gcv.font = b-&gt;font.xfont-&gt;fid;
</a><a href="#h4-1-33" id="h4-1-33" class="d">-		XChangeGC(dpy, b-&gt;gc, GCForeground | GCBackground | GCFont, &amp;gcv);
</a><a href="#h4-1-34" id="h4-1-34" class="d">-		XDrawImageString(dpy, b-&gt;drawable, b-&gt;gc, x, y, buf, len);
</a><a href="#h4-1-35" id="h4-1-35" class="i">+		gcv.font = dc.font.xfont-&gt;fid;
</a><a href="#h4-1-36" id="h4-1-36" class="i">+		XChangeGC(dpy, dc.gc, GCForeground | GCBackground | GCFont, &amp;gcv);
</a><a href="#h4-1-37" id="h4-1-37" class="i">+		XDrawImageString(dpy, dc.drawable, dc.gc, x, y, buf, len);
</a> 	}
 }
 
 static unsigned long
<a href="#h4-1-42" id="h4-1-42" class="d">-xloadcolors(Colormap cmap, const char *colstr)
</a><a href="#h4-1-43" id="h4-1-43" class="i">+xinitcolors(Colormap cmap, const char *colstr)
</a> {
 	XColor color;
 	XAllocNamedColor(dpy, cmap, colstr, &amp;color, &amp;color);
<a href="#h4-2" id="h4-2" class="h">@@ -88,13 +88,12 @@ xloadcolors(Colormap cmap, const char *colstr)
</a> }
 
 void
<a href="#h4-2-3" id="h4-2-3" class="d">-loadcolors(int scr, Brush *b,
</a><a href="#h4-2-4" id="h4-2-4" class="d">-		const char *bg, const char *fg, const char *border)
</a><a href="#h4-2-5" id="h4-2-5" class="i">+initcolors(const char *bg, const char *fg, const char *border)
</a> {
<a href="#h4-2-7" id="h4-2-7" class="d">-	Colormap cmap = DefaultColormap(dpy, scr);
</a><a href="#h4-2-8" id="h4-2-8" class="d">-	b-&gt;bg = xloadcolors(cmap, bg);
</a><a href="#h4-2-9" id="h4-2-9" class="d">-	b-&gt;fg = xloadcolors(cmap, fg);
</a><a href="#h4-2-10" id="h4-2-10" class="d">-	b-&gt;border = xloadcolors(cmap, border);
</a><a href="#h4-2-11" id="h4-2-11" class="i">+	Colormap cmap = DefaultColormap(dpy, screen);
</a><a href="#h4-2-12" id="h4-2-12" class="i">+	dc.bg = xinitcolors(cmap, bg);
</a><a href="#h4-2-13" id="h4-2-13" class="i">+	dc.fg = xinitcolors(cmap, fg);
</a><a href="#h4-2-14" id="h4-2-14" class="i">+	dc.border = xinitcolors(cmap, border);
</a> }
 
 unsigned int
<a href="#h4-3" id="h4-3" class="h">@@ -121,7 +120,7 @@ texth(Fnt *font)
</a> }
 
 void
<a href="#h4-3-3" id="h4-3-3" class="d">-loadfont(Fnt *font, const char *fontstr)
</a><a href="#h4-3-4" id="h4-3-4" class="i">+initfont(Fnt *font, const char *fontstr)
</a> {
 	char **missing, *def;
 	int i, n;
<a href="#h4-4" id="h4-4" class="h">@@ -164,7 +163,7 @@ loadfont(Fnt *font, const char *fontstr)
</a> 		if (!font-&gt;xfont)
 			font-&gt;xfont = XLoadQueryFont(dpy, &quot;fixed&quot;);
 		if (!font-&gt;xfont)
<a href="#h4-4-3" id="h4-4-3" class="d">-			error(&quot;error, cannot load &#39;fixed&#39; font\n&quot;);
</a><a href="#h4-4-4" id="h4-4-4" class="i">+			error(&quot;error, cannot init &#39;fixed&#39; font\n&quot;);
</a> 		font-&gt;ascent = font-&gt;xfont-&gt;ascent;
 		font-&gt;descent = font-&gt;xfont-&gt;descent;
 	}
<b>diff --git a/<a id="h5" href="../file/gridwm.1.html">gridwm.1</a> b/<a href="../file/dwm.1.html">dwm.1</a></b>
<b>diff --git a/<a id="h6" href="../file/dwm.html.html">dwm.html</a> b/<a href="../file/dwm.html.html">dwm.html</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,77 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+&lt;html&gt;
</a><a href="#h6-0-1" id="h6-0-1" class="i">+	&lt;head&gt;
</a><a href="#h6-0-2" id="h6-0-2" class="i">+		&lt;title&gt;dwm - dynamic window manager&lt;/title&gt;
</a><a href="#h6-0-3" id="h6-0-3" class="i">+		&lt;meta name=&quot;author&quot; content=&quot;Anselm R. Garbe&quot;&gt;
</a><a href="#h6-0-4" id="h6-0-4" class="i">+		&lt;meta name=&quot;generator&quot; content=&quot;ed&quot;&gt;
</a><a href="#h6-0-5" id="h6-0-5" class="i">+		&lt;meta name=&quot;copyright&quot; content=&quot;(C)opyright 2006 by Anselm R. Garbe&quot;&gt;
</a><a href="#h6-0-6" id="h6-0-6" class="i">+		&lt;style type=&quot;text/css&quot;&gt;
</a><a href="#h6-0-7" id="h6-0-7" class="i">+			body {
</a><a href="#h6-0-8" id="h6-0-8" class="i">+				color: #000000;
</a><a href="#h6-0-9" id="h6-0-9" class="i">+				font-family: sans-serif;
</a><a href="#h6-0-10" id="h6-0-10" class="i">+			}
</a><a href="#h6-0-11" id="h6-0-11" class="i">+		&lt;/style&gt;
</a><a href="#h6-0-12" id="h6-0-12" class="i">+	&lt;/head&gt;
</a><a href="#h6-0-13" id="h6-0-13" class="i">+	&lt;body&gt;
</a><a href="#h6-0-14" id="h6-0-14" class="i">+		&lt;center&gt;
</a><a href="#h6-0-15" id="h6-0-15" class="i">+			&lt;img src=&quot;logo.png&quot;/&gt;&lt;br /&gt;
</a><a href="#h6-0-16" id="h6-0-16" class="i">+			&lt;h3&gt;dynamic window manager&lt;/h3&gt;
</a><a href="#h6-0-17" id="h6-0-17" class="i">+		&lt;center&gt;
</a><a href="#h6-0-18" id="h6-0-18" class="i">+		&lt;h2&gt;Description&lt;/h3&gt;
</a><a href="#h6-0-19" id="h6-0-19" class="i">+		&lt;p&gt;
</a><a href="#h6-0-20" id="h6-0-20" class="i">+		dwm is a dynamic window manager for X11.
</a><a href="#h6-0-21" id="h6-0-21" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-22" id="h6-0-22" class="i">+		&lt;h2&gt;Differences to wmii&lt;/h2	
</a><a href="#h6-0-23" id="h6-0-23" class="i">+		&lt;p&gt;
</a><a href="#h6-0-24" id="h6-0-24" class="i">+		In contrast to wmii, dwm is only a window manager, and nothing else.
</a><a href="#h6-0-25" id="h6-0-25" class="i">+		Hence, it is much smaller, faster and simpler. dwm does
</a><a href="#h6-0-26" id="h6-0-26" class="i">+		&lt;b&gt;not&lt;/b&gt; include following features wmii provides:
</a><a href="#h6-0-27" id="h6-0-27" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-28" id="h6-0-28" class="i">+		&lt;ul&gt;
</a><a href="#h6-0-29" id="h6-0-29" class="i">+			&lt;li&gt;9P support&lt;/li&gt;
</a><a href="#h6-0-30" id="h6-0-30" class="i">+			&lt;li&gt;status bar&lt;/li&gt;
</a><a href="#h6-0-31" id="h6-0-31" class="i">+			&lt;li&gt;menu&lt;/li&gt;
</a><a href="#h6-0-32" id="h6-0-32" class="i">+			&lt;li&gt;editable tagbars&lt;/li&gt;
</a><a href="#h6-0-33" id="h6-0-33" class="i">+			&lt;li&gt;shell-based config/control file&lt;/li&gt;
</a><a href="#h6-0-34" id="h6-0-34" class="i">+			&lt;li&gt;small tools (selection printer, mouse warper)&lt;/li&gt;
</a><a href="#h6-0-35" id="h6-0-35" class="i">+		&lt;/ul&gt;
</a><a href="#h6-0-36" id="h6-0-36" class="i">+		&lt;p&gt;
</a><a href="#h6-0-37" id="h6-0-37" class="i">+		dwm is only a single binary, it&#39;s source code is intended to never
</a><a href="#h6-0-38" id="h6-0-38" class="i">+		exceed 2000 SLOC.
</a><a href="#h6-0-39" id="h6-0-39" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-40" id="h6-0-40" class="i">+		&lt;p&gt;
</a><a href="#h6-0-41" id="h6-0-41" class="i">+		dwm is customized through editing its source code, that makes it
</a><a href="#h6-0-42" id="h6-0-42" class="i">+		extremely fast and secure - it does not process any input data which
</a><a href="#h6-0-43" id="h6-0-43" class="i">+		hasn&#39;t been known at compile time, except window title names.
</a><a href="#h6-0-44" id="h6-0-44" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-45" id="h6-0-45" class="i">+		&lt;p&gt;
</a><a href="#h6-0-46" id="h6-0-46" class="i">+		dwm is based on tagging and dynamic window management (however simpler
</a><a href="#h6-0-47" id="h6-0-47" class="i">+		than wmii or larswm).
</a><a href="#h6-0-48" id="h6-0-48" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-49" id="h6-0-49" class="i">+		&lt;p&gt;
</a><a href="#h6-0-50" id="h6-0-50" class="i">+		dwm don&#39;t distinguishes between layers, there is no floating or managed
</a><a href="#h6-0-51" id="h6-0-51" class="i">+		layer. Wether the clients of currently selected tag are managed or not
</a><a href="#h6-0-52" id="h6-0-52" class="i">+		managed, you can re-arrange all clients on the fly. Popup- and
</a><a href="#h6-0-53" id="h6-0-53" class="i">+		fixed-size windows are treated unmanaged. 
</a><a href="#h6-0-54" id="h6-0-54" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-55" id="h6-0-55" class="i">+		&lt;p&gt;
</a><a href="#h6-0-56" id="h6-0-56" class="i">+		dwm uses 1-pixel borders to provide the maximum of screen real
</a><a href="#h6-0-57" id="h6-0-57" class="i">+		estate to clients. Small titlebars are only drawn in front of unfocused
</a><a href="#h6-0-58" id="h6-0-58" class="i">+		clients.
</a><a href="#h6-0-59" id="h6-0-59" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-60" id="h6-0-60" class="i">+		&lt;p&gt;
</a><a href="#h6-0-61" id="h6-0-61" class="i">+		garbeam &lt;b&gt;don&#39;t&lt;/b&gt; wants any feedback to dwm. If you ask for support,
</a><a href="#h6-0-62" id="h6-0-62" class="i">+		feature requests or if you report bugs, they will be &lt;b&gt;ignored&lt;/b&gt;
</a><a href="#h6-0-63" id="h6-0-63" class="i">+		with a high chance. dwm is only intended to fit garbeam&#39;s needs,
</a><a href="#h6-0-64" id="h6-0-64" class="i">+		however you are free to download and distribute/relicense it, with the
</a><a href="#h6-0-65" id="h6-0-65" class="i">+		conditions of the &lt;a href=&quot;http://wmii.de/cgi-bin/hgwebdir.cgi/dwm?f=f10eb1139362;file=LICENSE;style=raw&quot;&gt;MIT/X Consortium license&lt;/a&gt;.
</a><a href="#h6-0-66" id="h6-0-66" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-67" id="h6-0-67" class="i">+		&lt;h2&gt;Development&lt;/h2&gt;
</a><a href="#h6-0-68" id="h6-0-68" class="i">+		&lt;p&gt;
</a><a href="#h6-0-69" id="h6-0-69" class="i">+		dwm is actively developed in parallel to wmii. You can &lt;a href=&quot;http://wmii.de/cgi-bin/hgwebdir.cgi/dwm&quot;&gt;browse&lt;/a&gt; its source code repository or get a copy using &lt;a href=&quot;http://www.selenic.com/mercurial/&quot;&gt;Mercurial&lt;/a&gt; with following command:
</a><a href="#h6-0-70" id="h6-0-70" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-71" id="h6-0-71" class="i">+		&lt;p&gt;
</a><a href="#h6-0-72" id="h6-0-72" class="i">+		&lt;em&gt;hg clone http://wmii.de/cgi-bin/hgwebdir.cgi/dwm&lt;/em&gt;
</a><a href="#h6-0-73" id="h6-0-73" class="i">+		&lt;/p&gt;
</a><a href="#h6-0-74" id="h6-0-74" class="i">+		&lt;p&gt;--Anselm&lt;/p&gt;
</a><a href="#h6-0-75" id="h6-0-75" class="i">+	&lt;/body&gt;
</a><a href="#h6-0-76" id="h6-0-76" class="i">+&lt;/html&gt;
</a><b>diff --git a/<a id="h7" href="../file/kb.c.html">kb.c</a> b/<a href="../file/kb.c.html">kb.c</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -13,13 +13,14 @@ const char *term[] = {
</a> 	&quot;aterm&quot;, &quot;-tr&quot;, &quot;+sb&quot;, &quot;-bg&quot;, &quot;black&quot;, &quot;-fg&quot;, &quot;white&quot;, &quot;-fn&quot;,
 	&quot;-*-terminus-medium-*-*-*-13-*-*-*-*-*-iso10646-*&quot;,NULL
 };
<a href="#h7-0-3" id="h7-0-3" class="i">+const char *browse[] = { &quot;firefox&quot;, NULL };
</a> 
 static Key key[] = {
 	{ Mod1Mask, XK_Return, (void (*)(void *))spawn, term },
<a href="#h7-0-7" id="h7-0-7" class="i">+	{ Mod1Mask, XK_w, (void (*)(void *))spawn, browse },
</a> 	{ Mod1Mask, XK_k, sel, &quot;prev&quot; }, 
 	{ Mod1Mask, XK_j, sel, &quot;next&quot; }, 
<a href="#h7-0-10" id="h7-0-10" class="d">-	{ Mod1Mask, XK_g, grid, NULL }, 
</a><a href="#h7-0-11" id="h7-0-11" class="d">-	{ Mod1Mask, XK_f, floating, NULL }, 
</a><a href="#h7-0-12" id="h7-0-12" class="i">+	{ Mod1Mask, XK_space, toggle, NULL }, 
</a> 	{ Mod1Mask, XK_m, max, NULL }, 
 	{ Mod1Mask | ShiftMask, XK_c, ckill, NULL }, 
 	{ Mod1Mask | ShiftMask, XK_q, quit, NULL },
<b>diff --git a/<a id="h8" href="../file/logo.png.html">logo.png</a> b/<a href="../file/logo.png.html">logo.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h9" href="../file/util.c.html">util.c</a> b/<a href="../file/util.c.html">util.c</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -85,7 +85,7 @@ spawn(char *argv[])
</a> 				close(ConnectionNumber(dpy));
 			setsid();
 			execvp(argv[0], argv);
<a href="#h9-0-3" id="h9-0-3" class="d">-			fprintf(stderr, &quot;gridwm: execvp %s&quot;, argv[0]);
</a><a href="#h9-0-4" id="h9-0-4" class="i">+			fprintf(stderr, &quot;dwm: execvp %s&quot;, argv[0]);
</a> 			perror(&quot; failed&quot;);
 		}
 		exit (0);
<b>diff --git a/<a id="h10" href="../file/wm.c.html">wm.c</a> b/<a href="../file/wm.c.html">wm.c</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -37,17 +37,17 @@ char stext[1024];
</a> int tsel = Tdev; /* default tag */
 int screen, sx, sy, sw, sh, th;
 
<a href="#h10-0-3" id="h10-0-3" class="d">-Brush brush = {0};
</a><a href="#h10-0-4" id="h10-0-4" class="i">+DC dc = {0};
</a> Client *clients = NULL;
 Client *stack = NULL;
 
 static Bool other_wm_running;
 static const char version[] =
<a href="#h10-0-10" id="h10-0-10" class="d">-	&quot;gridwm - &quot; VERSION &quot;, (C)opyright MMVI Anselm R. Garbe\n&quot;;
</a><a href="#h10-0-11" id="h10-0-11" class="i">+	&quot;dwm - &quot; VERSION &quot;, (C)opyright MMVI Anselm R. Garbe\n&quot;;
</a> static int (*x_error_handler) (Display *, XErrorEvent *);
 
 static void
<a href="#h10-0-15" id="h10-0-15" class="d">-usage() {	error(&quot;usage: gridwm [-v]\n&quot;); }
</a><a href="#h10-0-16" id="h10-0-16" class="i">+usage() {	error(&quot;usage: dwm [-v]\n&quot;); }
</a> 
 static void
 scan_wins()
<a href="#h10-1" id="h10-1" class="h">@@ -149,7 +149,7 @@ error_handler(Display *dpy, XErrorEvent *error)
</a> 			|| (error-&gt;request_code == X_GrabKey
 				&amp;&amp; error-&gt;error_code == BadAccess))
 		return 0;
<a href="#h10-1-3" id="h10-1-3" class="d">-	fprintf(stderr, &quot;gridwm: fatal error: request code=%d, error code=%d\n&quot;,
</a><a href="#h10-1-4" id="h10-1-4" class="i">+	fprintf(stderr, &quot;dwm: fatal error: request code=%d, error code=%d\n&quot;,
</a> 			error-&gt;request_code, error-&gt;error_code);
 	return x_error_handler(dpy, error); /* may call exit() */
 }
<a href="#h10-2" id="h10-2" class="h">@@ -203,7 +203,7 @@ main(int argc, char *argv[])
</a> 
 	dpy = XOpenDisplay(0);
 	if(!dpy)
<a href="#h10-2-3" id="h10-2-3" class="d">-		error(&quot;gridwm: cannot connect X server\n&quot;);
</a><a href="#h10-2-4" id="h10-2-4" class="i">+		error(&quot;dwm: cannot connect X server\n&quot;);
</a> 
 	screen = DefaultScreen(dpy);
 	root = RootWindow(dpy, screen);
<a href="#h10-3" id="h10-3" class="h">@@ -216,7 +216,7 @@ main(int argc, char *argv[])
</a> 	XFlush(dpy);
 
 	if(other_wm_running)
<a href="#h10-3-3" id="h10-3-3" class="d">-		error(&quot;gridwm: another window manager is already running\n&quot;);
</a><a href="#h10-3-4" id="h10-3-4" class="i">+		error(&quot;dwm: another window manager is already running\n&quot;);
</a> 
 	sx = sy = 0;
 	sw = DisplayWidth(dpy, screen);
<a href="#h10-4" id="h10-4" class="h">@@ -244,20 +244,19 @@ main(int argc, char *argv[])
</a> 	update_keys();
 
 	/* style */
<a href="#h10-4-3" id="h10-4-3" class="d">-	loadcolors(screen, &amp;brush, BGCOLOR, FGCOLOR, BORDERCOLOR);
</a><a href="#h10-4-4" id="h10-4-4" class="d">-	loadfont(&amp;brush.font, FONT);
</a><a href="#h10-4-5" id="h10-4-5" class="i">+	initcolors(BGCOLOR, FGCOLOR, BORDERCOLOR);
</a><a href="#h10-4-6" id="h10-4-6" class="i">+	initfont(&amp;dc.font, FONT);
</a> 
<a href="#h10-4-8" id="h10-4-8" class="d">-	th = texth(&amp;brush.font);
</a><a href="#h10-4-9" id="h10-4-9" class="i">+	th = texth(&amp;dc.font);
</a> 
<a href="#h10-4-11" id="h10-4-11" class="d">-	brush.drawable = XCreatePixmap(dpy, root, sw, th, DefaultDepth(dpy, screen));
</a><a href="#h10-4-12" id="h10-4-12" class="d">-	brush.gc = XCreateGC(dpy, root, 0, 0);
</a><a href="#h10-4-13" id="h10-4-13" class="i">+	dc.drawable = XCreatePixmap(dpy, root, sw, th, DefaultDepth(dpy, screen));
</a><a href="#h10-4-14" id="h10-4-14" class="i">+	dc.gc = XCreateGC(dpy, root, 0, 0);
</a> 
 	wa.event_mask = SubstructureRedirectMask | EnterWindowMask \
 					| LeaveWindowMask;
 	wa.cursor = cursor[CurNormal];
 	XChangeWindowAttributes(dpy, root, CWEventMask | CWCursor, &amp;wa);
 
<a href="#h10-4-21" id="h10-4-21" class="d">-	arrange = grid;
</a> 	scan_wins();
 
 	while(running) {
<b>diff --git a/<a id="h11" href="../file/wm.h.html">wm.h</a> b/<a href="../file/wm.h.html">wm.h</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -19,7 +19,7 @@ enum { Tscratch, Tdev, Tirc, Twww, Twork, TLast };
</a> 
 /********** CUSTOMIZE **********/
 
<a href="#h11-0-3" id="h11-0-3" class="d">-typedef struct Brush Brush;
</a><a href="#h11-0-4" id="h11-0-4" class="i">+typedef struct DC DC;
</a> typedef struct Client Client;
 typedef struct Fnt Fnt;
 typedef struct Key Key;
<a href="#h11-1" id="h11-1" class="h">@@ -39,7 +39,7 @@ struct Fnt {
</a> 	int height;
 };
 
<a href="#h11-1-3" id="h11-1-3" class="d">-struct Brush {
</a><a href="#h11-1-4" id="h11-1-4" class="i">+struct DC { /* draw context */
</a> 	GC gc;
 	Drawable drawable;
 	int x, y, w, h;
<a href="#h11-2" id="h11-2" class="h">@@ -79,12 +79,11 @@ extern Atom wm_atom[WMLast], net_atom[NetLast];
</a> extern Cursor cursor[CurLast];
 extern Bool running, issel;
 extern void (*handler[LASTEvent]) (XEvent *);
<a href="#h11-2-3" id="h11-2-3" class="d">-extern void (*arrange)(void *aux);
</a> 
 extern int tsel, screen, sx, sy, sw, sh, th;
 extern char stext[1024], *tags[TLast];
 
<a href="#h11-2-8" id="h11-2-8" class="d">-extern Brush brush;
</a><a href="#h11-2-9" id="h11-2-9" class="i">+extern DC dc;
</a> extern Client *clients, *stack;
 
 /* client.c */
<a href="#h11-3" id="h11-3" class="h">@@ -102,15 +101,13 @@ extern void lower(Client *c);
</a> extern void ckill(void *aux);
 extern void sel(void *aux);
 extern void max(void *aux);
<a href="#h11-3-3" id="h11-3-3" class="d">-extern void floating(void *aux);
</a><a href="#h11-3-4" id="h11-3-4" class="d">-extern void grid(void *aux);
</a><a href="#h11-3-5" id="h11-3-5" class="i">+extern void toggle(void *aux);
</a> extern void gravitate(Client *c, Bool invert);
 
 /* draw.c */
<a href="#h11-3-9" id="h11-3-9" class="d">-extern void draw(Brush *b, Bool border, const char *text);
</a><a href="#h11-3-10" id="h11-3-10" class="d">-extern void loadcolors(int scr, Brush *b,
</a><a href="#h11-3-11" id="h11-3-11" class="d">-		const char *bg, const char *fg, const char *bo);
</a><a href="#h11-3-12" id="h11-3-12" class="d">-extern void loadfont(Fnt *font, const char *fontstr);
</a><a href="#h11-3-13" id="h11-3-13" class="i">+extern void draw(Bool border, const char *text);
</a><a href="#h11-3-14" id="h11-3-14" class="i">+extern void initcolors(const char *bg, const char *fg, const char *bo);
</a><a href="#h11-3-15" id="h11-3-15" class="i">+extern void initfont(Fnt *font, const char *fontstr);
</a> extern unsigned int textnw(Fnt *font, char *text, unsigned int len);
 extern unsigned int textw(Fnt *font, char *text);
 extern unsigned int texth(Fnt *font);
</pre>
</div>
</body>
</html>
