<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>simplified Mod-m - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5f19423c7bd2aa1ebb3010af15bebffbc3a9cbc3.html">5f19423c7bd2aa1ebb3010af15bebffbc3a9cbc3</a>
<b>parent</b> <a href="../commit/d66ad1457e6b1e3fc18c01767fdb499acaef3c8e.html">d66ad1457e6b1e3fc18c01767fdb499acaef3c8e</a>
<b>Author:</b> Anselm R. Garbe &lt;<a href="mailto:garbeam@gmail.com">garbeam@gmail.com</a>&gt;
<b>Date:</b>   Sun,  9 Dec 2007 13:39:29 +0100

simplified Mod-m
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">config.def.h</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">dwm.1</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">dwm.c</a></td><td> | </td><td class="num">46</td><td><span class="i">++++++++++</span><span class="d">------------------------------------</span></td></tr>
</table></pre><pre>3 files changed, 12 insertions(+), 38 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/config.def.h.html">config.def.h</a> b/<a href="../file/config.def.h.html">config.def.h</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -46,7 +46,7 @@ Key keys[] = {
</a> 	{ MODKEY,			XK_k,		focusprev,	NULL },
 	{ MODKEY,			XK_h,		setmwfact,	&quot;-0.05&quot; },
 	{ MODKEY,			XK_l,		setmwfact,	&quot;+0.05&quot; },
<a href="#h0-0-3" id="h0-0-3" class="d">-	{ MODKEY,			XK_m,		togglemax,	NULL },
</a><a href="#h0-0-4" id="h0-0-4" class="i">+	{ MODKEY,			XK_m,		maximize,	NULL },
</a> 	{ MODKEY,			XK_r,		reapply,	NULL },
 	{ MODKEY,			XK_Return,	zoom,		NULL },
 	{ MODKEY,			XK_Tab,		viewprevtag,	NULL },
<b>diff --git a/<a id="h1" href="../file/dwm.1.html">dwm.1</a> b/<a href="../file/dwm.1.html">dwm.1</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -78,7 +78,7 @@ Focus previous window.
</a> Increases the master area width about 5% (tiled layout only).
 .TP
 .B Mod1\-m
<a href="#h1-0-3" id="h1-0-3" class="d">-Toggles maximization of current window.
</a><a href="#h1-0-4" id="h1-0-4" class="i">+Maximizes current window (floating layout/window only).
</a> .TP
 .B Mod1\-r
 Re-applies tagging rules to all windows.
<b>diff --git a/<a id="h2" href="../file/dwm.c.html">dwm.c</a> b/<a href="../file/dwm.c.html">dwm.c</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -61,12 +61,11 @@ typedef struct Client Client;
</a> struct Client {
 	char name[256];
 	int x, y, w, h;
<a href="#h2-0-3" id="h2-0-3" class="d">-	int rx, ry, rw, rh; /* revert geometry */
</a> 	int basew, baseh, incw, inch, maxw, maxh, minw, minh;
 	int minax, maxax, minay, maxay;
 	long flags;
 	unsigned int border, oldborder;
<a href="#h2-0-8" id="h2-0-8" class="d">-	Bool isbanned, isfixed, ismax, isfloating, wasfloating;
</a><a href="#h2-0-9" id="h2-0-9" class="i">+	Bool isbanned, isfixed, isfloating;
</a> 	Bool *tags;
 	Client *next;
 	Client *prev;
<a href="#h2-1" id="h2-1" class="h">@@ -157,6 +156,7 @@ void leavenotify(XEvent *e);
</a> void manage(Window w, XWindowAttributes *wa);
 void mappingnotify(XEvent *e);
 void maprequest(XEvent *e);
<a href="#h2-1-3" id="h2-1-3" class="i">+void maximize(const char *arg);
</a> void movemouse(Client *c);
 Client *nexttiled(Client *c);
 void propertynotify(XEvent *e);
<a href="#h2-2" id="h2-2" class="h">@@ -178,7 +178,6 @@ unsigned int textw(const char *text);
</a> void tile(void);
 void togglebar(const char *arg);
 void togglefloating(const char *arg);
<a href="#h2-2-3" id="h2-2-3" class="d">-void togglemax(const char *arg);
</a> void toggletag(const char *arg);
 void toggleview(const char *arg);
 void unban(Client *c);
<a href="#h2-3" id="h2-3" class="h">@@ -466,7 +465,6 @@ configurerequest(XEvent *e) {
</a> 	XWindowChanges wc;
 
 	if((c = getclient(ev-&gt;window))) {
<a href="#h2-3-3" id="h2-3-3" class="d">-		c-&gt;ismax = False;
</a> 		if(ev-&gt;value_mask &amp; CWBorderWidth)
 			c-&gt;border = ev-&gt;border_width;
 		if(c-&gt;isfixed || c-&gt;isfloating || (floating == layout-&gt;arrange)) {
<a href="#h2-4" id="h2-4" class="h">@@ -563,7 +561,7 @@ drawbar(void) {
</a> 		dc.x = x;
 		if(sel) {
 			drawtext(sel-&gt;name, dc.sel);
<a href="#h2-4-3" id="h2-4-3" class="d">-			drawsquare(sel-&gt;ismax, sel-&gt;isfloating, dc.sel);
</a><a href="#h2-4-4" id="h2-4-4" class="i">+			drawsquare(False, sel-&gt;isfloating, dc.sel);
</a> 		}
 		else
 			drawtext(NULL, dc.norm);
<a href="#h2-5" id="h2-5" class="h">@@ -1079,6 +1077,13 @@ maprequest(XEvent *e) {
</a> }
 
 void
<a href="#h2-5-3" id="h2-5-3" class="i">+maximize(const char *arg) {
</a><a href="#h2-5-4" id="h2-5-4" class="i">+	if(!sel || (!sel-&gt;isfloating &amp;&amp; layout-&gt;arrange != floating))
</a><a href="#h2-5-5" id="h2-5-5" class="i">+		return;
</a><a href="#h2-5-6" id="h2-5-6" class="i">+	resize(sel, wax, way, waw - 2 * sel-&gt;border, wah - 2 * sel-&gt;border, True);
</a><a href="#h2-5-7" id="h2-5-7" class="i">+}
</a><a href="#h2-5-8" id="h2-5-8" class="i">+
</a><a href="#h2-5-9" id="h2-5-9" class="i">+void
</a> movemouse(Client *c) {
 	int x1, y1, ocx, ocy, di, nx, ny;
 	unsigned int dui;
<a href="#h2-6" id="h2-6" class="h">@@ -1090,7 +1095,6 @@ movemouse(Client *c) {
</a> 	if(XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
 			None, cursor[CurMove], CurrentTime) != GrabSuccess)
 		return;
<a href="#h2-6-3" id="h2-6-3" class="d">-	c-&gt;ismax = False;
</a> 	XQueryPointer(dpy, root, &amp;dummy, &amp;dummy, &amp;x1, &amp;y1, &amp;di, &amp;di, &amp;dui);
 	for(;;) {
 		XMaskEvent(dpy, MOUSEMASK | ExposureMask | SubstructureRedirectMask, &amp;ev);
<a href="#h2-7" id="h2-7" class="h">@@ -1248,7 +1252,6 @@ resizemouse(Client *c) {
</a> 	if(XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
 			None, cursor[CurResize], CurrentTime) != GrabSuccess)
 		return;
<a href="#h2-7-3" id="h2-7-3" class="d">-	c-&gt;ismax = False;
</a> 	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w + c-&gt;border - 1, c-&gt;h + c-&gt;border - 1);
 	for(;;) {
 		XMaskEvent(dpy, MOUSEMASK | ExposureMask | SubstructureRedirectMask , &amp;ev);
<a href="#h2-8" id="h2-8" class="h">@@ -1609,7 +1612,6 @@ tile(void) {
</a> 	ny = way;
 	nw = 0; /* gcc stupidity requires this */
 	for(i = 0, c = mc = nexttiled(clients); c; c = nexttiled(c-&gt;next), i++) {
<a href="#h2-8-3" id="h2-8-3" class="d">-		c-&gt;ismax = False;
</a> 		if(i == 0) { /* master */
 			nw = mw - 2 * c-&gt;border;
 			nh = wah - 2 * c-&gt;border;
<a href="#h2-9" id="h2-9" class="h">@@ -1655,34 +1657,6 @@ togglefloating(const char *arg) {
</a> }
 
 void
<a href="#h2-9-3" id="h2-9-3" class="d">-togglemax(const char *arg) {
</a><a href="#h2-9-4" id="h2-9-4" class="d">-	XEvent ev;
</a><a href="#h2-9-5" id="h2-9-5" class="d">-
</a><a href="#h2-9-6" id="h2-9-6" class="d">-	if(!sel || sel-&gt;isfixed)
</a><a href="#h2-9-7" id="h2-9-7" class="d">-		return;
</a><a href="#h2-9-8" id="h2-9-8" class="d">-	if((sel-&gt;ismax = !sel-&gt;ismax)) {
</a><a href="#h2-9-9" id="h2-9-9" class="d">-		if((layout-&gt;arrange == floating) || sel-&gt;isfloating)
</a><a href="#h2-9-10" id="h2-9-10" class="d">-			sel-&gt;wasfloating = True;
</a><a href="#h2-9-11" id="h2-9-11" class="d">-		else {
</a><a href="#h2-9-12" id="h2-9-12" class="d">-			togglefloating(NULL);
</a><a href="#h2-9-13" id="h2-9-13" class="d">-			sel-&gt;wasfloating = False;
</a><a href="#h2-9-14" id="h2-9-14" class="d">-		}
</a><a href="#h2-9-15" id="h2-9-15" class="d">-		sel-&gt;rx = sel-&gt;x;
</a><a href="#h2-9-16" id="h2-9-16" class="d">-		sel-&gt;ry = sel-&gt;y;
</a><a href="#h2-9-17" id="h2-9-17" class="d">-		sel-&gt;rw = sel-&gt;w;
</a><a href="#h2-9-18" id="h2-9-18" class="d">-		sel-&gt;rh = sel-&gt;h;
</a><a href="#h2-9-19" id="h2-9-19" class="d">-		resize(sel, wax, way, waw - 2 * sel-&gt;border, wah - 2 * sel-&gt;border, True);
</a><a href="#h2-9-20" id="h2-9-20" class="d">-	}
</a><a href="#h2-9-21" id="h2-9-21" class="d">-	else {
</a><a href="#h2-9-22" id="h2-9-22" class="d">-		resize(sel, sel-&gt;rx, sel-&gt;ry, sel-&gt;rw, sel-&gt;rh, True);
</a><a href="#h2-9-23" id="h2-9-23" class="d">-		if(!sel-&gt;wasfloating)
</a><a href="#h2-9-24" id="h2-9-24" class="d">-			togglefloating(NULL);
</a><a href="#h2-9-25" id="h2-9-25" class="d">-	}
</a><a href="#h2-9-26" id="h2-9-26" class="d">-	drawbar();
</a><a href="#h2-9-27" id="h2-9-27" class="d">-	while(XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h2-9-28" id="h2-9-28" class="d">-}
</a><a href="#h2-9-29" id="h2-9-29" class="d">-
</a><a href="#h2-9-30" id="h2-9-30" class="d">-void
</a> toggletag(const char *arg) {
 	unsigned int i, j;
 
</pre>
</div>
</body>
</html>
