<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>sanitized names - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/c0705eeb65733e8c5091e47d5bdc701a0779a949.html">c0705eeb65733e8c5091e47d5bdc701a0779a949</a>
<b>parent</b> <a href="../commit/29355bd38284ed9aec8d3ffabde61db73947c9f9.html">29355bd38284ed9aec8d3ffabde61db73947c9f9</a>
<b>Author:</b> Anselm R. Garbe &lt;<a href="mailto:garbeam@wmii.de">garbeam@wmii.de</a>&gt;
<b>Date:</b>   Fri, 14 Jul 2006 22:54:09 +0200

sanitized names

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">client.c</a></td><td> | </td><td class="num">28</td><td><span class="i">++++++++++++++</span><span class="d">--------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">draw.c</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">dwm.h</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">event.c</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">key.c</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">main.c</a></td><td> | </td><td class="num">28</td><td><span class="i">++++++++++++++</span><span class="d">--------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">screen.c</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++</span><span class="d">------------</span></td></tr>
</table></pre><pre>7 files changed, 72 insertions(+), 72 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/client.c.html">client.c</a> b/<a href="../file/client.c.html">client.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -17,14 +17,14 @@ static Rule rule[] = {
</a> };
 
 Client *
<a href="#h0-0-3" id="h0-0-3" class="d">-next(Client *c)
</a><a href="#h0-0-4" id="h0-0-4" class="i">+getnext(Client *c)
</a> {
 	for(; c &amp;&amp; !c-&gt;tags[tsel]; c = c-&gt;next);
 	return c;
 }
 
 void
<a href="#h0-0-11" id="h0-0-11" class="d">-ban_client(Client *c)
</a><a href="#h0-0-12" id="h0-0-12" class="i">+ban(Client *c)
</a> {
 	XMoveWindow(dpy, c-&gt;win, c-&gt;x + 2 * sw, c-&gt;y);
 	XMoveWindow(dpy, c-&gt;title, c-&gt;tx + 2 * sw, c-&gt;ty);
<a href="#h0-1" id="h0-1" class="h">@@ -48,7 +48,7 @@ resize_title(Client *c)
</a> }
 
 void
<a href="#h0-1-3" id="h0-1-3" class="d">-update_name(Client *c)
</a><a href="#h0-1-4" id="h0-1-4" class="i">+settitle(Client *c)
</a> {
 	XTextProperty name;
 	int n;
<a href="#h0-2" id="h0-2" class="h">@@ -76,7 +76,7 @@ update_name(Client *c)
</a> }
 
 void
<a href="#h0-2-3" id="h0-2-3" class="d">-update_size(Client *c)
</a><a href="#h0-2-4" id="h0-2-4" class="i">+setsize(Client *c)
</a> {
 	XSizeHints size;
 	long msize;
<a href="#h0-3" id="h0-3" class="h">@@ -114,7 +114,7 @@ update_size(Client *c)
</a> }
 
 void
<a href="#h0-3-3" id="h0-3-3" class="d">-craise(Client *c)
</a><a href="#h0-3-4" id="h0-3-4" class="i">+higher(Client *c)
</a> {
 	XRaiseWindow(dpy, c-&gt;win);
 	XRaiseWindow(dpy, c-&gt;title);
<a href="#h0-4" id="h0-4" class="h">@@ -136,8 +136,8 @@ focus(Client *c)
</a> 	XFlush(dpy);
 	sel = c;
 	if(old &amp;&amp; old != c)
<a href="#h0-4-3" id="h0-4-3" class="d">-		draw_client(old);
</a><a href="#h0-4-4" id="h0-4-4" class="d">-	draw_client(c);
</a><a href="#h0-4-5" id="h0-4-5" class="i">+		drawtitle(old);
</a><a href="#h0-4-6" id="h0-4-6" class="i">+	drawtitle(c);
</a> 	XSetInputFocus(dpy, c-&gt;win, RevertToPointerRoot, CurrentTime);
 	XFlush(dpy);
 	while(XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
<a href="#h0-5" id="h0-5" class="h">@@ -196,8 +196,8 @@ manage(Window w, XWindowAttributes *wa)
</a> 	c-&gt;h = wa-&gt;height;
 	c-&gt;th = bh;
 	c-&gt;border = 1;
<a href="#h0-5-3" id="h0-5-3" class="d">-	c-&gt;proto = win_proto(c-&gt;win);
</a><a href="#h0-5-4" id="h0-5-4" class="d">-	update_size(c);
</a><a href="#h0-5-5" id="h0-5-5" class="i">+	c-&gt;proto = proto(c-&gt;win);
</a><a href="#h0-5-6" id="h0-5-6" class="i">+	setsize(c);
</a> 	XSelectInput(dpy, c-&gt;win,
 			StructureNotifyMask | PropertyChangeMask | EnterWindowMask);
 	XGetTransientForHint(dpy, c-&gt;win, &amp;trans);
<a href="#h0-6" id="h0-6" class="h">@@ -210,7 +210,7 @@ manage(Window w, XWindowAttributes *wa)
</a> 			DefaultVisual(dpy, screen),
 			CWOverrideRedirect | CWBackPixmap | CWEventMask, &amp;twa);
 
<a href="#h0-6-3" id="h0-6-3" class="d">-	update_name(c);
</a><a href="#h0-6-4" id="h0-6-4" class="i">+	settitle(c);
</a> 	init_tags(c);
 
 	for(l = &amp;clients; *l; l = &amp;(*l)-&gt;next);
<a href="#h0-7" id="h0-7" class="h">@@ -236,7 +236,7 @@ manage(Window w, XWindowAttributes *wa)
</a> 		focus(c);
 	}
 	else {
<a href="#h0-7-3" id="h0-7-3" class="d">-		ban_client(c);
</a><a href="#h0-7-4" id="h0-7-4" class="i">+		ban(c);
</a> 		XMapRaised(dpy, c-&gt;win);
 		XMapRaised(dpy, c-&gt;title);
 	}
<a href="#h0-8" id="h0-8" class="h">@@ -339,7 +339,7 @@ resize(Client *c, Bool inc)
</a> }
 
 static int
<a href="#h0-8-3" id="h0-8-3" class="d">-dummy_error_handler(Display *dsply, XErrorEvent *err)
</a><a href="#h0-8-4" id="h0-8-4" class="i">+dummy_xerror(Display *dsply, XErrorEvent *err)
</a> {
 	return 0;
 }
<a href="#h0-9" id="h0-9" class="h">@@ -350,7 +350,7 @@ unmanage(Client *c)
</a> 	Client **l;
 
 	XGrabServer(dpy);
<a href="#h0-9-3" id="h0-9-3" class="d">-	XSetErrorHandler(dummy_error_handler);
</a><a href="#h0-9-4" id="h0-9-4" class="i">+	XSetErrorHandler(dummy_xerror);
</a> 
 	XUngrabButton(dpy, AnyButton, AnyModifier, c-&gt;win);
 	XDestroyWindow(dpy, c-&gt;title);
<a href="#h0-10" id="h0-10" class="h">@@ -366,7 +366,7 @@ unmanage(Client *c)
</a> 	free(c);
 
 	XFlush(dpy);
<a href="#h0-10-3" id="h0-10-3" class="d">-	XSetErrorHandler(error_handler);
</a><a href="#h0-10-4" id="h0-10-4" class="i">+	XSetErrorHandler(xerror);
</a> 	XUngrabServer(dpy);
 	arrange(NULL);
 	if(sel)
<b>diff --git a/<a id="h1" href="../file/draw.c.html">draw.c</a> b/<a href="../file/draw.c.html">draw.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -11,7 +11,7 @@
</a> #include &quot;dwm.h&quot;
 
 void
<a href="#h1-0-3" id="h1-0-3" class="d">-draw_bar()
</a><a href="#h1-0-4" id="h1-0-4" class="i">+drawstatus()
</a> {
 	int i;
 
<a href="#h1-1" id="h1-1" class="h">@@ -44,11 +44,11 @@ draw_bar()
</a> }
 
 void
<a href="#h1-1-3" id="h1-1-3" class="d">-draw_client(Client *c)
</a><a href="#h1-1-4" id="h1-1-4" class="i">+drawtitle(Client *c)
</a> {
 	int i;
 	if(c == sel) {
<a href="#h1-1-8" id="h1-1-8" class="d">-		draw_bar();
</a><a href="#h1-1-9" id="h1-1-9" class="i">+		drawstatus();
</a> 		XUnmapWindow(dpy, c-&gt;title);
 		XSetWindowBorder(dpy, c-&gt;win, dc.fg);
 		return;
<a href="#h1-2" id="h1-2" class="h">@@ -145,7 +145,7 @@ drawtext(const char *text, Bool invert, Bool border)
</a> }
 
 unsigned long
<a href="#h1-2-3" id="h1-2-3" class="d">-initcolor(const char *colstr)
</a><a href="#h1-2-4" id="h1-2-4" class="i">+getcolor(const char *colstr)
</a> {
 	XColor color;
 	Colormap cmap = DefaultColormap(dpy, screen);
<a href="#h1-3" id="h1-3" class="h">@@ -172,7 +172,7 @@ textw(char *text)
</a> }
 
 void
<a href="#h1-3-3" id="h1-3-3" class="d">-initfont(const char *fontstr)
</a><a href="#h1-3-4" id="h1-3-4" class="i">+setfont(const char *fontstr)
</a> {
 	char **missing, *def;
 	int i, n;
<b>diff --git a/<a id="h2" href="../file/dwm.h.html">dwm.h</a> b/<a href="../file/dwm.h.html">dwm.h</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -107,22 +107,22 @@ extern void manage(Window w, XWindowAttributes *wa);
</a> extern void unmanage(Client *c);
 extern Client *getclient(Window w);
 extern void focus(Client *c);
<a href="#h2-0-3" id="h2-0-3" class="d">-extern void update_name(Client *c);
</a><a href="#h2-0-4" id="h2-0-4" class="i">+extern void settitle(Client *c);
</a> extern void resize(Client *c, Bool inc);
<a href="#h2-0-6" id="h2-0-6" class="d">-extern void update_size(Client *c);
</a><a href="#h2-0-7" id="h2-0-7" class="i">+extern void setsize(Client *c);
</a> extern Client *gettitle(Window w);
<a href="#h2-0-9" id="h2-0-9" class="d">-extern void craise(Client *c);
</a><a href="#h2-0-10" id="h2-0-10" class="i">+extern void higher(Client *c);
</a> extern void lower(Client *c);
 extern void gravitate(Client *c, Bool invert);
<a href="#h2-0-13" id="h2-0-13" class="d">-extern void ban_client(Client *c);
</a><a href="#h2-0-14" id="h2-0-14" class="d">-extern Client *next(Client *c);
</a><a href="#h2-0-15" id="h2-0-15" class="i">+extern void ban(Client *c);
</a><a href="#h2-0-16" id="h2-0-16" class="i">+extern Client *getnext(Client *c);
</a> 
 /* draw.c */
<a href="#h2-0-19" id="h2-0-19" class="d">-extern void draw_bar();
</a><a href="#h2-0-20" id="h2-0-20" class="d">-extern void draw_client(Client *c);
</a><a href="#h2-0-21" id="h2-0-21" class="i">+extern void drawstatus();
</a><a href="#h2-0-22" id="h2-0-22" class="i">+extern void drawtitle(Client *c);
</a> extern void drawtext(const char *text, Bool invert, Bool border);
<a href="#h2-0-24" id="h2-0-24" class="d">-extern unsigned long initcolor(const char *colstr);
</a><a href="#h2-0-25" id="h2-0-25" class="d">-extern void initfont(const char *fontstr);
</a><a href="#h2-0-26" id="h2-0-26" class="i">+extern unsigned long getcolor(const char *colstr);
</a><a href="#h2-0-27" id="h2-0-27" class="i">+extern void setfont(const char *fontstr);
</a> extern unsigned int textnw(char *text, unsigned int len);
 extern unsigned int textw(char *text);
 extern unsigned int texth(void);
<a href="#h2-1" id="h2-1" class="h">@@ -132,9 +132,9 @@ extern void grabkeys();
</a> extern void keypress(XEvent *e);
 
 /* main.c */
<a href="#h2-1-3" id="h2-1-3" class="d">-extern int error_handler(Display *dsply, XErrorEvent *e);
</a><a href="#h2-1-4" id="h2-1-4" class="d">-extern void send_message(Window w, Atom a, long value);
</a><a href="#h2-1-5" id="h2-1-5" class="d">-extern int win_proto(Window w);
</a><a href="#h2-1-6" id="h2-1-6" class="i">+extern int xerror(Display *dsply, XErrorEvent *e);
</a><a href="#h2-1-7" id="h2-1-7" class="i">+extern void sendevent(Window w, Atom a, long value);
</a><a href="#h2-1-8" id="h2-1-8" class="i">+extern int proto(Window w);
</a> extern void quit(Arg *arg);
 
 /* screen.c */
<b>diff --git a/<a id="h3" href="../file/event.c.html">event.c</a> b/<a href="../file/event.c.html">event.c</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -129,7 +129,7 @@ buttonpress(XEvent *e)
</a> 	else if((c = getclient(ev-&gt;window))) {
 		if(arrange == tiling &amp;&amp; !c-&gt;floating)
 			return;
<a href="#h3-0-3" id="h3-0-3" class="d">-		craise(c);
</a><a href="#h3-0-4" id="h3-0-4" class="i">+		higher(c);
</a> 		switch(ev-&gt;button) {
 		default:
 			break;
<a href="#h3-1" id="h3-1" class="h">@@ -225,9 +225,9 @@ expose(XEvent *e)
</a> 
 	if(ev-&gt;count == 0) {
 		if(barwin == ev-&gt;window)
<a href="#h3-1-3" id="h3-1-3" class="d">-			draw_bar();
</a><a href="#h3-1-4" id="h3-1-4" class="i">+			drawstatus();
</a> 		else if((c = gettitle(ev-&gt;window)))
<a href="#h3-1-6" id="h3-1-6" class="d">-			draw_client(c);
</a><a href="#h3-1-7" id="h3-1-7" class="i">+			drawtitle(c);
</a> 	}
 }
 
<a href="#h3-2" id="h3-2" class="h">@@ -262,7 +262,7 @@ propertynotify(XEvent *e)
</a> 
 	if((c = getclient(ev-&gt;window))) {
 		if(ev-&gt;atom == wm_atom[WMProtocols]) {
<a href="#h3-2-3" id="h3-2-3" class="d">-			c-&gt;proto = win_proto(c-&gt;win);
</a><a href="#h3-2-4" id="h3-2-4" class="i">+			c-&gt;proto = proto(c-&gt;win);
</a> 			return;
 		}
 		switch (ev-&gt;atom) {
<a href="#h3-3" id="h3-3" class="h">@@ -273,12 +273,12 @@ propertynotify(XEvent *e)
</a> 					arrange(NULL);
 				break;
 			case XA_WM_NORMAL_HINTS:
<a href="#h3-3-3" id="h3-3-3" class="d">-				update_size(c);
</a><a href="#h3-3-4" id="h3-3-4" class="i">+				setsize(c);
</a> 				break;
 		}
 		if(ev-&gt;atom == XA_WM_NAME || ev-&gt;atom == net_atom[NetWMName]) {
<a href="#h3-3-8" id="h3-3-8" class="d">-			update_name(c);
</a><a href="#h3-3-9" id="h3-3-9" class="d">-			draw_client(c);
</a><a href="#h3-3-10" id="h3-3-10" class="i">+			settitle(c);
</a><a href="#h3-3-11" id="h3-3-11" class="i">+			drawtitle(c);
</a> 		}
 	}
 }
<b>diff --git a/<a id="h4" href="../file/key.c.html">key.c</a> b/<a href="../file/key.c.html">key.c</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -99,8 +99,8 @@ zoom(Arg *arg)
</a> 	if(!sel)
 		return;
 
<a href="#h4-0-3" id="h4-0-3" class="d">-	if(sel == next(clients) &amp;&amp; sel-&gt;next)  {
</a><a href="#h4-0-4" id="h4-0-4" class="d">-		if((c = next(sel-&gt;next)))
</a><a href="#h4-0-5" id="h4-0-5" class="i">+	if(sel == getnext(clients) &amp;&amp; sel-&gt;next)  {
</a><a href="#h4-0-6" id="h4-0-6" class="i">+		if((c = getnext(sel-&gt;next)))
</a> 			sel = c;
 	}
 
<a href="#h4-1" id="h4-1" class="h">@@ -122,7 +122,7 @@ max(Arg *arg)
</a> 	sel-&gt;y = sy + bh;
 	sel-&gt;w = sw - 2 * sel-&gt;border;
 	sel-&gt;h = sh - 2 * sel-&gt;border - bh;
<a href="#h4-1-3" id="h4-1-3" class="d">-	craise(sel);
</a><a href="#h4-1-4" id="h4-1-4" class="i">+	higher(sel);
</a> 	resize(sel, False);
 }
 
<a href="#h4-2" id="h4-2" class="h">@@ -157,7 +157,7 @@ prevc(Arg *arg)
</a> 		return;
 
 	if((c = sel-&gt;revert &amp;&amp; sel-&gt;revert-&gt;tags[tsel] ? sel-&gt;revert : NULL)) {
<a href="#h4-2-3" id="h4-2-3" class="d">-		craise(c);
</a><a href="#h4-2-4" id="h4-2-4" class="i">+		higher(c);
</a> 		focus(c);
 	}
 }
<a href="#h4-3" id="h4-3" class="h">@@ -170,10 +170,10 @@ nextc(Arg *arg)
</a> 	if(!sel)
 		return;
 
<a href="#h4-3-3" id="h4-3-3" class="d">-	if(!(c = next(sel-&gt;next)))
</a><a href="#h4-3-4" id="h4-3-4" class="d">-		c = next(clients);
</a><a href="#h4-3-5" id="h4-3-5" class="i">+	if(!(c = getnext(sel-&gt;next)))
</a><a href="#h4-3-6" id="h4-3-6" class="i">+		c = getnext(clients);
</a> 	if(c) {
<a href="#h4-3-8" id="h4-3-8" class="d">-		craise(c);
</a><a href="#h4-3-9" id="h4-3-9" class="i">+		higher(c);
</a> 		c-&gt;revert = sel;
 		focus(c);
 	}
<a href="#h4-4" id="h4-4" class="h">@@ -185,7 +185,7 @@ ckill(Arg *arg)
</a> 	if(!sel)
 		return;
 	if(sel-&gt;proto &amp; WM_PROTOCOL_DELWIN)
<a href="#h4-4-3" id="h4-4-3" class="d">-		send_message(sel-&gt;win, wm_atom[WMProtocols], wm_atom[WMDelete]);
</a><a href="#h4-4-4" id="h4-4-4" class="i">+		sendevent(sel-&gt;win, wm_atom[WMProtocols], wm_atom[WMDelete]);
</a> 	else
 		XKillClient(dpy, sel-&gt;win);
 }
<b>diff --git a/<a id="h5" href="../file/main.c.html">main.c</a> b/<a href="../file/main.c.html">main.c</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -46,7 +46,7 @@ Client *sel = NULL;
</a> static Bool other_wm_running;
 static const char version[] =
 	&quot;dwm-&quot; VERSION &quot;, (C)opyright MMVI Anselm R. Garbe\n&quot;;
<a href="#h5-0-3" id="h5-0-3" class="d">-static int (*x_error_handler) (Display *, XErrorEvent *);
</a><a href="#h5-0-4" id="h5-0-4" class="i">+static int (*x_xerror) (Display *, XErrorEvent *);
</a> 
 static void
 usage() {	error(&quot;usage: dwm [-v]\n&quot;); }
<a href="#h5-1" id="h5-1" class="h">@@ -94,7 +94,7 @@ win_property(Window w, Atom a, Atom t, long l, unsigned char **prop)
</a> }
 
 int
<a href="#h5-1-3" id="h5-1-3" class="d">-win_proto(Window w)
</a><a href="#h5-1-4" id="h5-1-4" class="i">+proto(Window w)
</a> {
 	unsigned char *protocols;
 	long res;
<a href="#h5-2" id="h5-2" class="h">@@ -114,7 +114,7 @@ win_proto(Window w)
</a> }
 
 void
<a href="#h5-2-3" id="h5-2-3" class="d">-send_message(Window w, Atom a, long value)
</a><a href="#h5-2-4" id="h5-2-4" class="i">+sendevent(Window w, Atom a, long value)
</a> {
 	XEvent e;
 
<a href="#h5-3" id="h5-3" class="h">@@ -135,7 +135,7 @@ send_message(Window w, Atom a, long value)
</a>  * calls exit().
  */
 int
<a href="#h5-3-3" id="h5-3-3" class="d">-error_handler(Display *dpy, XErrorEvent *error)
</a><a href="#h5-3-4" id="h5-3-4" class="i">+xerror(Display *dpy, XErrorEvent *error)
</a> {
 	if(error-&gt;error_code == BadWindow
 			|| (error-&gt;request_code == X_SetInputFocus
<a href="#h5-4" id="h5-4" class="h">@@ -153,7 +153,7 @@ error_handler(Display *dpy, XErrorEvent *error)
</a> 		return 0;
 	fprintf(stderr, &quot;dwm: fatal error: request code=%d, error code=%d\n&quot;,
 			error-&gt;request_code, error-&gt;error_code);
<a href="#h5-4-3" id="h5-4-3" class="d">-	return x_error_handler(dpy, error); /* may call exit() */
</a><a href="#h5-4-4" id="h5-4-4" class="i">+	return x_xerror(dpy, error); /* may call exit() */
</a> }
 
 /*
<a href="#h5-5" id="h5-5" class="h">@@ -161,7 +161,7 @@ error_handler(Display *dpy, XErrorEvent *error)
</a>  * is already running.
  */
 static int
<a href="#h5-5-3" id="h5-5-3" class="d">-startup_error_handler(Display *dpy, XErrorEvent *error)
</a><a href="#h5-5-4" id="h5-5-4" class="i">+startup_xerror(Display *dpy, XErrorEvent *error)
</a> {
 	other_wm_running = True;
 	return -1;
<a href="#h5-6" id="h5-6" class="h">@@ -215,7 +215,7 @@ main(int argc, char *argv[])
</a> 
 	/* check if another WM is already running */
 	other_wm_running = False;
<a href="#h5-6-3" id="h5-6-3" class="d">-	XSetErrorHandler(startup_error_handler);
</a><a href="#h5-6-4" id="h5-6-4" class="i">+	XSetErrorHandler(startup_xerror);
</a> 	/* this causes an error if some other WM is running */
 	XSelectInput(dpy, root, SubstructureRedirectMask);
 	XFlush(dpy);
<a href="#h5-7" id="h5-7" class="h">@@ -224,7 +224,7 @@ main(int argc, char *argv[])
</a> 		error(&quot;dwm: another window manager is already running\n&quot;);
 
 	XSetErrorHandler(0);
<a href="#h5-7-3" id="h5-7-3" class="d">-	x_error_handler = XSetErrorHandler(error_handler);
</a><a href="#h5-7-4" id="h5-7-4" class="i">+	x_xerror = XSetErrorHandler(xerror);
</a> 
 	/* init atoms */
 	wm_atom[WMProtocols] = XInternAtom(dpy, &quot;WM_PROTOCOLS&quot;, False);
<a href="#h5-8" id="h5-8" class="h">@@ -242,10 +242,10 @@ main(int argc, char *argv[])
</a> 	grabkeys();
 
 	/* style */
<a href="#h5-8-3" id="h5-8-3" class="d">-	dc.bg = initcolor(BGCOLOR);
</a><a href="#h5-8-4" id="h5-8-4" class="d">-	dc.fg = initcolor(FGCOLOR);
</a><a href="#h5-8-5" id="h5-8-5" class="d">-	dc.border = initcolor(BORDERCOLOR);
</a><a href="#h5-8-6" id="h5-8-6" class="d">-	initfont(FONT);
</a><a href="#h5-8-7" id="h5-8-7" class="i">+	dc.bg = getcolor(BGCOLOR);
</a><a href="#h5-8-8" id="h5-8-8" class="i">+	dc.fg = getcolor(FGCOLOR);
</a><a href="#h5-8-9" id="h5-8-9" class="i">+	dc.border = getcolor(BORDERCOLOR);
</a><a href="#h5-8-10" id="h5-8-10" class="i">+	setfont(FONT);
</a> 
 	sx = sy = 0;
 	sw = DisplayWidth(dpy, screen);
<a href="#h5-9" id="h5-9" class="h">@@ -267,7 +267,7 @@ main(int argc, char *argv[])
</a> 
 	dc.drawable = XCreatePixmap(dpy, root, sw, bh, DefaultDepth(dpy, screen));
 	dc.gc = XCreateGC(dpy, root, 0, 0);
<a href="#h5-9-3" id="h5-9-3" class="d">-	draw_bar();
</a><a href="#h5-9-4" id="h5-9-4" class="i">+	drawstatus();
</a> 
 	issel = XQueryPointer(dpy, root, &amp;w, &amp;w, &amp;i, &amp;i, &amp;i, &amp;i, &amp;mask);
 
<a href="#h5-10" id="h5-10" class="h">@@ -315,7 +315,7 @@ Mainloop:
</a> 					stext[n++] = i;
 				}
 				stext[n] = 0;
<a href="#h5-10-3" id="h5-10-3" class="d">-				draw_bar();
</a><a href="#h5-10-4" id="h5-10-4" class="i">+				drawstatus();
</a> 			}
 		}
 	}
<b>diff --git a/<a id="h6" href="../file/screen.c.html">screen.c</a> b/<a href="../file/screen.c.html">screen.c</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -15,9 +15,9 @@ view(Arg *arg)
</a> 	tsel = arg-&gt;i;
 	arrange(NULL);
 
<a href="#h6-0-3" id="h6-0-3" class="d">-	for(c = clients; c; c = next(c-&gt;next))
</a><a href="#h6-0-4" id="h6-0-4" class="d">-		draw_client(c);
</a><a href="#h6-0-5" id="h6-0-5" class="d">-	draw_bar();
</a><a href="#h6-0-6" id="h6-0-6" class="i">+	for(c = clients; c; c = getnext(c-&gt;next))
</a><a href="#h6-0-7" id="h6-0-7" class="i">+		drawtitle(c);
</a><a href="#h6-0-8" id="h6-0-8" class="i">+	drawstatus();
</a> }
 
 void
<a href="#h6-1" id="h6-1" class="h">@@ -30,15 +30,15 @@ floating(Arg *arg)
</a> 		if(c-&gt;tags[tsel])
 			resize(c, True);
 		else
<a href="#h6-1-3" id="h6-1-3" class="d">-			ban_client(c);
</a><a href="#h6-1-4" id="h6-1-4" class="i">+			ban(c);
</a> 	}
 	if(sel &amp;&amp; !sel-&gt;tags[tsel]) {
<a href="#h6-1-7" id="h6-1-7" class="d">-		if((sel = next(clients))) {
</a><a href="#h6-1-8" id="h6-1-8" class="d">-			craise(sel);
</a><a href="#h6-1-9" id="h6-1-9" class="i">+		if((sel = getnext(clients))) {
</a><a href="#h6-1-10" id="h6-1-10" class="i">+			higher(sel);
</a> 			focus(sel);
 		}
 	}
<a href="#h6-1-14" id="h6-1-14" class="d">-	draw_bar();
</a><a href="#h6-1-15" id="h6-1-15" class="i">+	drawstatus();
</a> }
 
 void
<a href="#h6-2" id="h6-2" class="h">@@ -61,7 +61,7 @@ tiling(Arg *arg)
</a> 	for(i = 0, c = clients; c; c = c-&gt;next) {
 		if(c-&gt;tags[tsel]) {
 			if(c-&gt;floating) {
<a href="#h6-2-3" id="h6-2-3" class="d">-				craise(c);
</a><a href="#h6-2-4" id="h6-2-4" class="i">+				higher(c);
</a> 				resize(c, True);
 				continue;
 			}
<a href="#h6-3" id="h6-3" class="h">@@ -87,14 +87,14 @@ tiling(Arg *arg)
</a> 			i++;
 		}
 		else
<a href="#h6-3-3" id="h6-3-3" class="d">-			ban_client(c);
</a><a href="#h6-3-4" id="h6-3-4" class="i">+			ban(c);
</a> 	}
 	if(!sel || (sel &amp;&amp; !sel-&gt;tags[tsel])) {
<a href="#h6-3-7" id="h6-3-7" class="d">-		if((sel = next(clients))) {
</a><a href="#h6-3-8" id="h6-3-8" class="d">-			craise(sel);
</a><a href="#h6-3-9" id="h6-3-9" class="i">+		if((sel = getnext(clients))) {
</a><a href="#h6-3-10" id="h6-3-10" class="i">+			higher(sel);
</a> 			focus(sel);
 		}
 	}
<a href="#h6-3-14" id="h6-3-14" class="d">-	draw_bar();
</a><a href="#h6-3-15" id="h6-3-15" class="i">+	drawstatus();
</a> }
 
</pre>
</div>
</body>
</html>
