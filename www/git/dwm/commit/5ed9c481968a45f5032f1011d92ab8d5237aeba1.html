<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>code-style consistency - dwm - dynamic window manager
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dwm Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dwm</h1><span class="desc">dynamic window manager
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5ed9c481968a45f5032f1011d92ab8d5237aeba1.html">5ed9c481968a45f5032f1011d92ab8d5237aeba1</a>
<b>parent</b> <a href="../commit/3c91283ede911916452345d545435b08dce9d556.html">3c91283ede911916452345d545435b08dce9d556</a>
<b>Author:</b> Hiltjo Posthuma &lt;<a href="mailto:hiltjo@codemadness.org">hiltjo@codemadness.org</a>&gt;
<b>Date:</b>   Sun,  8 Nov 2015 23:11:48 +0100

code-style consistency

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">dwm.c</a></td><td> | </td><td class="num">936</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++</span><span class="d">-------------------------------------</span></td></tr>
</table></pre><pre>1 file changed, 503 insertions(+), 433 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/dwm.c.html">dwm.c</a> b/<a href="../file/dwm.c.html">dwm.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -275,7 +275,8 @@ struct NumTags { char limitexceeded[LENGTH(tags) &gt; 31 ? -1 : 1]; };
</a> 
 /* function implementations */
 void
<a href="#h0-0-3" id="h0-0-3" class="d">-applyrules(Client *c) {
</a><a href="#h0-0-4" id="h0-0-4" class="i">+applyrules(Client *c)
</a><a href="#h0-0-5" id="h0-0-5" class="i">+{
</a> 	const char *class, *instance;
 	unsigned int i;
 	const Rule *r;
<a href="#h0-1" id="h0-1" class="h">@@ -289,126 +290,131 @@ applyrules(Client *c) {
</a> 	class    = ch.res_class ? ch.res_class : broken;
 	instance = ch.res_name  ? ch.res_name  : broken;
 
<a href="#h0-1-3" id="h0-1-3" class="d">-	for(i = 0; i &lt; LENGTH(rules); i++) {
</a><a href="#h0-1-4" id="h0-1-4" class="i">+	for (i = 0; i &lt; LENGTH(rules); i++) {
</a> 		r = &amp;rules[i];
<a href="#h0-1-6" id="h0-1-6" class="d">-		if((!r-&gt;title || strstr(c-&gt;name, r-&gt;title))
</a><a href="#h0-1-7" id="h0-1-7" class="i">+		if ((!r-&gt;title || strstr(c-&gt;name, r-&gt;title))
</a> 		&amp;&amp; (!r-&gt;class || strstr(class, r-&gt;class))
 		&amp;&amp; (!r-&gt;instance || strstr(instance, r-&gt;instance)))
 		{
 			c-&gt;isfloating = r-&gt;isfloating;
 			c-&gt;tags |= r-&gt;tags;
<a href="#h0-1-13" id="h0-1-13" class="d">-			for(m = mons; m &amp;&amp; m-&gt;num != r-&gt;monitor; m = m-&gt;next);
</a><a href="#h0-1-14" id="h0-1-14" class="d">-			if(m)
</a><a href="#h0-1-15" id="h0-1-15" class="i">+			for (m = mons; m &amp;&amp; m-&gt;num != r-&gt;monitor; m = m-&gt;next);
</a><a href="#h0-1-16" id="h0-1-16" class="i">+			if (m)
</a> 				c-&gt;mon = m;
 		}
 	}
<a href="#h0-1-20" id="h0-1-20" class="d">-	if(ch.res_class)
</a><a href="#h0-1-21" id="h0-1-21" class="i">+	if (ch.res_class)
</a> 		XFree(ch.res_class);
<a href="#h0-1-23" id="h0-1-23" class="d">-	if(ch.res_name)
</a><a href="#h0-1-24" id="h0-1-24" class="i">+	if (ch.res_name)
</a> 		XFree(ch.res_name);
 	c-&gt;tags = c-&gt;tags &amp; TAGMASK ? c-&gt;tags &amp; TAGMASK : c-&gt;mon-&gt;tagset[c-&gt;mon-&gt;seltags];
 }
 
 int
<a href="#h0-1-30" id="h0-1-30" class="d">-applysizehints(Client *c, int *x, int *y, int *w, int *h, int interact) {
</a><a href="#h0-1-31" id="h0-1-31" class="i">+applysizehints(Client *c, int *x, int *y, int *w, int *h, int interact)
</a><a href="#h0-1-32" id="h0-1-32" class="i">+{
</a> 	int baseismin;
 	Monitor *m = c-&gt;mon;
 
 	/* set minimum possible */
 	*w = MAX(1, *w);
 	*h = MAX(1, *h);
<a href="#h0-1-39" id="h0-1-39" class="d">-	if(interact) {
</a><a href="#h0-1-40" id="h0-1-40" class="d">-		if(*x &gt; sw)
</a><a href="#h0-1-41" id="h0-1-41" class="i">+	if (interact) {
</a><a href="#h0-1-42" id="h0-1-42" class="i">+		if (*x &gt; sw)
</a> 			*x = sw - WIDTH(c);
<a href="#h0-1-44" id="h0-1-44" class="d">-		if(*y &gt; sh)
</a><a href="#h0-1-45" id="h0-1-45" class="i">+		if (*y &gt; sh)
</a> 			*y = sh - HEIGHT(c);
<a href="#h0-1-47" id="h0-1-47" class="d">-		if(*x + *w + 2 * c-&gt;bw &lt; 0)
</a><a href="#h0-1-48" id="h0-1-48" class="i">+		if (*x + *w + 2 * c-&gt;bw &lt; 0)
</a> 			*x = 0;
<a href="#h0-1-50" id="h0-1-50" class="d">-		if(*y + *h + 2 * c-&gt;bw &lt; 0)
</a><a href="#h0-1-51" id="h0-1-51" class="i">+		if (*y + *h + 2 * c-&gt;bw &lt; 0)
</a> 			*y = 0;
<a href="#h0-1-53" id="h0-1-53" class="d">-	}
</a><a href="#h0-1-54" id="h0-1-54" class="d">-	else {
</a><a href="#h0-1-55" id="h0-1-55" class="d">-		if(*x &gt;= m-&gt;wx + m-&gt;ww)
</a><a href="#h0-1-56" id="h0-1-56" class="i">+	} else {
</a><a href="#h0-1-57" id="h0-1-57" class="i">+		if (*x &gt;= m-&gt;wx + m-&gt;ww)
</a> 			*x = m-&gt;wx + m-&gt;ww - WIDTH(c);
<a href="#h0-1-59" id="h0-1-59" class="d">-		if(*y &gt;= m-&gt;wy + m-&gt;wh)
</a><a href="#h0-1-60" id="h0-1-60" class="i">+		if (*y &gt;= m-&gt;wy + m-&gt;wh)
</a> 			*y = m-&gt;wy + m-&gt;wh - HEIGHT(c);
<a href="#h0-1-62" id="h0-1-62" class="d">-		if(*x + *w + 2 * c-&gt;bw &lt;= m-&gt;wx)
</a><a href="#h0-1-63" id="h0-1-63" class="i">+		if (*x + *w + 2 * c-&gt;bw &lt;= m-&gt;wx)
</a> 			*x = m-&gt;wx;
<a href="#h0-1-65" id="h0-1-65" class="d">-		if(*y + *h + 2 * c-&gt;bw &lt;= m-&gt;wy)
</a><a href="#h0-1-66" id="h0-1-66" class="i">+		if (*y + *h + 2 * c-&gt;bw &lt;= m-&gt;wy)
</a> 			*y = m-&gt;wy;
 	}
<a href="#h0-1-69" id="h0-1-69" class="d">-	if(*h &lt; bh)
</a><a href="#h0-1-70" id="h0-1-70" class="i">+	if (*h &lt; bh)
</a> 		*h = bh;
<a href="#h0-1-72" id="h0-1-72" class="d">-	if(*w &lt; bh)
</a><a href="#h0-1-73" id="h0-1-73" class="i">+	if (*w &lt; bh)
</a> 		*w = bh;
<a href="#h0-1-75" id="h0-1-75" class="d">-	if(resizehints || c-&gt;isfloating || !c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange) {
</a><a href="#h0-1-76" id="h0-1-76" class="i">+	if (resizehints || c-&gt;isfloating || !c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange) {
</a> 		/* see last two sentences in ICCCM 4.1.2.3 */
 		baseismin = c-&gt;basew == c-&gt;minw &amp;&amp; c-&gt;baseh == c-&gt;minh;
<a href="#h0-1-79" id="h0-1-79" class="d">-		if(!baseismin) { /* temporarily remove base dimensions */
</a><a href="#h0-1-80" id="h0-1-80" class="i">+		if (!baseismin) { /* temporarily remove base dimensions */
</a> 			*w -= c-&gt;basew;
 			*h -= c-&gt;baseh;
 		}
 		/* adjust for aspect limits */
<a href="#h0-1-85" id="h0-1-85" class="d">-		if(c-&gt;mina &gt; 0 &amp;&amp; c-&gt;maxa &gt; 0) {
</a><a href="#h0-1-86" id="h0-1-86" class="d">-			if(c-&gt;maxa &lt; (float)*w / *h)
</a><a href="#h0-1-87" id="h0-1-87" class="i">+		if (c-&gt;mina &gt; 0 &amp;&amp; c-&gt;maxa &gt; 0) {
</a><a href="#h0-1-88" id="h0-1-88" class="i">+			if (c-&gt;maxa &lt; (float)*w / *h)
</a> 				*w = *h * c-&gt;maxa + 0.5;
<a href="#h0-1-90" id="h0-1-90" class="d">-			else if(c-&gt;mina &lt; (float)*h / *w)
</a><a href="#h0-1-91" id="h0-1-91" class="i">+			else if (c-&gt;mina &lt; (float)*h / *w)
</a> 				*h = *w * c-&gt;mina + 0.5;
 		}
<a href="#h0-1-94" id="h0-1-94" class="d">-		if(baseismin) { /* increment calculation requires this */
</a><a href="#h0-1-95" id="h0-1-95" class="i">+		if (baseismin) { /* increment calculation requires this */
</a> 			*w -= c-&gt;basew;
 			*h -= c-&gt;baseh;
 		}
 		/* adjust for increment value */
<a href="#h0-1-100" id="h0-1-100" class="d">-		if(c-&gt;incw)
</a><a href="#h0-1-101" id="h0-1-101" class="i">+		if (c-&gt;incw)
</a> 			*w -= *w % c-&gt;incw;
<a href="#h0-1-103" id="h0-1-103" class="d">-		if(c-&gt;inch)
</a><a href="#h0-1-104" id="h0-1-104" class="i">+		if (c-&gt;inch)
</a> 			*h -= *h % c-&gt;inch;
 		/* restore base dimensions */
 		*w = MAX(*w + c-&gt;basew, c-&gt;minw);
 		*h = MAX(*h + c-&gt;baseh, c-&gt;minh);
<a href="#h0-1-109" id="h0-1-109" class="d">-		if(c-&gt;maxw)
</a><a href="#h0-1-110" id="h0-1-110" class="i">+		if (c-&gt;maxw)
</a> 			*w = MIN(*w, c-&gt;maxw);
<a href="#h0-1-112" id="h0-1-112" class="d">-		if(c-&gt;maxh)
</a><a href="#h0-1-113" id="h0-1-113" class="i">+		if (c-&gt;maxh)
</a> 			*h = MIN(*h, c-&gt;maxh);
 	}
 	return *x != c-&gt;x || *y != c-&gt;y || *w != c-&gt;w || *h != c-&gt;h;
 }
 
 void
<a href="#h0-1-120" id="h0-1-120" class="d">-arrange(Monitor *m) {
</a><a href="#h0-1-121" id="h0-1-121" class="d">-	if(m)
</a><a href="#h0-1-122" id="h0-1-122" class="i">+arrange(Monitor *m)
</a><a href="#h0-1-123" id="h0-1-123" class="i">+{
</a><a href="#h0-1-124" id="h0-1-124" class="i">+	if (m)
</a> 		showhide(m-&gt;stack);
<a href="#h0-1-126" id="h0-1-126" class="d">-	else for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-1-127" id="h0-1-127" class="i">+	else for (m = mons; m; m = m-&gt;next)
</a> 		showhide(m-&gt;stack);
<a href="#h0-1-129" id="h0-1-129" class="d">-	if(m) {
</a><a href="#h0-1-130" id="h0-1-130" class="i">+	if (m) {
</a> 		arrangemon(m);
 		restack(m);
<a href="#h0-1-133" id="h0-1-133" class="d">-	} else for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-1-134" id="h0-1-134" class="i">+	} else for (m = mons; m; m = m-&gt;next)
</a> 		arrangemon(m);
 }
 
 void
<a href="#h0-1-139" id="h0-1-139" class="d">-arrangemon(Monitor *m) {
</a><a href="#h0-1-140" id="h0-1-140" class="i">+arrangemon(Monitor *m)
</a><a href="#h0-1-141" id="h0-1-141" class="i">+{
</a> 	strncpy(m-&gt;ltsymbol, m-&gt;lt[m-&gt;sellt]-&gt;symbol, sizeof m-&gt;ltsymbol);
<a href="#h0-1-143" id="h0-1-143" class="d">-	if(m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a><a href="#h0-1-144" id="h0-1-144" class="i">+	if (m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a> 		m-&gt;lt[m-&gt;sellt]-&gt;arrange(m);
 }
 
 void
<a href="#h0-1-149" id="h0-1-149" class="d">-attach(Client *c) {
</a><a href="#h0-1-150" id="h0-1-150" class="i">+attach(Client *c)
</a><a href="#h0-1-151" id="h0-1-151" class="i">+{
</a> 	c-&gt;next = c-&gt;mon-&gt;clients;
 	c-&gt;mon-&gt;clients = c;
 }
 
 void
<a href="#h0-1-157" id="h0-1-157" class="d">-attachstack(Client *c) {
</a><a href="#h0-1-158" id="h0-1-158" class="i">+attachstack(Client *c)
</a><a href="#h0-1-159" id="h0-1-159" class="i">+{
</a> 	c-&gt;snext = c-&gt;mon-&gt;stack;
 	c-&gt;mon-&gt;stack = c;
 }
 
 void
<a href="#h0-1-165" id="h0-1-165" class="d">-buttonpress(XEvent *e) {
</a><a href="#h0-1-166" id="h0-1-166" class="i">+buttonpress(XEvent *e)
</a><a href="#h0-1-167" id="h0-1-167" class="i">+{
</a> 	unsigned int i, x, click;
 	Arg arg = {0};
 	Client *c;
<a href="#h0-2" id="h0-2" class="h">@@ -417,39 +423,38 @@ buttonpress(XEvent *e) {
</a> 
 	click = ClkRootWin;
 	/* focus monitor if necessary */
<a href="#h0-2-3" id="h0-2-3" class="d">-	if((m = wintomon(ev-&gt;window)) &amp;&amp; m != selmon) {
</a><a href="#h0-2-4" id="h0-2-4" class="i">+	if ((m = wintomon(ev-&gt;window)) &amp;&amp; m != selmon) {
</a> 		unfocus(selmon-&gt;sel, 1);
 		selmon = m;
 		focus(NULL);
 	}
<a href="#h0-2-9" id="h0-2-9" class="d">-	if(ev-&gt;window == selmon-&gt;barwin) {
</a><a href="#h0-2-10" id="h0-2-10" class="i">+	if (ev-&gt;window == selmon-&gt;barwin) {
</a> 		i = x = 0;
 		do
 			x += TEXTW(tags[i]);
<a href="#h0-2-14" id="h0-2-14" class="d">-		while(ev-&gt;x &gt;= x &amp;&amp; ++i &lt; LENGTH(tags));
</a><a href="#h0-2-15" id="h0-2-15" class="d">-		if(i &lt; LENGTH(tags)) {
</a><a href="#h0-2-16" id="h0-2-16" class="i">+		while (ev-&gt;x &gt;= x &amp;&amp; ++i &lt; LENGTH(tags));
</a><a href="#h0-2-17" id="h0-2-17" class="i">+		if (i &lt; LENGTH(tags)) {
</a> 			click = ClkTagBar;
 			arg.ui = 1 &lt;&lt; i;
<a href="#h0-2-20" id="h0-2-20" class="d">-		}
</a><a href="#h0-2-21" id="h0-2-21" class="d">-		else if(ev-&gt;x &lt; x + blw)
</a><a href="#h0-2-22" id="h0-2-22" class="i">+		} else if (ev-&gt;x &lt; x + blw)
</a> 			click = ClkLtSymbol;
<a href="#h0-2-24" id="h0-2-24" class="d">-		else if(ev-&gt;x &gt; selmon-&gt;ww - TEXTW(stext))
</a><a href="#h0-2-25" id="h0-2-25" class="i">+		else if (ev-&gt;x &gt; selmon-&gt;ww - TEXTW(stext))
</a> 			click = ClkStatusText;
 		else
 			click = ClkWinTitle;
<a href="#h0-2-29" id="h0-2-29" class="d">-	}
</a><a href="#h0-2-30" id="h0-2-30" class="d">-	else if((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-2-31" id="h0-2-31" class="i">+	} else if ((c = wintoclient(ev-&gt;window))) {
</a> 		focus(c);
 		click = ClkClientWin;
 	}
<a href="#h0-2-35" id="h0-2-35" class="d">-	for(i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h0-2-36" id="h0-2-36" class="d">-		if(click == buttons[i].click &amp;&amp; buttons[i].func &amp;&amp; buttons[i].button == ev-&gt;button
</a><a href="#h0-2-37" id="h0-2-37" class="i">+	for (i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h0-2-38" id="h0-2-38" class="i">+		if (click == buttons[i].click &amp;&amp; buttons[i].func &amp;&amp; buttons[i].button == ev-&gt;button
</a> 		&amp;&amp; CLEANMASK(buttons[i].mask) == CLEANMASK(ev-&gt;state))
 			buttons[i].func(click == ClkTagBar &amp;&amp; buttons[i].arg.i == 0 ? &amp;arg : &amp;buttons[i].arg);
 }
 
 void
<a href="#h0-2-44" id="h0-2-44" class="d">-checkotherwm(void) {
</a><a href="#h0-2-45" id="h0-2-45" class="i">+checkotherwm(void)
</a><a href="#h0-2-46" id="h0-2-46" class="i">+{
</a> 	xerrorxlib = XSetErrorHandler(xerrorstart);
 	/* this causes an error if some other window manager is running */
 	XSelectInput(dpy, DefaultRootWindow(dpy), SubstructureRedirectMask);
<a href="#h0-3" id="h0-3" class="h">@@ -459,7 +464,8 @@ checkotherwm(void) {
</a> }
 
 void
<a href="#h0-3-3" id="h0-3-3" class="d">-cleanup(void) {
</a><a href="#h0-3-4" id="h0-3-4" class="i">+cleanup(void)
</a><a href="#h0-3-5" id="h0-3-5" class="i">+{
</a> 	Arg a = {.ui = ~0};
 	Layout foo = { &quot;&quot;, NULL };
 	Monitor *m;
<a href="#h0-4" id="h0-4" class="h">@@ -467,15 +473,15 @@ cleanup(void) {
</a> 
 	view(&amp;a);
 	selmon-&gt;lt[selmon-&gt;sellt] = &amp;foo;
<a href="#h0-4-3" id="h0-4-3" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-4-4" id="h0-4-4" class="d">-		while(m-&gt;stack)
</a><a href="#h0-4-5" id="h0-4-5" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h0-4-6" id="h0-4-6" class="i">+		while (m-&gt;stack)
</a> 			unmanage(m-&gt;stack, 0);
 	XUngrabKey(dpy, AnyKey, AnyModifier, root);
<a href="#h0-4-9" id="h0-4-9" class="d">-	while(mons)
</a><a href="#h0-4-10" id="h0-4-10" class="i">+	while (mons)
</a> 		cleanupmon(mons);
<a href="#h0-4-12" id="h0-4-12" class="d">-	for(i = 0; i &lt; CurLast; i++)
</a><a href="#h0-4-13" id="h0-4-13" class="i">+	for (i = 0; i &lt; CurLast; i++)
</a> 		drw_cur_free(drw, cursor[i]);
<a href="#h0-4-15" id="h0-4-15" class="d">-	for(i = 0; i &lt; SchemeLast; i++) {
</a><a href="#h0-4-16" id="h0-4-16" class="i">+	for (i = 0; i &lt; SchemeLast; i++) {
</a> 		drw_clr_free(scheme[i].border);
 		drw_clr_free(scheme[i].bg);
 		drw_clr_free(scheme[i].fg);
<a href="#h0-5" id="h0-5" class="h">@@ -487,13 +493,14 @@ cleanup(void) {
</a> }
 
 void
<a href="#h0-5-3" id="h0-5-3" class="d">-cleanupmon(Monitor *mon) {
</a><a href="#h0-5-4" id="h0-5-4" class="i">+cleanupmon(Monitor *mon)
</a><a href="#h0-5-5" id="h0-5-5" class="i">+{
</a> 	Monitor *m;
 
<a href="#h0-5-8" id="h0-5-8" class="d">-	if(mon == mons)
</a><a href="#h0-5-9" id="h0-5-9" class="i">+	if (mon == mons)
</a> 		mons = mons-&gt;next;
 	else {
<a href="#h0-5-12" id="h0-5-12" class="d">-		for(m = mons; m &amp;&amp; m-&gt;next != mon; m = m-&gt;next);
</a><a href="#h0-5-13" id="h0-5-13" class="i">+		for (m = mons; m &amp;&amp; m-&gt;next != mon; m = m-&gt;next);
</a> 		m-&gt;next = mon-&gt;next;
 	}
 	XUnmapWindow(dpy, mon-&gt;barwin);
<a href="#h0-6" id="h0-6" class="h">@@ -502,11 +509,12 @@ cleanupmon(Monitor *mon) {
</a> }
 
 void
<a href="#h0-6-3" id="h0-6-3" class="d">-clearurgent(Client *c) {
</a><a href="#h0-6-4" id="h0-6-4" class="i">+clearurgent(Client *c)
</a><a href="#h0-6-5" id="h0-6-5" class="i">+{
</a> 	XWMHints *wmh;
 
 	c-&gt;isurgent = 0;
<a href="#h0-6-9" id="h0-6-9" class="d">-	if(!(wmh = XGetWMHints(dpy, c-&gt;win)))
</a><a href="#h0-6-10" id="h0-6-10" class="i">+	if (!(wmh = XGetWMHints(dpy, c-&gt;win)))
</a> 		return;
 	wmh-&gt;flags &amp;= ~XUrgencyHint;
 	XSetWMHints(dpy, c-&gt;win, wmh);
<a href="#h0-7" id="h0-7" class="h">@@ -514,19 +522,19 @@ clearurgent(Client *c) {
</a> }
 
 void
<a href="#h0-7-3" id="h0-7-3" class="d">-clientmessage(XEvent *e) {
</a><a href="#h0-7-4" id="h0-7-4" class="i">+clientmessage(XEvent *e)
</a><a href="#h0-7-5" id="h0-7-5" class="i">+{
</a> 	XClientMessageEvent *cme = &amp;e-&gt;xclient;
 	Client *c = wintoclient(cme-&gt;window);
 
<a href="#h0-7-9" id="h0-7-9" class="d">-	if(!c)
</a><a href="#h0-7-10" id="h0-7-10" class="i">+	if (!c)
</a> 		return;
<a href="#h0-7-12" id="h0-7-12" class="d">-	if(cme-&gt;message_type == netatom[NetWMState]) {
</a><a href="#h0-7-13" id="h0-7-13" class="d">-		if(cme-&gt;data.l[1] == netatom[NetWMFullscreen] || cme-&gt;data.l[2] == netatom[NetWMFullscreen])
</a><a href="#h0-7-14" id="h0-7-14" class="i">+	if (cme-&gt;message_type == netatom[NetWMState]) {
</a><a href="#h0-7-15" id="h0-7-15" class="i">+		if (cme-&gt;data.l[1] == netatom[NetWMFullscreen] || cme-&gt;data.l[2] == netatom[NetWMFullscreen])
</a> 			setfullscreen(c, (cme-&gt;data.l[0] == 1 /* _NET_WM_STATE_ADD    */
 			              || (cme-&gt;data.l[0] == 2 /* _NET_WM_STATE_TOGGLE */ &amp;&amp; !c-&gt;isfullscreen)));
<a href="#h0-7-18" id="h0-7-18" class="d">-	}
</a><a href="#h0-7-19" id="h0-7-19" class="d">-	else if(cme-&gt;message_type == netatom[NetActiveWindow]) {
</a><a href="#h0-7-20" id="h0-7-20" class="d">-		if(!ISVISIBLE(c)) {
</a><a href="#h0-7-21" id="h0-7-21" class="i">+	} else if (cme-&gt;message_type == netatom[NetActiveWindow]) {
</a><a href="#h0-7-22" id="h0-7-22" class="i">+		if (!ISVISIBLE(c)) {
</a> 			c-&gt;mon-&gt;seltags ^= 1;
 			c-&gt;mon-&gt;tagset[c-&gt;mon-&gt;seltags] = c-&gt;tags;
 		}
<a href="#h0-8" id="h0-8" class="h">@@ -535,7 +543,8 @@ clientmessage(XEvent *e) {
</a> }
 
 void
<a href="#h0-8-3" id="h0-8-3" class="d">-configure(Client *c) {
</a><a href="#h0-8-4" id="h0-8-4" class="i">+configure(Client *c)
</a><a href="#h0-8-5" id="h0-8-5" class="i">+{
</a> 	XConfigureEvent ce;
 
 	ce.type = ConfigureNotify;
<a href="#h0-9" id="h0-9" class="h">@@ -553,20 +562,21 @@ configure(Client *c) {
</a> }
 
 void
<a href="#h0-9-3" id="h0-9-3" class="d">-configurenotify(XEvent *e) {
</a><a href="#h0-9-4" id="h0-9-4" class="i">+configurenotify(XEvent *e)
</a><a href="#h0-9-5" id="h0-9-5" class="i">+{
</a> 	Monitor *m;
 	XConfigureEvent *ev = &amp;e-&gt;xconfigure;
 	int dirty;
 
 	/* TODO: updategeom handling sucks, needs to be simplified */
<a href="#h0-9-11" id="h0-9-11" class="d">-	if(ev-&gt;window == root) {
</a><a href="#h0-9-12" id="h0-9-12" class="i">+	if (ev-&gt;window == root) {
</a> 		dirty = (sw != ev-&gt;width || sh != ev-&gt;height);
 		sw = ev-&gt;width;
 		sh = ev-&gt;height;
<a href="#h0-9-16" id="h0-9-16" class="d">-		if(updategeom() || dirty) {
</a><a href="#h0-9-17" id="h0-9-17" class="i">+		if (updategeom() || dirty) {
</a> 			drw_resize(drw, sw, bh);
 			updatebars();
<a href="#h0-9-20" id="h0-9-20" class="d">-			for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-9-21" id="h0-9-21" class="i">+			for (m = mons; m; m = m-&gt;next)
</a> 				XMoveResizeWindow(dpy, m-&gt;barwin, m-&gt;wx, m-&gt;by, m-&gt;ww, bh);
 			focus(NULL);
 			arrange(NULL);
<a href="#h0-10" id="h0-10" class="h">@@ -575,46 +585,45 @@ configurenotify(XEvent *e) {
</a> }
 
 void
<a href="#h0-10-3" id="h0-10-3" class="d">-configurerequest(XEvent *e) {
</a><a href="#h0-10-4" id="h0-10-4" class="i">+configurerequest(XEvent *e)
</a><a href="#h0-10-5" id="h0-10-5" class="i">+{
</a> 	Client *c;
 	Monitor *m;
 	XConfigureRequestEvent *ev = &amp;e-&gt;xconfigurerequest;
 	XWindowChanges wc;
 
<a href="#h0-10-11" id="h0-10-11" class="d">-	if((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-10-12" id="h0-10-12" class="d">-		if(ev-&gt;value_mask &amp; CWBorderWidth)
</a><a href="#h0-10-13" id="h0-10-13" class="i">+	if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-10-14" id="h0-10-14" class="i">+		if (ev-&gt;value_mask &amp; CWBorderWidth)
</a> 			c-&gt;bw = ev-&gt;border_width;
<a href="#h0-10-16" id="h0-10-16" class="d">-		else if(c-&gt;isfloating || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange) {
</a><a href="#h0-10-17" id="h0-10-17" class="i">+		else if (c-&gt;isfloating || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange) {
</a> 			m = c-&gt;mon;
<a href="#h0-10-19" id="h0-10-19" class="d">-			if(ev-&gt;value_mask &amp; CWX) {
</a><a href="#h0-10-20" id="h0-10-20" class="i">+			if (ev-&gt;value_mask &amp; CWX) {
</a> 				c-&gt;oldx = c-&gt;x;
 				c-&gt;x = m-&gt;mx + ev-&gt;x;
 			}
<a href="#h0-10-24" id="h0-10-24" class="d">-			if(ev-&gt;value_mask &amp; CWY) {
</a><a href="#h0-10-25" id="h0-10-25" class="i">+			if (ev-&gt;value_mask &amp; CWY) {
</a> 				c-&gt;oldy = c-&gt;y;
 				c-&gt;y = m-&gt;my + ev-&gt;y;
 			}
<a href="#h0-10-29" id="h0-10-29" class="d">-			if(ev-&gt;value_mask &amp; CWWidth) {
</a><a href="#h0-10-30" id="h0-10-30" class="i">+			if (ev-&gt;value_mask &amp; CWWidth) {
</a> 				c-&gt;oldw = c-&gt;w;
 				c-&gt;w = ev-&gt;width;
 			}
<a href="#h0-10-34" id="h0-10-34" class="d">-			if(ev-&gt;value_mask &amp; CWHeight) {
</a><a href="#h0-10-35" id="h0-10-35" class="i">+			if (ev-&gt;value_mask &amp; CWHeight) {
</a> 				c-&gt;oldh = c-&gt;h;
 				c-&gt;h = ev-&gt;height;
 			}
<a href="#h0-10-39" id="h0-10-39" class="d">-			if((c-&gt;x + c-&gt;w) &gt; m-&gt;mx + m-&gt;mw &amp;&amp; c-&gt;isfloating)
</a><a href="#h0-10-40" id="h0-10-40" class="i">+			if ((c-&gt;x + c-&gt;w) &gt; m-&gt;mx + m-&gt;mw &amp;&amp; c-&gt;isfloating)
</a> 				c-&gt;x = m-&gt;mx + (m-&gt;mw / 2 - WIDTH(c) / 2); /* center in x direction */
<a href="#h0-10-42" id="h0-10-42" class="d">-			if((c-&gt;y + c-&gt;h) &gt; m-&gt;my + m-&gt;mh &amp;&amp; c-&gt;isfloating)
</a><a href="#h0-10-43" id="h0-10-43" class="i">+			if ((c-&gt;y + c-&gt;h) &gt; m-&gt;my + m-&gt;mh &amp;&amp; c-&gt;isfloating)
</a> 				c-&gt;y = m-&gt;my + (m-&gt;mh / 2 - HEIGHT(c) / 2); /* center in y direction */
<a href="#h0-10-45" id="h0-10-45" class="d">-			if((ev-&gt;value_mask &amp; (CWX|CWY)) &amp;&amp; !(ev-&gt;value_mask &amp; (CWWidth|CWHeight)))
</a><a href="#h0-10-46" id="h0-10-46" class="i">+			if ((ev-&gt;value_mask &amp; (CWX|CWY)) &amp;&amp; !(ev-&gt;value_mask &amp; (CWWidth|CWHeight)))
</a> 				configure(c);
<a href="#h0-10-48" id="h0-10-48" class="d">-			if(ISVISIBLE(c))
</a><a href="#h0-10-49" id="h0-10-49" class="i">+			if (ISVISIBLE(c))
</a> 				XMoveResizeWindow(dpy, c-&gt;win, c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h);
<a href="#h0-10-51" id="h0-10-51" class="d">-		}
</a><a href="#h0-10-52" id="h0-10-52" class="d">-		else
</a><a href="#h0-10-53" id="h0-10-53" class="i">+		} else
</a> 			configure(c);
<a href="#h0-10-55" id="h0-10-55" class="d">-	}
</a><a href="#h0-10-56" id="h0-10-56" class="d">-	else {
</a><a href="#h0-10-57" id="h0-10-57" class="i">+	} else {
</a> 		wc.x = ev-&gt;x;
 		wc.y = ev-&gt;y;
 		wc.width = ev-&gt;width;
<a href="#h0-11" id="h0-11" class="h">@@ -628,7 +637,8 @@ configurerequest(XEvent *e) {
</a> }
 
 Monitor *
<a href="#h0-11-3" id="h0-11-3" class="d">-createmon(void) {
</a><a href="#h0-11-4" id="h0-11-4" class="i">+createmon(void)
</a><a href="#h0-11-5" id="h0-11-5" class="i">+{
</a> 	Monitor *m;
 
 	m = ecalloc(1, sizeof(Monitor));
<a href="#h0-12" id="h0-12" class="h">@@ -644,65 +654,69 @@ createmon(void) {
</a> }
 
 void
<a href="#h0-12-3" id="h0-12-3" class="d">-destroynotify(XEvent *e) {
</a><a href="#h0-12-4" id="h0-12-4" class="i">+destroynotify(XEvent *e)
</a><a href="#h0-12-5" id="h0-12-5" class="i">+{
</a> 	Client *c;
 	XDestroyWindowEvent *ev = &amp;e-&gt;xdestroywindow;
 
<a href="#h0-12-9" id="h0-12-9" class="d">-	if((c = wintoclient(ev-&gt;window)))
</a><a href="#h0-12-10" id="h0-12-10" class="i">+	if ((c = wintoclient(ev-&gt;window)))
</a> 		unmanage(c, 1);
 }
 
 void
<a href="#h0-12-15" id="h0-12-15" class="d">-detach(Client *c) {
</a><a href="#h0-12-16" id="h0-12-16" class="i">+detach(Client *c)
</a><a href="#h0-12-17" id="h0-12-17" class="i">+{
</a> 	Client **tc;
 
<a href="#h0-12-20" id="h0-12-20" class="d">-	for(tc = &amp;c-&gt;mon-&gt;clients; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;next);
</a><a href="#h0-12-21" id="h0-12-21" class="i">+	for (tc = &amp;c-&gt;mon-&gt;clients; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;next);
</a> 	*tc = c-&gt;next;
 }
 
 void
<a href="#h0-12-26" id="h0-12-26" class="d">-detachstack(Client *c) {
</a><a href="#h0-12-27" id="h0-12-27" class="i">+detachstack(Client *c)
</a><a href="#h0-12-28" id="h0-12-28" class="i">+{
</a> 	Client **tc, *t;
 
<a href="#h0-12-31" id="h0-12-31" class="d">-	for(tc = &amp;c-&gt;mon-&gt;stack; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;snext);
</a><a href="#h0-12-32" id="h0-12-32" class="i">+	for (tc = &amp;c-&gt;mon-&gt;stack; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;snext);
</a> 	*tc = c-&gt;snext;
 
<a href="#h0-12-35" id="h0-12-35" class="d">-	if(c == c-&gt;mon-&gt;sel) {
</a><a href="#h0-12-36" id="h0-12-36" class="d">-		for(t = c-&gt;mon-&gt;stack; t &amp;&amp; !ISVISIBLE(t); t = t-&gt;snext);
</a><a href="#h0-12-37" id="h0-12-37" class="i">+	if (c == c-&gt;mon-&gt;sel) {
</a><a href="#h0-12-38" id="h0-12-38" class="i">+		for (t = c-&gt;mon-&gt;stack; t &amp;&amp; !ISVISIBLE(t); t = t-&gt;snext);
</a> 		c-&gt;mon-&gt;sel = t;
 	}
 }
 
 Monitor *
<a href="#h0-12-44" id="h0-12-44" class="d">-dirtomon(int dir) {
</a><a href="#h0-12-45" id="h0-12-45" class="i">+dirtomon(int dir)
</a><a href="#h0-12-46" id="h0-12-46" class="i">+{
</a> 	Monitor *m = NULL;
 
<a href="#h0-12-49" id="h0-12-49" class="d">-	if(dir &gt; 0) {
</a><a href="#h0-12-50" id="h0-12-50" class="d">-		if(!(m = selmon-&gt;next))
</a><a href="#h0-12-51" id="h0-12-51" class="i">+	if (dir &gt; 0) {
</a><a href="#h0-12-52" id="h0-12-52" class="i">+		if (!(m = selmon-&gt;next))
</a> 			m = mons;
<a href="#h0-12-54" id="h0-12-54" class="d">-	}
</a><a href="#h0-12-55" id="h0-12-55" class="d">-	else if(selmon == mons)
</a><a href="#h0-12-56" id="h0-12-56" class="d">-		for(m = mons; m-&gt;next; m = m-&gt;next);
</a><a href="#h0-12-57" id="h0-12-57" class="i">+	} else if (selmon == mons)
</a><a href="#h0-12-58" id="h0-12-58" class="i">+		for (m = mons; m-&gt;next; m = m-&gt;next);
</a> 	else
<a href="#h0-12-60" id="h0-12-60" class="d">-		for(m = mons; m-&gt;next != selmon; m = m-&gt;next);
</a><a href="#h0-12-61" id="h0-12-61" class="i">+		for (m = mons; m-&gt;next != selmon; m = m-&gt;next);
</a> 	return m;
 }
 
 void
<a href="#h0-12-66" id="h0-12-66" class="d">-drawbar(Monitor *m) {
</a><a href="#h0-12-67" id="h0-12-67" class="i">+drawbar(Monitor *m)
</a><a href="#h0-12-68" id="h0-12-68" class="i">+{
</a> 	int x, xx, w, dx;
 	unsigned int i, occ = 0, urg = 0;
 	Client *c;
 
 	dx = (drw-&gt;fonts[0]-&gt;ascent + drw-&gt;fonts[0]-&gt;descent + 2) / 4;
 
<a href="#h0-12-75" id="h0-12-75" class="d">-	for(c = m-&gt;clients; c; c = c-&gt;next) {
</a><a href="#h0-12-76" id="h0-12-76" class="i">+	for (c = m-&gt;clients; c; c = c-&gt;next) {
</a> 		occ |= c-&gt;tags;
<a href="#h0-12-78" id="h0-12-78" class="d">-		if(c-&gt;isurgent)
</a><a href="#h0-12-79" id="h0-12-79" class="i">+		if (c-&gt;isurgent)
</a> 			urg |= c-&gt;tags;
 	}
 	x = 0;
<a href="#h0-12-83" id="h0-12-83" class="d">-	for(i = 0; i &lt; LENGTH(tags); i++) {
</a><a href="#h0-12-84" id="h0-12-84" class="i">+	for (i = 0; i &lt; LENGTH(tags); i++) {
</a> 		w = TEXTW(tags[i]);
 		drw_setscheme(drw, m-&gt;tagset[m-&gt;seltags] &amp; 1 &lt;&lt; i ? &amp;scheme[SchemeSel] : &amp;scheme[SchemeNorm]);
 		drw_text(drw, x, 0, w, bh, tags[i], urg &amp; 1 &lt;&lt; i);
<a href="#h0-13" id="h0-13" class="h">@@ -715,25 +729,23 @@ drawbar(Monitor *m) {
</a> 	drw_text(drw, x, 0, w, bh, m-&gt;ltsymbol, 0);
 	x += w;
 	xx = x;
<a href="#h0-13-3" id="h0-13-3" class="d">-	if(m == selmon) { /* status is only drawn on selected monitor */
</a><a href="#h0-13-4" id="h0-13-4" class="i">+	if (m == selmon) { /* status is only drawn on selected monitor */
</a> 		w = TEXTW(stext);
 		x = m-&gt;ww - w;
<a href="#h0-13-7" id="h0-13-7" class="d">-		if(x &lt; xx) {
</a><a href="#h0-13-8" id="h0-13-8" class="i">+		if (x &lt; xx) {
</a> 			x = xx;
 			w = m-&gt;ww - xx;
 		}
 		drw_text(drw, x, 0, w, bh, stext, 0);
<a href="#h0-13-13" id="h0-13-13" class="d">-	}
</a><a href="#h0-13-14" id="h0-13-14" class="d">-	else
</a><a href="#h0-13-15" id="h0-13-15" class="i">+	} else
</a> 		x = m-&gt;ww;
<a href="#h0-13-17" id="h0-13-17" class="d">-	if((w = x - xx) &gt; bh) {
</a><a href="#h0-13-18" id="h0-13-18" class="i">+	if ((w = x - xx) &gt; bh) {
</a> 		x = xx;
<a href="#h0-13-20" id="h0-13-20" class="d">-		if(m-&gt;sel) {
</a><a href="#h0-13-21" id="h0-13-21" class="i">+		if (m-&gt;sel) {
</a> 			drw_setscheme(drw, m == selmon ? &amp;scheme[SchemeSel] : &amp;scheme[SchemeNorm]);
 			drw_text(drw, x, 0, w, bh, m-&gt;sel-&gt;name, 0);
 			drw_rect(drw, x + 1, 1, dx, dx, m-&gt;sel-&gt;isfixed, m-&gt;sel-&gt;isfloating, 0);
<a href="#h0-13-25" id="h0-13-25" class="d">-		}
</a><a href="#h0-13-26" id="h0-13-26" class="d">-		else {
</a><a href="#h0-13-27" id="h0-13-27" class="i">+		} else {
</a> 			drw_setscheme(drw, &amp;scheme[SchemeNorm]);
 			drw_rect(drw, x, 0, w, bh, 1, 0, 1);
 		}
<a href="#h0-14" id="h0-14" class="h">@@ -742,60 +754,62 @@ drawbar(Monitor *m) {
</a> }
 
 void
<a href="#h0-14-3" id="h0-14-3" class="d">-drawbars(void) {
</a><a href="#h0-14-4" id="h0-14-4" class="i">+drawbars(void)
</a><a href="#h0-14-5" id="h0-14-5" class="i">+{
</a> 	Monitor *m;
 
<a href="#h0-14-8" id="h0-14-8" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-14-9" id="h0-14-9" class="i">+	for (m = mons; m; m = m-&gt;next)
</a> 		drawbar(m);
 }
 
 void
<a href="#h0-14-14" id="h0-14-14" class="d">-enternotify(XEvent *e) {
</a><a href="#h0-14-15" id="h0-14-15" class="i">+enternotify(XEvent *e)
</a><a href="#h0-14-16" id="h0-14-16" class="i">+{
</a> 	Client *c;
 	Monitor *m;
 	XCrossingEvent *ev = &amp;e-&gt;xcrossing;
 
<a href="#h0-14-21" id="h0-14-21" class="d">-	if((ev-&gt;mode != NotifyNormal || ev-&gt;detail == NotifyInferior) &amp;&amp; ev-&gt;window != root)
</a><a href="#h0-14-22" id="h0-14-22" class="i">+	if ((ev-&gt;mode != NotifyNormal || ev-&gt;detail == NotifyInferior) &amp;&amp; ev-&gt;window != root)
</a> 		return;
 	c = wintoclient(ev-&gt;window);
 	m = c ? c-&gt;mon : wintomon(ev-&gt;window);
<a href="#h0-14-26" id="h0-14-26" class="d">-	if(m != selmon) {
</a><a href="#h0-14-27" id="h0-14-27" class="i">+	if (m != selmon) {
</a> 		unfocus(selmon-&gt;sel, 1);
 		selmon = m;
<a href="#h0-14-30" id="h0-14-30" class="d">-	}
</a><a href="#h0-14-31" id="h0-14-31" class="d">-	else if(!c || c == selmon-&gt;sel)
</a><a href="#h0-14-32" id="h0-14-32" class="i">+	} else if (!c || c == selmon-&gt;sel)
</a> 		return;
 	focus(c);
 }
 
 void
<a href="#h0-14-38" id="h0-14-38" class="d">-expose(XEvent *e) {
</a><a href="#h0-14-39" id="h0-14-39" class="i">+expose(XEvent *e)
</a><a href="#h0-14-40" id="h0-14-40" class="i">+{
</a> 	Monitor *m;
 	XExposeEvent *ev = &amp;e-&gt;xexpose;
 
<a href="#h0-14-44" id="h0-14-44" class="d">-	if(ev-&gt;count == 0 &amp;&amp; (m = wintomon(ev-&gt;window)))
</a><a href="#h0-14-45" id="h0-14-45" class="i">+	if (ev-&gt;count == 0 &amp;&amp; (m = wintomon(ev-&gt;window)))
</a> 		drawbar(m);
 }
 
 void
<a href="#h0-14-50" id="h0-14-50" class="d">-focus(Client *c) {
</a><a href="#h0-14-51" id="h0-14-51" class="d">-	if(!c || !ISVISIBLE(c))
</a><a href="#h0-14-52" id="h0-14-52" class="d">-		for(c = selmon-&gt;stack; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;snext);
</a><a href="#h0-14-53" id="h0-14-53" class="d">-	/* was if(selmon-&gt;sel) */
</a><a href="#h0-14-54" id="h0-14-54" class="d">-	if(selmon-&gt;sel &amp;&amp; selmon-&gt;sel != c)
</a><a href="#h0-14-55" id="h0-14-55" class="i">+focus(Client *c)
</a><a href="#h0-14-56" id="h0-14-56" class="i">+{
</a><a href="#h0-14-57" id="h0-14-57" class="i">+	if (!c || !ISVISIBLE(c))
</a><a href="#h0-14-58" id="h0-14-58" class="i">+		for (c = selmon-&gt;stack; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;snext);
</a><a href="#h0-14-59" id="h0-14-59" class="i">+	/* was if (selmon-&gt;sel) */
</a><a href="#h0-14-60" id="h0-14-60" class="i">+	if (selmon-&gt;sel &amp;&amp; selmon-&gt;sel != c)
</a> 		unfocus(selmon-&gt;sel, 0);
<a href="#h0-14-62" id="h0-14-62" class="d">-	if(c) {
</a><a href="#h0-14-63" id="h0-14-63" class="d">-		if(c-&gt;mon != selmon)
</a><a href="#h0-14-64" id="h0-14-64" class="i">+	if (c) {
</a><a href="#h0-14-65" id="h0-14-65" class="i">+		if (c-&gt;mon != selmon)
</a> 			selmon = c-&gt;mon;
<a href="#h0-14-67" id="h0-14-67" class="d">-		if(c-&gt;isurgent)
</a><a href="#h0-14-68" id="h0-14-68" class="i">+		if (c-&gt;isurgent)
</a> 			clearurgent(c);
 		detachstack(c);
 		attachstack(c);
 		grabbuttons(c, 1);
 		XSetWindowBorder(dpy, c-&gt;win, scheme[SchemeSel].border-&gt;pix);
 		setfocus(c);
<a href="#h0-14-75" id="h0-14-75" class="d">-	}
</a><a href="#h0-14-76" id="h0-14-76" class="d">-	else {
</a><a href="#h0-14-77" id="h0-14-77" class="i">+	} else {
</a> 		XSetInputFocus(dpy, root, RevertToPointerRoot, CurrentTime);
 		XDeleteProperty(dpy, root, netatom[NetActiveWindow]);
 	}
<a href="#h0-15" id="h0-15" class="h">@@ -803,21 +817,24 @@ focus(Client *c) {
</a> 	drawbars();
 }
 
<a href="#h0-15-3" id="h0-15-3" class="i">+/* there are some broken focus acquiring clients */
</a> void
<a href="#h0-15-5" id="h0-15-5" class="d">-focusin(XEvent *e) { /* there are some broken focus acquiring clients */
</a><a href="#h0-15-6" id="h0-15-6" class="i">+focusin(XEvent *e)
</a><a href="#h0-15-7" id="h0-15-7" class="i">+{
</a> 	XFocusChangeEvent *ev = &amp;e-&gt;xfocus;
 
<a href="#h0-15-10" id="h0-15-10" class="d">-	if(selmon-&gt;sel &amp;&amp; ev-&gt;window != selmon-&gt;sel-&gt;win)
</a><a href="#h0-15-11" id="h0-15-11" class="i">+	if (selmon-&gt;sel &amp;&amp; ev-&gt;window != selmon-&gt;sel-&gt;win)
</a> 		setfocus(selmon-&gt;sel);
 }
 
 void
<a href="#h0-15-16" id="h0-15-16" class="d">-focusmon(const Arg *arg) {
</a><a href="#h0-15-17" id="h0-15-17" class="i">+focusmon(const Arg *arg)
</a><a href="#h0-15-18" id="h0-15-18" class="i">+{
</a> 	Monitor *m;
 
<a href="#h0-15-21" id="h0-15-21" class="d">-	if(!mons-&gt;next)
</a><a href="#h0-15-22" id="h0-15-22" class="i">+	if (!mons-&gt;next)
</a> 		return;
<a href="#h0-15-24" id="h0-15-24" class="d">-	if((m = dirtomon(arg-&gt;i)) == selmon)
</a><a href="#h0-15-25" id="h0-15-25" class="i">+	if ((m = dirtomon(arg-&gt;i)) == selmon)
</a> 		return;
 	unfocus(selmon-&gt;sel, 0); /* s/1/0/ fixes input focus issues
 					in gedit and anjuta */
<a href="#h0-16" id="h0-16" class="h">@@ -826,39 +843,40 @@ focusmon(const Arg *arg) {
</a> }
 
 void
<a href="#h0-16-3" id="h0-16-3" class="d">-focusstack(const Arg *arg) {
</a><a href="#h0-16-4" id="h0-16-4" class="i">+focusstack(const Arg *arg)
</a><a href="#h0-16-5" id="h0-16-5" class="i">+{
</a> 	Client *c = NULL, *i;
 
<a href="#h0-16-8" id="h0-16-8" class="d">-	if(!selmon-&gt;sel)
</a><a href="#h0-16-9" id="h0-16-9" class="i">+	if (!selmon-&gt;sel)
</a> 		return;
<a href="#h0-16-11" id="h0-16-11" class="d">-	if(arg-&gt;i &gt; 0) {
</a><a href="#h0-16-12" id="h0-16-12" class="d">-		for(c = selmon-&gt;sel-&gt;next; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h0-16-13" id="h0-16-13" class="d">-		if(!c)
</a><a href="#h0-16-14" id="h0-16-14" class="d">-			for(c = selmon-&gt;clients; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h0-16-15" id="h0-16-15" class="d">-	}
</a><a href="#h0-16-16" id="h0-16-16" class="d">-	else {
</a><a href="#h0-16-17" id="h0-16-17" class="d">-		for(i = selmon-&gt;clients; i != selmon-&gt;sel; i = i-&gt;next)
</a><a href="#h0-16-18" id="h0-16-18" class="d">-			if(ISVISIBLE(i))
</a><a href="#h0-16-19" id="h0-16-19" class="i">+	if (arg-&gt;i &gt; 0) {
</a><a href="#h0-16-20" id="h0-16-20" class="i">+		for (c = selmon-&gt;sel-&gt;next; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h0-16-21" id="h0-16-21" class="i">+		if (!c)
</a><a href="#h0-16-22" id="h0-16-22" class="i">+			for (c = selmon-&gt;clients; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h0-16-23" id="h0-16-23" class="i">+	} else {
</a><a href="#h0-16-24" id="h0-16-24" class="i">+		for (i = selmon-&gt;clients; i != selmon-&gt;sel; i = i-&gt;next)
</a><a href="#h0-16-25" id="h0-16-25" class="i">+			if (ISVISIBLE(i))
</a> 				c = i;
<a href="#h0-16-27" id="h0-16-27" class="d">-		if(!c)
</a><a href="#h0-16-28" id="h0-16-28" class="d">-			for(; i; i = i-&gt;next)
</a><a href="#h0-16-29" id="h0-16-29" class="d">-				if(ISVISIBLE(i))
</a><a href="#h0-16-30" id="h0-16-30" class="i">+		if (!c)
</a><a href="#h0-16-31" id="h0-16-31" class="i">+			for (; i; i = i-&gt;next)
</a><a href="#h0-16-32" id="h0-16-32" class="i">+				if (ISVISIBLE(i))
</a> 					c = i;
 	}
<a href="#h0-16-35" id="h0-16-35" class="d">-	if(c) {
</a><a href="#h0-16-36" id="h0-16-36" class="i">+	if (c) {
</a> 		focus(c);
 		restack(selmon);
 	}
 }
 
 Atom
<a href="#h0-16-43" id="h0-16-43" class="d">-getatomprop(Client *c, Atom prop) {
</a><a href="#h0-16-44" id="h0-16-44" class="i">+getatomprop(Client *c, Atom prop)
</a><a href="#h0-16-45" id="h0-16-45" class="i">+{
</a> 	int di;
 	unsigned long dl;
 	unsigned char *p = NULL;
 	Atom da, atom = None;
 
<a href="#h0-16-51" id="h0-16-51" class="d">-	if(XGetWindowProperty(dpy, c-&gt;win, prop, 0L, sizeof atom, False, XA_ATOM,
</a><a href="#h0-16-52" id="h0-16-52" class="i">+	if (XGetWindowProperty(dpy, c-&gt;win, prop, 0L, sizeof atom, False, XA_ATOM,
</a> 	                      &amp;da, &amp;di, &amp;dl, &amp;dl, &amp;p) == Success &amp;&amp; p) {
 		atom = *(Atom *)p;
 		XFree(p);
<a href="#h0-17" id="h0-17" class="h">@@ -867,7 +885,8 @@ getatomprop(Client *c, Atom prop) {
</a> }
 
 int
<a href="#h0-17-3" id="h0-17-3" class="d">-getrootptr(int *x, int *y) {
</a><a href="#h0-17-4" id="h0-17-4" class="i">+getrootptr(int *x, int *y)
</a><a href="#h0-17-5" id="h0-17-5" class="i">+{
</a> 	int di;
 	unsigned int dui;
 	Window dummy;
<a href="#h0-18" id="h0-18" class="h">@@ -876,38 +895,40 @@ getrootptr(int *x, int *y) {
</a> }
 
 long
<a href="#h0-18-3" id="h0-18-3" class="d">-getstate(Window w) {
</a><a href="#h0-18-4" id="h0-18-4" class="i">+getstate(Window w)
</a><a href="#h0-18-5" id="h0-18-5" class="i">+{
</a> 	int format;
 	long result = -1;
 	unsigned char *p = NULL;
 	unsigned long n, extra;
 	Atom real;
 
<a href="#h0-18-12" id="h0-18-12" class="d">-	if(XGetWindowProperty(dpy, w, wmatom[WMState], 0L, 2L, False, wmatom[WMState],
</a><a href="#h0-18-13" id="h0-18-13" class="i">+	if (XGetWindowProperty(dpy, w, wmatom[WMState], 0L, 2L, False, wmatom[WMState],
</a> 	                      &amp;real, &amp;format, &amp;n, &amp;extra, (unsigned char **)&amp;p) != Success)
 		return -1;
<a href="#h0-18-16" id="h0-18-16" class="d">-	if(n != 0)
</a><a href="#h0-18-17" id="h0-18-17" class="i">+	if (n != 0)
</a> 		result = *p;
 	XFree(p);
 	return result;
 }
 
 int
<a href="#h0-18-24" id="h0-18-24" class="d">-gettextprop(Window w, Atom atom, char *text, unsigned int size) {
</a><a href="#h0-18-25" id="h0-18-25" class="i">+gettextprop(Window w, Atom atom, char *text, unsigned int size)
</a><a href="#h0-18-26" id="h0-18-26" class="i">+{
</a> 	char **list = NULL;
 	int n;
 	XTextProperty name;
 
<a href="#h0-18-31" id="h0-18-31" class="d">-	if(!text || size == 0)
</a><a href="#h0-18-32" id="h0-18-32" class="i">+	if (!text || size == 0)
</a> 		return 0;
 	text[0] = &#39;\0&#39;;
 	XGetTextProperty(dpy, w, &amp;name, atom);
<a href="#h0-18-36" id="h0-18-36" class="d">-	if(!name.nitems)
</a><a href="#h0-18-37" id="h0-18-37" class="i">+	if (!name.nitems)
</a> 		return 0;
<a href="#h0-18-39" id="h0-18-39" class="d">-	if(name.encoding == XA_STRING)
</a><a href="#h0-18-40" id="h0-18-40" class="i">+	if (name.encoding == XA_STRING)
</a> 		strncpy(text, (char *)name.value, size - 1);
 	else {
<a href="#h0-18-43" id="h0-18-43" class="d">-		if(XmbTextPropertyToTextList(dpy, &amp;name, &amp;list, &amp;n) &gt;= Success &amp;&amp; n &gt; 0 &amp;&amp; *list) {
</a><a href="#h0-18-44" id="h0-18-44" class="i">+		if (XmbTextPropertyToTextList(dpy, &amp;name, &amp;list, &amp;n) &gt;= Success &amp;&amp; n &gt; 0 &amp;&amp; *list) {
</a> 			strncpy(text, *list, size - 1);
 			XFreeStringList(list);
 		}
<a href="#h0-19" id="h0-19" class="h">@@ -918,29 +939,30 @@ gettextprop(Window w, Atom atom, char *text, unsigned int size) {
</a> }
 
 void
<a href="#h0-19-3" id="h0-19-3" class="d">-grabbuttons(Client *c, int focused) {
</a><a href="#h0-19-4" id="h0-19-4" class="i">+grabbuttons(Client *c, int focused)
</a><a href="#h0-19-5" id="h0-19-5" class="i">+{
</a> 	updatenumlockmask();
 	{
 		unsigned int i, j;
 		unsigned int modifiers[] = { 0, LockMask, numlockmask, numlockmask|LockMask };
 		XUngrabButton(dpy, AnyButton, AnyModifier, c-&gt;win);
<a href="#h0-19-11" id="h0-19-11" class="d">-		if(focused) {
</a><a href="#h0-19-12" id="h0-19-12" class="d">-			for(i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h0-19-13" id="h0-19-13" class="d">-				if(buttons[i].click == ClkClientWin)
</a><a href="#h0-19-14" id="h0-19-14" class="d">-					for(j = 0; j &lt; LENGTH(modifiers); j++)
</a><a href="#h0-19-15" id="h0-19-15" class="i">+		if (focused) {
</a><a href="#h0-19-16" id="h0-19-16" class="i">+			for (i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h0-19-17" id="h0-19-17" class="i">+				if (buttons[i].click == ClkClientWin)
</a><a href="#h0-19-18" id="h0-19-18" class="i">+					for (j = 0; j &lt; LENGTH(modifiers); j++)
</a> 						XGrabButton(dpy, buttons[i].button,
 						            buttons[i].mask | modifiers[j],
 						            c-&gt;win, False, BUTTONMASK,
 						            GrabModeAsync, GrabModeSync, None, None);
<a href="#h0-19-23" id="h0-19-23" class="d">-		}
</a><a href="#h0-19-24" id="h0-19-24" class="d">-		else
</a><a href="#h0-19-25" id="h0-19-25" class="i">+		} else
</a> 			XGrabButton(dpy, AnyButton, AnyModifier, c-&gt;win, False,
 			            BUTTONMASK, GrabModeAsync, GrabModeSync, None, None);
 	}
 }
 
 void
<a href="#h0-19-32" id="h0-19-32" class="d">-grabkeys(void) {
</a><a href="#h0-19-33" id="h0-19-33" class="i">+grabkeys(void)
</a><a href="#h0-19-34" id="h0-19-34" class="i">+{
</a> 	updatenumlockmask();
 	{
 		unsigned int i, j;
<a href="#h0-20" id="h0-20" class="h">@@ -948,25 +970,27 @@ grabkeys(void) {
</a> 		KeyCode code;
 
 		XUngrabKey(dpy, AnyKey, AnyModifier, root);
<a href="#h0-20-3" id="h0-20-3" class="d">-		for(i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h0-20-4" id="h0-20-4" class="d">-			if((code = XKeysymToKeycode(dpy, keys[i].keysym)))
</a><a href="#h0-20-5" id="h0-20-5" class="d">-				for(j = 0; j &lt; LENGTH(modifiers); j++)
</a><a href="#h0-20-6" id="h0-20-6" class="i">+		for (i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h0-20-7" id="h0-20-7" class="i">+			if ((code = XKeysymToKeycode(dpy, keys[i].keysym)))
</a><a href="#h0-20-8" id="h0-20-8" class="i">+				for (j = 0; j &lt; LENGTH(modifiers); j++)
</a> 					XGrabKey(dpy, code, keys[i].mod | modifiers[j], root,
 						 True, GrabModeAsync, GrabModeAsync);
 	}
 }
 
 void
<a href="#h0-20-15" id="h0-20-15" class="d">-incnmaster(const Arg *arg) {
</a><a href="#h0-20-16" id="h0-20-16" class="i">+incnmaster(const Arg *arg)
</a><a href="#h0-20-17" id="h0-20-17" class="i">+{
</a> 	selmon-&gt;nmaster = MAX(selmon-&gt;nmaster + arg-&gt;i, 0);
 	arrange(selmon);
 }
 
 #ifdef XINERAMA
 static int
<a href="#h0-20-24" id="h0-20-24" class="d">-isuniquegeom(XineramaScreenInfo *unique, size_t n, XineramaScreenInfo *info) {
</a><a href="#h0-20-25" id="h0-20-25" class="d">-	while(n--)
</a><a href="#h0-20-26" id="h0-20-26" class="d">-		if(unique[n].x_org == info-&gt;x_org &amp;&amp; unique[n].y_org == info-&gt;y_org
</a><a href="#h0-20-27" id="h0-20-27" class="i">+isuniquegeom(XineramaScreenInfo *unique, size_t n, XineramaScreenInfo *info)
</a><a href="#h0-20-28" id="h0-20-28" class="i">+{
</a><a href="#h0-20-29" id="h0-20-29" class="i">+	while (n--)
</a><a href="#h0-20-30" id="h0-20-30" class="i">+		if (unique[n].x_org == info-&gt;x_org &amp;&amp; unique[n].y_org == info-&gt;y_org
</a> 		&amp;&amp; unique[n].width == info-&gt;width &amp;&amp; unique[n].height == info-&gt;height)
 			return 0;
 	return 1;
<a href="#h0-21" id="h0-21" class="h">@@ -974,25 +998,27 @@ isuniquegeom(XineramaScreenInfo *unique, size_t n, XineramaScreenInfo *info) {
</a> #endif /* XINERAMA */
 
 void
<a href="#h0-21-3" id="h0-21-3" class="d">-keypress(XEvent *e) {
</a><a href="#h0-21-4" id="h0-21-4" class="i">+keypress(XEvent *e)
</a><a href="#h0-21-5" id="h0-21-5" class="i">+{
</a> 	unsigned int i;
 	KeySym keysym;
 	XKeyEvent *ev;
 
 	ev = &amp;e-&gt;xkey;
 	keysym = XKeycodeToKeysym(dpy, (KeyCode)ev-&gt;keycode, 0);
<a href="#h0-21-12" id="h0-21-12" class="d">-	for(i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h0-21-13" id="h0-21-13" class="d">-		if(keysym == keys[i].keysym
</a><a href="#h0-21-14" id="h0-21-14" class="i">+	for (i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h0-21-15" id="h0-21-15" class="i">+		if (keysym == keys[i].keysym
</a> 		&amp;&amp; CLEANMASK(keys[i].mod) == CLEANMASK(ev-&gt;state)
 		&amp;&amp; keys[i].func)
 			keys[i].func(&amp;(keys[i].arg));
 }
 
 void
<a href="#h0-21-22" id="h0-21-22" class="d">-killclient(const Arg *arg) {
</a><a href="#h0-21-23" id="h0-21-23" class="d">-	if(!selmon-&gt;sel)
</a><a href="#h0-21-24" id="h0-21-24" class="i">+killclient(const Arg *arg)
</a><a href="#h0-21-25" id="h0-21-25" class="i">+{
</a><a href="#h0-21-26" id="h0-21-26" class="i">+	if (!selmon-&gt;sel)
</a> 		return;
<a href="#h0-21-28" id="h0-21-28" class="d">-	if(!sendevent(selmon-&gt;sel, wmatom[WMDelete])) {
</a><a href="#h0-21-29" id="h0-21-29" class="i">+	if (!sendevent(selmon-&gt;sel, wmatom[WMDelete])) {
</a> 		XGrabServer(dpy);
 		XSetErrorHandler(xerrordummy);
 		XSetCloseDownMode(dpy, DestroyAll);
<a href="#h0-22" id="h0-22" class="h">@@ -1004,7 +1030,8 @@ killclient(const Arg *arg) {
</a> }
 
 void
<a href="#h0-22-3" id="h0-22-3" class="d">-manage(Window w, XWindowAttributes *wa) {
</a><a href="#h0-22-4" id="h0-22-4" class="i">+manage(Window w, XWindowAttributes *wa)
</a><a href="#h0-22-5" id="h0-22-5" class="i">+{
</a> 	Client *c, *t = NULL;
 	Window trans = None;
 	XWindowChanges wc;
<a href="#h0-23" id="h0-23" class="h">@@ -1012,11 +1039,10 @@ manage(Window w, XWindowAttributes *wa) {
</a> 	c = ecalloc(1, sizeof(Client));
 	c-&gt;win = w;
 	updatetitle(c);
<a href="#h0-23-3" id="h0-23-3" class="d">-	if(XGetTransientForHint(dpy, w, &amp;trans) &amp;&amp; (t = wintoclient(trans))) {
</a><a href="#h0-23-4" id="h0-23-4" class="i">+	if (XGetTransientForHint(dpy, w, &amp;trans) &amp;&amp; (t = wintoclient(trans))) {
</a> 		c-&gt;mon = t-&gt;mon;
 		c-&gt;tags = t-&gt;tags;
<a href="#h0-23-7" id="h0-23-7" class="d">-	}
</a><a href="#h0-23-8" id="h0-23-8" class="d">-	else {
</a><a href="#h0-23-9" id="h0-23-9" class="i">+	} else {
</a> 		c-&gt;mon = selmon;
 		applyrules(c);
 	}
<a href="#h0-24" id="h0-24" class="h">@@ -1027,9 +1053,9 @@ manage(Window w, XWindowAttributes *wa) {
</a> 	c-&gt;h = c-&gt;oldh = wa-&gt;height;
 	c-&gt;oldbw = wa-&gt;border_width;
 
<a href="#h0-24-3" id="h0-24-3" class="d">-	if(c-&gt;x + WIDTH(c) &gt; c-&gt;mon-&gt;mx + c-&gt;mon-&gt;mw)
</a><a href="#h0-24-4" id="h0-24-4" class="i">+	if (c-&gt;x + WIDTH(c) &gt; c-&gt;mon-&gt;mx + c-&gt;mon-&gt;mw)
</a> 		c-&gt;x = c-&gt;mon-&gt;mx + c-&gt;mon-&gt;mw - WIDTH(c);
<a href="#h0-24-6" id="h0-24-6" class="d">-	if(c-&gt;y + HEIGHT(c) &gt; c-&gt;mon-&gt;my + c-&gt;mon-&gt;mh)
</a><a href="#h0-24-7" id="h0-24-7" class="i">+	if (c-&gt;y + HEIGHT(c) &gt; c-&gt;mon-&gt;my + c-&gt;mon-&gt;mh)
</a> 		c-&gt;y = c-&gt;mon-&gt;my + c-&gt;mon-&gt;mh - HEIGHT(c);
 	c-&gt;x = MAX(c-&gt;x, c-&gt;mon-&gt;mx);
 	/* only fix client y-offset, if the client center might cover the bar */
<a href="#h0-25" id="h0-25" class="h">@@ -1046,9 +1072,9 @@ manage(Window w, XWindowAttributes *wa) {
</a> 	updatewmhints(c);
 	XSelectInput(dpy, w, EnterWindowMask|FocusChangeMask|PropertyChangeMask|StructureNotifyMask);
 	grabbuttons(c, 0);
<a href="#h0-25-3" id="h0-25-3" class="d">-	if(!c-&gt;isfloating)
</a><a href="#h0-25-4" id="h0-25-4" class="i">+	if (!c-&gt;isfloating)
</a> 		c-&gt;isfloating = c-&gt;oldstate = trans != None || c-&gt;isfixed;
<a href="#h0-25-6" id="h0-25-6" class="d">-	if(c-&gt;isfloating)
</a><a href="#h0-25-7" id="h0-25-7" class="i">+	if (c-&gt;isfloating)
</a> 		XRaiseWindow(dpy, c-&gt;win);
 	attach(c);
 	attachstack(c);
<a href="#h0-26" id="h0-26" class="h">@@ -1065,50 +1091,54 @@ manage(Window w, XWindowAttributes *wa) {
</a> }
 
 void
<a href="#h0-26-3" id="h0-26-3" class="d">-mappingnotify(XEvent *e) {
</a><a href="#h0-26-4" id="h0-26-4" class="i">+mappingnotify(XEvent *e)
</a><a href="#h0-26-5" id="h0-26-5" class="i">+{
</a> 	XMappingEvent *ev = &amp;e-&gt;xmapping;
 
 	XRefreshKeyboardMapping(ev);
<a href="#h0-26-9" id="h0-26-9" class="d">-	if(ev-&gt;request == MappingKeyboard)
</a><a href="#h0-26-10" id="h0-26-10" class="i">+	if (ev-&gt;request == MappingKeyboard)
</a> 		grabkeys();
 }
 
 void
<a href="#h0-26-15" id="h0-26-15" class="d">-maprequest(XEvent *e) {
</a><a href="#h0-26-16" id="h0-26-16" class="i">+maprequest(XEvent *e)
</a><a href="#h0-26-17" id="h0-26-17" class="i">+{
</a> 	static XWindowAttributes wa;
 	XMapRequestEvent *ev = &amp;e-&gt;xmaprequest;
 
<a href="#h0-26-21" id="h0-26-21" class="d">-	if(!XGetWindowAttributes(dpy, ev-&gt;window, &amp;wa))
</a><a href="#h0-26-22" id="h0-26-22" class="i">+	if (!XGetWindowAttributes(dpy, ev-&gt;window, &amp;wa))
</a> 		return;
<a href="#h0-26-24" id="h0-26-24" class="d">-	if(wa.override_redirect)
</a><a href="#h0-26-25" id="h0-26-25" class="i">+	if (wa.override_redirect)
</a> 		return;
<a href="#h0-26-27" id="h0-26-27" class="d">-	if(!wintoclient(ev-&gt;window))
</a><a href="#h0-26-28" id="h0-26-28" class="i">+	if (!wintoclient(ev-&gt;window))
</a> 		manage(ev-&gt;window, &amp;wa);
 }
 
 void
<a href="#h0-26-33" id="h0-26-33" class="d">-monocle(Monitor *m) {
</a><a href="#h0-26-34" id="h0-26-34" class="i">+monocle(Monitor *m)
</a><a href="#h0-26-35" id="h0-26-35" class="i">+{
</a> 	unsigned int n = 0;
 	Client *c;
 
<a href="#h0-26-39" id="h0-26-39" class="d">-	for(c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h0-26-40" id="h0-26-40" class="d">-		if(ISVISIBLE(c))
</a><a href="#h0-26-41" id="h0-26-41" class="i">+	for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h0-26-42" id="h0-26-42" class="i">+		if (ISVISIBLE(c))
</a> 			n++;
<a href="#h0-26-44" id="h0-26-44" class="d">-	if(n &gt; 0) /* override layout symbol */
</a><a href="#h0-26-45" id="h0-26-45" class="i">+	if (n &gt; 0) /* override layout symbol */
</a> 		snprintf(m-&gt;ltsymbol, sizeof m-&gt;ltsymbol, &quot;[%d]&quot;, n);
<a href="#h0-26-47" id="h0-26-47" class="d">-	for(c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next))
</a><a href="#h0-26-48" id="h0-26-48" class="i">+	for (c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next))
</a> 		resize(c, m-&gt;wx, m-&gt;wy, m-&gt;ww - 2 * c-&gt;bw, m-&gt;wh - 2 * c-&gt;bw, 0);
 }
 
 void
<a href="#h0-26-53" id="h0-26-53" class="d">-motionnotify(XEvent *e) {
</a><a href="#h0-26-54" id="h0-26-54" class="i">+motionnotify(XEvent *e)
</a><a href="#h0-26-55" id="h0-26-55" class="i">+{
</a> 	static Monitor *mon = NULL;
 	Monitor *m;
 	XMotionEvent *ev = &amp;e-&gt;xmotion;
 
<a href="#h0-26-60" id="h0-26-60" class="d">-	if(ev-&gt;window != root)
</a><a href="#h0-26-61" id="h0-26-61" class="i">+	if (ev-&gt;window != root)
</a> 		return;
<a href="#h0-26-63" id="h0-26-63" class="d">-	if((m = recttomon(ev-&gt;x_root, ev-&gt;y_root, 1, 1)) != mon &amp;&amp; mon) {
</a><a href="#h0-26-64" id="h0-26-64" class="i">+	if ((m = recttomon(ev-&gt;x_root, ev-&gt;y_root, 1, 1)) != mon &amp;&amp; mon) {
</a> 		unfocus(selmon-&gt;sel, 1);
 		selmon = m;
 		focus(NULL);
<a href="#h0-27" id="h0-27" class="h">@@ -1117,24 +1147,25 @@ motionnotify(XEvent *e) {
</a> }
 
 void
<a href="#h0-27-3" id="h0-27-3" class="d">-movemouse(const Arg *arg) {
</a><a href="#h0-27-4" id="h0-27-4" class="i">+movemouse(const Arg *arg)
</a><a href="#h0-27-5" id="h0-27-5" class="i">+{
</a> 	int x, y, ocx, ocy, nx, ny;
 	Client *c;
 	Monitor *m;
 	XEvent ev;
 	Time lasttime = 0;
 
<a href="#h0-27-12" id="h0-27-12" class="d">-	if(!(c = selmon-&gt;sel))
</a><a href="#h0-27-13" id="h0-27-13" class="i">+	if (!(c = selmon-&gt;sel))
</a> 		return;
<a href="#h0-27-15" id="h0-27-15" class="d">-	if(c-&gt;isfullscreen) /* no support moving fullscreen windows by mouse */
</a><a href="#h0-27-16" id="h0-27-16" class="i">+	if (c-&gt;isfullscreen) /* no support moving fullscreen windows by mouse */
</a> 		return;
 	restack(selmon);
 	ocx = c-&gt;x;
 	ocy = c-&gt;y;
<a href="#h0-27-21" id="h0-27-21" class="d">-	if(XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a><a href="#h0-27-22" id="h0-27-22" class="i">+	if (XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a> 	None, cursor[CurMove]-&gt;cursor, CurrentTime) != GrabSuccess)
 		return;
<a href="#h0-27-25" id="h0-27-25" class="d">-	if(!getrootptr(&amp;x, &amp;y))
</a><a href="#h0-27-26" id="h0-27-26" class="i">+	if (!getrootptr(&amp;x, &amp;y))
</a> 		return;
 	do {
 		XMaskEvent(dpy, MOUSEMASK|ExposureMask|SubstructureRedirectMask, &amp;ev);
<a href="#h0-28" id="h0-28" class="h">@@ -1151,27 +1182,27 @@ movemouse(const Arg *arg) {
</a> 
 			nx = ocx + (ev.xmotion.x - x);
 			ny = ocy + (ev.xmotion.y - y);
<a href="#h0-28-3" id="h0-28-3" class="d">-			if(nx &gt;= selmon-&gt;wx &amp;&amp; nx &lt;= selmon-&gt;wx + selmon-&gt;ww
</a><a href="#h0-28-4" id="h0-28-4" class="i">+			if (nx &gt;= selmon-&gt;wx &amp;&amp; nx &lt;= selmon-&gt;wx + selmon-&gt;ww
</a> 			&amp;&amp; ny &gt;= selmon-&gt;wy &amp;&amp; ny &lt;= selmon-&gt;wy + selmon-&gt;wh) {
<a href="#h0-28-6" id="h0-28-6" class="d">-				if(abs(selmon-&gt;wx - nx) &lt; snap)
</a><a href="#h0-28-7" id="h0-28-7" class="i">+				if (abs(selmon-&gt;wx - nx) &lt; snap)
</a> 					nx = selmon-&gt;wx;
<a href="#h0-28-9" id="h0-28-9" class="d">-				else if(abs((selmon-&gt;wx + selmon-&gt;ww) - (nx + WIDTH(c))) &lt; snap)
</a><a href="#h0-28-10" id="h0-28-10" class="i">+				else if (abs((selmon-&gt;wx + selmon-&gt;ww) - (nx + WIDTH(c))) &lt; snap)
</a> 					nx = selmon-&gt;wx + selmon-&gt;ww - WIDTH(c);
<a href="#h0-28-12" id="h0-28-12" class="d">-				if(abs(selmon-&gt;wy - ny) &lt; snap)
</a><a href="#h0-28-13" id="h0-28-13" class="i">+				if (abs(selmon-&gt;wy - ny) &lt; snap)
</a> 					ny = selmon-&gt;wy;
<a href="#h0-28-15" id="h0-28-15" class="d">-				else if(abs((selmon-&gt;wy + selmon-&gt;wh) - (ny + HEIGHT(c))) &lt; snap)
</a><a href="#h0-28-16" id="h0-28-16" class="i">+				else if (abs((selmon-&gt;wy + selmon-&gt;wh) - (ny + HEIGHT(c))) &lt; snap)
</a> 					ny = selmon-&gt;wy + selmon-&gt;wh - HEIGHT(c);
<a href="#h0-28-18" id="h0-28-18" class="d">-				if(!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a><a href="#h0-28-19" id="h0-28-19" class="i">+				if (!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a> 				&amp;&amp; (abs(nx - c-&gt;x) &gt; snap || abs(ny - c-&gt;y) &gt; snap))
 					togglefloating(NULL);
 			}
<a href="#h0-28-23" id="h0-28-23" class="d">-			if(!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a><a href="#h0-28-24" id="h0-28-24" class="i">+			if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a> 				resize(c, nx, ny, c-&gt;w, c-&gt;h, 1);
 			break;
 		}
<a href="#h0-28-28" id="h0-28-28" class="d">-	} while(ev.type != ButtonRelease);
</a><a href="#h0-28-29" id="h0-28-29" class="i">+	} while (ev.type != ButtonRelease);
</a> 	XUngrabPointer(dpy, CurrentTime);
<a href="#h0-28-31" id="h0-28-31" class="d">-	if((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a><a href="#h0-28-32" id="h0-28-32" class="i">+	if ((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a> 		sendmon(c, m);
 		selmon = m;
 		focus(NULL);
<a href="#h0-29" id="h0-29" class="h">@@ -1179,13 +1210,15 @@ movemouse(const Arg *arg) {
</a> }
 
 Client *
<a href="#h0-29-3" id="h0-29-3" class="d">-nexttiled(Client *c) {
</a><a href="#h0-29-4" id="h0-29-4" class="d">-	for(; c &amp;&amp; (c-&gt;isfloating || !ISVISIBLE(c)); c = c-&gt;next);
</a><a href="#h0-29-5" id="h0-29-5" class="i">+nexttiled(Client *c)
</a><a href="#h0-29-6" id="h0-29-6" class="i">+{
</a><a href="#h0-29-7" id="h0-29-7" class="i">+	for (; c &amp;&amp; (c-&gt;isfloating || !ISVISIBLE(c)); c = c-&gt;next);
</a> 	return c;
 }
 
 void
<a href="#h0-29-12" id="h0-29-12" class="d">-pop(Client *c) {
</a><a href="#h0-29-13" id="h0-29-13" class="i">+pop(Client *c)
</a><a href="#h0-29-14" id="h0-29-14" class="i">+{
</a> 	detach(c);
 	attach(c);
 	focus(c);
<a href="#h0-30" id="h0-30" class="h">@@ -1193,20 +1226,21 @@ pop(Client *c) {
</a> }
 
 void
<a href="#h0-30-3" id="h0-30-3" class="d">-propertynotify(XEvent *e) {
</a><a href="#h0-30-4" id="h0-30-4" class="i">+propertynotify(XEvent *e)
</a><a href="#h0-30-5" id="h0-30-5" class="i">+{
</a> 	Client *c;
 	Window trans;
 	XPropertyEvent *ev = &amp;e-&gt;xproperty;
 
<a href="#h0-30-10" id="h0-30-10" class="d">-	if((ev-&gt;window == root) &amp;&amp; (ev-&gt;atom == XA_WM_NAME))
</a><a href="#h0-30-11" id="h0-30-11" class="i">+	if ((ev-&gt;window == root) &amp;&amp; (ev-&gt;atom == XA_WM_NAME))
</a> 		updatestatus();
<a href="#h0-30-13" id="h0-30-13" class="d">-	else if(ev-&gt;state == PropertyDelete)
</a><a href="#h0-30-14" id="h0-30-14" class="i">+	else if (ev-&gt;state == PropertyDelete)
</a> 		return; /* ignore */
<a href="#h0-30-16" id="h0-30-16" class="d">-	else if((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-30-17" id="h0-30-17" class="i">+	else if ((c = wintoclient(ev-&gt;window))) {
</a> 		switch(ev-&gt;atom) {
 		default: break;
 		case XA_WM_TRANSIENT_FOR:
<a href="#h0-30-21" id="h0-30-21" class="d">-			if(!c-&gt;isfloating &amp;&amp; (XGetTransientForHint(dpy, c-&gt;win, &amp;trans)) &amp;&amp;
</a><a href="#h0-30-22" id="h0-30-22" class="i">+			if (!c-&gt;isfloating &amp;&amp; (XGetTransientForHint(dpy, c-&gt;win, &amp;trans)) &amp;&amp;
</a> 			   (c-&gt;isfloating = (wintoclient(trans)) != NULL))
 				arrange(c-&gt;mon);
 			break;
<a href="#h0-31" id="h0-31" class="h">@@ -1218,28 +1252,30 @@ propertynotify(XEvent *e) {
</a> 			drawbars();
 			break;
 		}
<a href="#h0-31-3" id="h0-31-3" class="d">-		if(ev-&gt;atom == XA_WM_NAME || ev-&gt;atom == netatom[NetWMName]) {
</a><a href="#h0-31-4" id="h0-31-4" class="i">+		if (ev-&gt;atom == XA_WM_NAME || ev-&gt;atom == netatom[NetWMName]) {
</a> 			updatetitle(c);
<a href="#h0-31-6" id="h0-31-6" class="d">-			if(c == c-&gt;mon-&gt;sel)
</a><a href="#h0-31-7" id="h0-31-7" class="i">+			if (c == c-&gt;mon-&gt;sel)
</a> 				drawbar(c-&gt;mon);
 		}
<a href="#h0-31-10" id="h0-31-10" class="d">-		if(ev-&gt;atom == netatom[NetWMWindowType])
</a><a href="#h0-31-11" id="h0-31-11" class="i">+		if (ev-&gt;atom == netatom[NetWMWindowType])
</a> 			updatewindowtype(c);
 	}
 }
 
 void
<a href="#h0-31-17" id="h0-31-17" class="d">-quit(const Arg *arg) {
</a><a href="#h0-31-18" id="h0-31-18" class="i">+quit(const Arg *arg)
</a><a href="#h0-31-19" id="h0-31-19" class="i">+{
</a> 	running = 0;
 }
 
 Monitor *
<a href="#h0-31-24" id="h0-31-24" class="d">-recttomon(int x, int y, int w, int h) {
</a><a href="#h0-31-25" id="h0-31-25" class="i">+recttomon(int x, int y, int w, int h)
</a><a href="#h0-31-26" id="h0-31-26" class="i">+{
</a> 	Monitor *m, *r = selmon;
 	int a, area = 0;
 
<a href="#h0-31-30" id="h0-31-30" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-31-31" id="h0-31-31" class="d">-		if((a = INTERSECT(x, y, w, h, m)) &gt; area) {
</a><a href="#h0-31-32" id="h0-31-32" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h0-31-33" id="h0-31-33" class="i">+		if ((a = INTERSECT(x, y, w, h, m)) &gt; area) {
</a> 			area = a;
 			r = m;
 		}
<a href="#h0-32" id="h0-32" class="h">@@ -1247,13 +1283,15 @@ recttomon(int x, int y, int w, int h) {
</a> }
 
 void
<a href="#h0-32-3" id="h0-32-3" class="d">-resize(Client *c, int x, int y, int w, int h, int interact) {
</a><a href="#h0-32-4" id="h0-32-4" class="d">-	if(applysizehints(c, &amp;x, &amp;y, &amp;w, &amp;h, interact))
</a><a href="#h0-32-5" id="h0-32-5" class="i">+resize(Client *c, int x, int y, int w, int h, int interact)
</a><a href="#h0-32-6" id="h0-32-6" class="i">+{
</a><a href="#h0-32-7" id="h0-32-7" class="i">+	if (applysizehints(c, &amp;x, &amp;y, &amp;w, &amp;h, interact))
</a> 		resizeclient(c, x, y, w, h);
 }
 
 void
<a href="#h0-32-12" id="h0-32-12" class="d">-resizeclient(Client *c, int x, int y, int w, int h) {
</a><a href="#h0-32-13" id="h0-32-13" class="i">+resizeclient(Client *c, int x, int y, int w, int h)
</a><a href="#h0-32-14" id="h0-32-14" class="i">+{
</a> 	XWindowChanges wc;
 
 	c-&gt;oldx = c-&gt;x; c-&gt;x = wc.x = x;
<a href="#h0-33" id="h0-33" class="h">@@ -1267,21 +1305,22 @@ resizeclient(Client *c, int x, int y, int w, int h) {
</a> }
 
 void
<a href="#h0-33-3" id="h0-33-3" class="d">-resizemouse(const Arg *arg) {
</a><a href="#h0-33-4" id="h0-33-4" class="i">+resizemouse(const Arg *arg)
</a><a href="#h0-33-5" id="h0-33-5" class="i">+{
</a> 	int ocx, ocy, nw, nh;
 	Client *c;
 	Monitor *m;
 	XEvent ev;
 	Time lasttime = 0;
 
<a href="#h0-33-12" id="h0-33-12" class="d">-	if(!(c = selmon-&gt;sel))
</a><a href="#h0-33-13" id="h0-33-13" class="i">+	if (!(c = selmon-&gt;sel))
</a> 		return;
<a href="#h0-33-15" id="h0-33-15" class="d">-	if(c-&gt;isfullscreen) /* no support resizing fullscreen windows by mouse */
</a><a href="#h0-33-16" id="h0-33-16" class="i">+	if (c-&gt;isfullscreen) /* no support resizing fullscreen windows by mouse */
</a> 		return;
 	restack(selmon);
 	ocx = c-&gt;x;
 	ocy = c-&gt;y;
<a href="#h0-33-21" id="h0-33-21" class="d">-	if(XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a><a href="#h0-33-22" id="h0-33-22" class="i">+	if (XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a> 	                None, cursor[CurResize]-&gt;cursor, CurrentTime) != GrabSuccess)
 		return;
 	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w + c-&gt;bw - 1, c-&gt;h + c-&gt;bw - 1);
<a href="#h0-34" id="h0-34" class="h">@@ -1300,22 +1339,22 @@ resizemouse(const Arg *arg) {
</a> 
 			nw = MAX(ev.xmotion.x - ocx - 2 * c-&gt;bw + 1, 1);
 			nh = MAX(ev.xmotion.y - ocy - 2 * c-&gt;bw + 1, 1);
<a href="#h0-34-3" id="h0-34-3" class="d">-			if(c-&gt;mon-&gt;wx + nw &gt;= selmon-&gt;wx &amp;&amp; c-&gt;mon-&gt;wx + nw &lt;= selmon-&gt;wx + selmon-&gt;ww
</a><a href="#h0-34-4" id="h0-34-4" class="i">+			if (c-&gt;mon-&gt;wx + nw &gt;= selmon-&gt;wx &amp;&amp; c-&gt;mon-&gt;wx + nw &lt;= selmon-&gt;wx + selmon-&gt;ww
</a> 			&amp;&amp; c-&gt;mon-&gt;wy + nh &gt;= selmon-&gt;wy &amp;&amp; c-&gt;mon-&gt;wy + nh &lt;= selmon-&gt;wy + selmon-&gt;wh)
 			{
<a href="#h0-34-7" id="h0-34-7" class="d">-				if(!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a><a href="#h0-34-8" id="h0-34-8" class="i">+				if (!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a> 				&amp;&amp; (abs(nw - c-&gt;w) &gt; snap || abs(nh - c-&gt;h) &gt; snap))
 					togglefloating(NULL);
 			}
<a href="#h0-34-12" id="h0-34-12" class="d">-			if(!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a><a href="#h0-34-13" id="h0-34-13" class="i">+			if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a> 				resize(c, c-&gt;x, c-&gt;y, nw, nh, 1);
 			break;
 		}
<a href="#h0-34-17" id="h0-34-17" class="d">-	} while(ev.type != ButtonRelease);
</a><a href="#h0-34-18" id="h0-34-18" class="i">+	} while (ev.type != ButtonRelease);
</a> 	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w + c-&gt;bw - 1, c-&gt;h + c-&gt;bw - 1);
 	XUngrabPointer(dpy, CurrentTime);
<a href="#h0-34-21" id="h0-34-21" class="d">-	while(XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h0-34-22" id="h0-34-22" class="d">-	if((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a><a href="#h0-34-23" id="h0-34-23" class="i">+	while (XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h0-34-24" id="h0-34-24" class="i">+	if ((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a> 		sendmon(c, m);
 		selmon = m;
 		focus(NULL);
<a href="#h0-35" id="h0-35" class="h">@@ -1323,68 +1362,72 @@ resizemouse(const Arg *arg) {
</a> }
 
 void
<a href="#h0-35-3" id="h0-35-3" class="d">-restack(Monitor *m) {
</a><a href="#h0-35-4" id="h0-35-4" class="i">+restack(Monitor *m)
</a><a href="#h0-35-5" id="h0-35-5" class="i">+{
</a> 	Client *c;
 	XEvent ev;
 	XWindowChanges wc;
 
 	drawbar(m);
<a href="#h0-35-11" id="h0-35-11" class="d">-	if(!m-&gt;sel)
</a><a href="#h0-35-12" id="h0-35-12" class="i">+	if (!m-&gt;sel)
</a> 		return;
<a href="#h0-35-14" id="h0-35-14" class="d">-	if(m-&gt;sel-&gt;isfloating || !m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a><a href="#h0-35-15" id="h0-35-15" class="i">+	if (m-&gt;sel-&gt;isfloating || !m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a> 		XRaiseWindow(dpy, m-&gt;sel-&gt;win);
<a href="#h0-35-17" id="h0-35-17" class="d">-	if(m-&gt;lt[m-&gt;sellt]-&gt;arrange) {
</a><a href="#h0-35-18" id="h0-35-18" class="i">+	if (m-&gt;lt[m-&gt;sellt]-&gt;arrange) {
</a> 		wc.stack_mode = Below;
 		wc.sibling = m-&gt;barwin;
<a href="#h0-35-21" id="h0-35-21" class="d">-		for(c = m-&gt;stack; c; c = c-&gt;snext)
</a><a href="#h0-35-22" id="h0-35-22" class="d">-			if(!c-&gt;isfloating &amp;&amp; ISVISIBLE(c)) {
</a><a href="#h0-35-23" id="h0-35-23" class="i">+		for (c = m-&gt;stack; c; c = c-&gt;snext)
</a><a href="#h0-35-24" id="h0-35-24" class="i">+			if (!c-&gt;isfloating &amp;&amp; ISVISIBLE(c)) {
</a> 				XConfigureWindow(dpy, c-&gt;win, CWSibling|CWStackMode, &amp;wc);
 				wc.sibling = c-&gt;win;
 			}
 	}
 	XSync(dpy, False);
<a href="#h0-35-30" id="h0-35-30" class="d">-	while(XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h0-35-31" id="h0-35-31" class="i">+	while (XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a> }
 
 void
<a href="#h0-35-35" id="h0-35-35" class="d">-run(void) {
</a><a href="#h0-35-36" id="h0-35-36" class="i">+run(void)
</a><a href="#h0-35-37" id="h0-35-37" class="i">+{
</a> 	XEvent ev;
 	/* main event loop */
 	XSync(dpy, False);
<a href="#h0-35-41" id="h0-35-41" class="d">-	while(running &amp;&amp; !XNextEvent(dpy, &amp;ev))
</a><a href="#h0-35-42" id="h0-35-42" class="d">-		if(handler[ev.type])
</a><a href="#h0-35-43" id="h0-35-43" class="i">+	while (running &amp;&amp; !XNextEvent(dpy, &amp;ev))
</a><a href="#h0-35-44" id="h0-35-44" class="i">+		if (handler[ev.type])
</a> 			handler[ev.type](&amp;ev); /* call handler */
 }
 
 void
<a href="#h0-35-49" id="h0-35-49" class="d">-scan(void) {
</a><a href="#h0-35-50" id="h0-35-50" class="i">+scan(void)
</a><a href="#h0-35-51" id="h0-35-51" class="i">+{
</a> 	unsigned int i, num;
 	Window d1, d2, *wins = NULL;
 	XWindowAttributes wa;
 
<a href="#h0-35-56" id="h0-35-56" class="d">-	if(XQueryTree(dpy, root, &amp;d1, &amp;d2, &amp;wins, &amp;num)) {
</a><a href="#h0-35-57" id="h0-35-57" class="d">-		for(i = 0; i &lt; num; i++) {
</a><a href="#h0-35-58" id="h0-35-58" class="d">-			if(!XGetWindowAttributes(dpy, wins[i], &amp;wa)
</a><a href="#h0-35-59" id="h0-35-59" class="i">+	if (XQueryTree(dpy, root, &amp;d1, &amp;d2, &amp;wins, &amp;num)) {
</a><a href="#h0-35-60" id="h0-35-60" class="i">+		for (i = 0; i &lt; num; i++) {
</a><a href="#h0-35-61" id="h0-35-61" class="i">+			if (!XGetWindowAttributes(dpy, wins[i], &amp;wa)
</a> 			|| wa.override_redirect || XGetTransientForHint(dpy, wins[i], &amp;d1))
 				continue;
<a href="#h0-35-64" id="h0-35-64" class="d">-			if(wa.map_state == IsViewable || getstate(wins[i]) == IconicState)
</a><a href="#h0-35-65" id="h0-35-65" class="i">+			if (wa.map_state == IsViewable || getstate(wins[i]) == IconicState)
</a> 				manage(wins[i], &amp;wa);
 		}
<a href="#h0-35-68" id="h0-35-68" class="d">-		for(i = 0; i &lt; num; i++) { /* now the transients */
</a><a href="#h0-35-69" id="h0-35-69" class="d">-			if(!XGetWindowAttributes(dpy, wins[i], &amp;wa))
</a><a href="#h0-35-70" id="h0-35-70" class="i">+		for (i = 0; i &lt; num; i++) { /* now the transients */
</a><a href="#h0-35-71" id="h0-35-71" class="i">+			if (!XGetWindowAttributes(dpy, wins[i], &amp;wa))
</a> 				continue;
<a href="#h0-35-73" id="h0-35-73" class="d">-			if(XGetTransientForHint(dpy, wins[i], &amp;d1)
</a><a href="#h0-35-74" id="h0-35-74" class="i">+			if (XGetTransientForHint(dpy, wins[i], &amp;d1)
</a> 			&amp;&amp; (wa.map_state == IsViewable || getstate(wins[i]) == IconicState))
 				manage(wins[i], &amp;wa);
 		}
<a href="#h0-35-78" id="h0-35-78" class="d">-		if(wins)
</a><a href="#h0-35-79" id="h0-35-79" class="i">+		if (wins)
</a> 			XFree(wins);
 	}
 }
 
 void
<a href="#h0-35-85" id="h0-35-85" class="d">-sendmon(Client *c, Monitor *m) {
</a><a href="#h0-35-86" id="h0-35-86" class="d">-	if(c-&gt;mon == m)
</a><a href="#h0-35-87" id="h0-35-87" class="i">+sendmon(Client *c, Monitor *m)
</a><a href="#h0-35-88" id="h0-35-88" class="i">+{
</a><a href="#h0-35-89" id="h0-35-89" class="i">+	if (c-&gt;mon == m)
</a> 		return;
 	unfocus(c, 1);
 	detach(c);
<a href="#h0-36" id="h0-36" class="h">@@ -1398,7 +1441,8 @@ sendmon(Client *c, Monitor *m) {
</a> }
 
 void
<a href="#h0-36-3" id="h0-36-3" class="d">-setclientstate(Client *c, long state) {
</a><a href="#h0-36-4" id="h0-36-4" class="i">+setclientstate(Client *c, long state)
</a><a href="#h0-36-5" id="h0-36-5" class="i">+{
</a> 	long data[] = { state, None };
 
 	XChangeProperty(dpy, c-&gt;win, wmatom[WMState], wmatom[WMState], 32,
<a href="#h0-37" id="h0-37" class="h">@@ -1406,18 +1450,19 @@ setclientstate(Client *c, long state) {
</a> }
 
 int
<a href="#h0-37-3" id="h0-37-3" class="d">-sendevent(Client *c, Atom proto) {
</a><a href="#h0-37-4" id="h0-37-4" class="i">+sendevent(Client *c, Atom proto)
</a><a href="#h0-37-5" id="h0-37-5" class="i">+{
</a> 	int n;
 	Atom *protocols;
 	int exists = 0;
 	XEvent ev;
 
<a href="#h0-37-11" id="h0-37-11" class="d">-	if(XGetWMProtocols(dpy, c-&gt;win, &amp;protocols, &amp;n)) {
</a><a href="#h0-37-12" id="h0-37-12" class="d">-		while(!exists &amp;&amp; n--)
</a><a href="#h0-37-13" id="h0-37-13" class="i">+	if (XGetWMProtocols(dpy, c-&gt;win, &amp;protocols, &amp;n)) {
</a><a href="#h0-37-14" id="h0-37-14" class="i">+		while (!exists &amp;&amp; n--)
</a> 			exists = protocols[n] == proto;
 		XFree(protocols);
 	}
<a href="#h0-37-18" id="h0-37-18" class="d">-	if(exists) {
</a><a href="#h0-37-19" id="h0-37-19" class="i">+	if (exists) {
</a> 		ev.type = ClientMessage;
 		ev.xclient.window = c-&gt;win;
 		ev.xclient.message_type = wmatom[WMProtocols];
<a href="#h0-38" id="h0-38" class="h">@@ -1430,8 +1475,9 @@ sendevent(Client *c, Atom proto) {
</a> }
 
 void
<a href="#h0-38-3" id="h0-38-3" class="d">-setfocus(Client *c) {
</a><a href="#h0-38-4" id="h0-38-4" class="d">-	if(!c-&gt;neverfocus) {
</a><a href="#h0-38-5" id="h0-38-5" class="i">+setfocus(Client *c)
</a><a href="#h0-38-6" id="h0-38-6" class="i">+{
</a><a href="#h0-38-7" id="h0-38-7" class="i">+	if (!c-&gt;neverfocus) {
</a> 		XSetInputFocus(dpy, c-&gt;win, RevertToPointerRoot, CurrentTime);
 		XChangeProperty(dpy, root, netatom[NetActiveWindow],
 		                XA_WINDOW, 32, PropModeReplace,
<a href="#h0-39" id="h0-39" class="h">@@ -1441,8 +1487,9 @@ setfocus(Client *c) {
</a> }
 
 void
<a href="#h0-39-3" id="h0-39-3" class="d">-setfullscreen(Client *c, int fullscreen) {
</a><a href="#h0-39-4" id="h0-39-4" class="d">-	if(fullscreen &amp;&amp; !c-&gt;isfullscreen) {
</a><a href="#h0-39-5" id="h0-39-5" class="i">+setfullscreen(Client *c, int fullscreen)
</a><a href="#h0-39-6" id="h0-39-6" class="i">+{
</a><a href="#h0-39-7" id="h0-39-7" class="i">+	if (fullscreen &amp;&amp; !c-&gt;isfullscreen) {
</a> 		XChangeProperty(dpy, c-&gt;win, netatom[NetWMState], XA_ATOM, 32,
 		                PropModeReplace, (unsigned char*)&amp;netatom[NetWMFullscreen], 1);
 		c-&gt;isfullscreen = 1;
<a href="#h0-40" id="h0-40" class="h">@@ -1452,8 +1499,7 @@ setfullscreen(Client *c, int fullscreen) {
</a> 		c-&gt;isfloating = 1;
 		resizeclient(c, c-&gt;mon-&gt;mx, c-&gt;mon-&gt;my, c-&gt;mon-&gt;mw, c-&gt;mon-&gt;mh);
 		XRaiseWindow(dpy, c-&gt;win);
<a href="#h0-40-3" id="h0-40-3" class="d">-	}
</a><a href="#h0-40-4" id="h0-40-4" class="d">-	else if(!fullscreen &amp;&amp; c-&gt;isfullscreen){
</a><a href="#h0-40-5" id="h0-40-5" class="i">+	} else if (!fullscreen &amp;&amp; c-&gt;isfullscreen){
</a> 		XChangeProperty(dpy, c-&gt;win, netatom[NetWMState], XA_ATOM, 32,
 		                PropModeReplace, (unsigned char*)0, 0);
 		c-&gt;isfullscreen = 0;
<a href="#h0-41" id="h0-41" class="h">@@ -1469,13 +1515,14 @@ setfullscreen(Client *c, int fullscreen) {
</a> }
 
 void
<a href="#h0-41-3" id="h0-41-3" class="d">-setlayout(const Arg *arg) {
</a><a href="#h0-41-4" id="h0-41-4" class="d">-	if(!arg || !arg-&gt;v || arg-&gt;v != selmon-&gt;lt[selmon-&gt;sellt])
</a><a href="#h0-41-5" id="h0-41-5" class="i">+setlayout(const Arg *arg)
</a><a href="#h0-41-6" id="h0-41-6" class="i">+{
</a><a href="#h0-41-7" id="h0-41-7" class="i">+	if (!arg || !arg-&gt;v || arg-&gt;v != selmon-&gt;lt[selmon-&gt;sellt])
</a> 		selmon-&gt;sellt ^= 1;
<a href="#h0-41-9" id="h0-41-9" class="d">-	if(arg &amp;&amp; arg-&gt;v)
</a><a href="#h0-41-10" id="h0-41-10" class="i">+	if (arg &amp;&amp; arg-&gt;v)
</a> 		selmon-&gt;lt[selmon-&gt;sellt] = (Layout *)arg-&gt;v;
 	strncpy(selmon-&gt;ltsymbol, selmon-&gt;lt[selmon-&gt;sellt]-&gt;symbol, sizeof selmon-&gt;ltsymbol);
<a href="#h0-41-13" id="h0-41-13" class="d">-	if(selmon-&gt;sel)
</a><a href="#h0-41-14" id="h0-41-14" class="i">+	if (selmon-&gt;sel)
</a> 		arrange(selmon);
 	else
 		drawbar(selmon);
<a href="#h0-42" id="h0-42" class="h">@@ -1483,20 +1530,22 @@ setlayout(const Arg *arg) {
</a> 
 /* arg &gt; 1.0 will set mfact absolutly */
 void
<a href="#h0-42-3" id="h0-42-3" class="d">-setmfact(const Arg *arg) {
</a><a href="#h0-42-4" id="h0-42-4" class="i">+setmfact(const Arg *arg)
</a><a href="#h0-42-5" id="h0-42-5" class="i">+{
</a> 	float f;
 
<a href="#h0-42-8" id="h0-42-8" class="d">-	if(!arg || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange)
</a><a href="#h0-42-9" id="h0-42-9" class="i">+	if (!arg || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange)
</a> 		return;
 	f = arg-&gt;f &lt; 1.0 ? arg-&gt;f + selmon-&gt;mfact : arg-&gt;f - 1.0;
<a href="#h0-42-12" id="h0-42-12" class="d">-	if(f &lt; 0.1 || f &gt; 0.9)
</a><a href="#h0-42-13" id="h0-42-13" class="i">+	if (f &lt; 0.1 || f &gt; 0.9)
</a> 		return;
 	selmon-&gt;mfact = f;
 	arrange(selmon);
 }
 
 void
<a href="#h0-42-20" id="h0-42-20" class="d">-setup(void) {
</a><a href="#h0-42-21" id="h0-42-21" class="i">+setup(void)
</a><a href="#h0-42-22" id="h0-42-22" class="i">+{
</a> 	XSetWindowAttributes wa;
 
 	/* clean up any zombies immediately */
<a href="#h0-43" id="h0-43" class="h">@@ -1555,34 +1604,38 @@ setup(void) {
</a> }
 
 void
<a href="#h0-43-3" id="h0-43-3" class="d">-showhide(Client *c) {
</a><a href="#h0-43-4" id="h0-43-4" class="d">-	if(!c)
</a><a href="#h0-43-5" id="h0-43-5" class="i">+showhide(Client *c)
</a><a href="#h0-43-6" id="h0-43-6" class="i">+{
</a><a href="#h0-43-7" id="h0-43-7" class="i">+	if (!c)
</a> 		return;
<a href="#h0-43-9" id="h0-43-9" class="d">-	if(ISVISIBLE(c)) { /* show clients top down */
</a><a href="#h0-43-10" id="h0-43-10" class="i">+	if (ISVISIBLE(c)) {
</a><a href="#h0-43-11" id="h0-43-11" class="i">+		/* show clients top down */
</a> 		XMoveWindow(dpy, c-&gt;win, c-&gt;x, c-&gt;y);
<a href="#h0-43-13" id="h0-43-13" class="d">-		if((!c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange || c-&gt;isfloating) &amp;&amp; !c-&gt;isfullscreen)
</a><a href="#h0-43-14" id="h0-43-14" class="i">+		if ((!c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange || c-&gt;isfloating) &amp;&amp; !c-&gt;isfullscreen)
</a> 			resize(c, c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h, 0);
 		showhide(c-&gt;snext);
<a href="#h0-43-17" id="h0-43-17" class="d">-	}
</a><a href="#h0-43-18" id="h0-43-18" class="d">-	else { /* hide clients bottom up */
</a><a href="#h0-43-19" id="h0-43-19" class="i">+	} else {
</a><a href="#h0-43-20" id="h0-43-20" class="i">+		/* hide clients bottom up */
</a> 		showhide(c-&gt;snext);
 		XMoveWindow(dpy, c-&gt;win, WIDTH(c) * -2, c-&gt;y);
 	}
 }
 
 void
<a href="#h0-43-27" id="h0-43-27" class="d">-sigchld(int unused) {
</a><a href="#h0-43-28" id="h0-43-28" class="d">-	if(signal(SIGCHLD, sigchld) == SIG_ERR)
</a><a href="#h0-43-29" id="h0-43-29" class="i">+sigchld(int unused)
</a><a href="#h0-43-30" id="h0-43-30" class="i">+{
</a><a href="#h0-43-31" id="h0-43-31" class="i">+	if (signal(SIGCHLD, sigchld) == SIG_ERR)
</a> 		die(&quot;can&#39;t install SIGCHLD handler:&quot;);
<a href="#h0-43-33" id="h0-43-33" class="d">-	while(0 &lt; waitpid(-1, NULL, WNOHANG));
</a><a href="#h0-43-34" id="h0-43-34" class="i">+	while (0 &lt; waitpid(-1, NULL, WNOHANG));
</a> }
 
 void
<a href="#h0-43-38" id="h0-43-38" class="d">-spawn(const Arg *arg) {
</a><a href="#h0-43-39" id="h0-43-39" class="d">-	if(arg-&gt;v == dmenucmd)
</a><a href="#h0-43-40" id="h0-43-40" class="i">+spawn(const Arg *arg)
</a><a href="#h0-43-41" id="h0-43-41" class="i">+{
</a><a href="#h0-43-42" id="h0-43-42" class="i">+	if (arg-&gt;v == dmenucmd)
</a> 		dmenumon[0] = &#39;0&#39; + selmon-&gt;num;
<a href="#h0-43-44" id="h0-43-44" class="d">-	if(fork() == 0) {
</a><a href="#h0-43-45" id="h0-43-45" class="d">-		if(dpy)
</a><a href="#h0-43-46" id="h0-43-46" class="i">+	if (fork() == 0) {
</a><a href="#h0-43-47" id="h0-43-47" class="i">+		if (dpy)
</a> 			close(ConnectionNumber(dpy));
 		setsid();
 		execvp(((char **)arg-&gt;v)[0], (char **)arg-&gt;v);
<a href="#h0-44" id="h0-44" class="h">@@ -1593,8 +1646,9 @@ spawn(const Arg *arg) {
</a> }
 
 void
<a href="#h0-44-3" id="h0-44-3" class="d">-tag(const Arg *arg) {
</a><a href="#h0-44-4" id="h0-44-4" class="d">-	if(selmon-&gt;sel &amp;&amp; arg-&gt;ui &amp; TAGMASK) {
</a><a href="#h0-44-5" id="h0-44-5" class="i">+tag(const Arg *arg)
</a><a href="#h0-44-6" id="h0-44-6" class="i">+{
</a><a href="#h0-44-7" id="h0-44-7" class="i">+	if (selmon-&gt;sel &amp;&amp; arg-&gt;ui &amp; TAGMASK) {
</a> 		selmon-&gt;sel-&gt;tags = arg-&gt;ui &amp; TAGMASK;
 		focus(NULL);
 		arrange(selmon);
<a href="#h0-45" id="h0-45" class="h">@@ -1602,32 +1656,33 @@ tag(const Arg *arg) {
</a> }
 
 void
<a href="#h0-45-3" id="h0-45-3" class="d">-tagmon(const Arg *arg) {
</a><a href="#h0-45-4" id="h0-45-4" class="d">-	if(!selmon-&gt;sel || !mons-&gt;next)
</a><a href="#h0-45-5" id="h0-45-5" class="i">+tagmon(const Arg *arg)
</a><a href="#h0-45-6" id="h0-45-6" class="i">+{
</a><a href="#h0-45-7" id="h0-45-7" class="i">+	if (!selmon-&gt;sel || !mons-&gt;next)
</a> 		return;
 	sendmon(selmon-&gt;sel, dirtomon(arg-&gt;i));
 }
 
 void
<a href="#h0-45-13" id="h0-45-13" class="d">-tile(Monitor *m) {
</a><a href="#h0-45-14" id="h0-45-14" class="i">+tile(Monitor *m)
</a><a href="#h0-45-15" id="h0-45-15" class="i">+{
</a> 	unsigned int i, n, h, mw, my, ty;
 	Client *c;
 
<a href="#h0-45-19" id="h0-45-19" class="d">-	for(n = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), n++);
</a><a href="#h0-45-20" id="h0-45-20" class="d">-	if(n == 0)
</a><a href="#h0-45-21" id="h0-45-21" class="i">+	for (n = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), n++);
</a><a href="#h0-45-22" id="h0-45-22" class="i">+	if (n == 0)
</a> 		return;
 
<a href="#h0-45-25" id="h0-45-25" class="d">-	if(n &gt; m-&gt;nmaster)
</a><a href="#h0-45-26" id="h0-45-26" class="i">+	if (n &gt; m-&gt;nmaster)
</a> 		mw = m-&gt;nmaster ? m-&gt;ww * m-&gt;mfact : 0;
 	else
 		mw = m-&gt;ww;
<a href="#h0-45-30" id="h0-45-30" class="d">-	for(i = my = ty = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), i++)
</a><a href="#h0-45-31" id="h0-45-31" class="d">-		if(i &lt; m-&gt;nmaster) {
</a><a href="#h0-45-32" id="h0-45-32" class="i">+	for (i = my = ty = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), i++)
</a><a href="#h0-45-33" id="h0-45-33" class="i">+		if (i &lt; m-&gt;nmaster) {
</a> 			h = (m-&gt;wh - my) / (MIN(n, m-&gt;nmaster) - i);
 			resize(c, m-&gt;wx, m-&gt;wy + my, mw - (2*c-&gt;bw), h - (2*c-&gt;bw), 0);
 			my += HEIGHT(c);
<a href="#h0-45-37" id="h0-45-37" class="d">-		}
</a><a href="#h0-45-38" id="h0-45-38" class="d">-		else {
</a><a href="#h0-45-39" id="h0-45-39" class="i">+		} else {
</a> 			h = (m-&gt;wh - ty) / (n - i);
 			resize(c, m-&gt;wx + mw, m-&gt;wy + ty, m-&gt;ww - mw - (2*c-&gt;bw), h - (2*c-&gt;bw), 0);
 			ty += HEIGHT(c);
<a href="#h0-46" id="h0-46" class="h">@@ -1635,7 +1690,8 @@ tile(Monitor *m) {
</a> }
 
 void
<a href="#h0-46-3" id="h0-46-3" class="d">-togglebar(const Arg *arg) {
</a><a href="#h0-46-4" id="h0-46-4" class="i">+togglebar(const Arg *arg)
</a><a href="#h0-46-5" id="h0-46-5" class="i">+{
</a> 	selmon-&gt;showbar = !selmon-&gt;showbar;
 	updatebarpos(selmon);
 	XMoveResizeWindow(dpy, selmon-&gt;barwin, selmon-&gt;wx, selmon-&gt;by, selmon-&gt;ww, bh);
<a href="#h0-47" id="h0-47" class="h">@@ -1643,26 +1699,28 @@ togglebar(const Arg *arg) {
</a> }
 
 void
<a href="#h0-47-3" id="h0-47-3" class="d">-togglefloating(const Arg *arg) {
</a><a href="#h0-47-4" id="h0-47-4" class="d">-	if(!selmon-&gt;sel)
</a><a href="#h0-47-5" id="h0-47-5" class="i">+togglefloating(const Arg *arg)
</a><a href="#h0-47-6" id="h0-47-6" class="i">+{
</a><a href="#h0-47-7" id="h0-47-7" class="i">+	if (!selmon-&gt;sel)
</a> 		return;
<a href="#h0-47-9" id="h0-47-9" class="d">-	if(selmon-&gt;sel-&gt;isfullscreen) /* no support for fullscreen windows */
</a><a href="#h0-47-10" id="h0-47-10" class="i">+	if (selmon-&gt;sel-&gt;isfullscreen) /* no support for fullscreen windows */
</a> 		return;
 	selmon-&gt;sel-&gt;isfloating = !selmon-&gt;sel-&gt;isfloating || selmon-&gt;sel-&gt;isfixed;
<a href="#h0-47-13" id="h0-47-13" class="d">-	if(selmon-&gt;sel-&gt;isfloating)
</a><a href="#h0-47-14" id="h0-47-14" class="i">+	if (selmon-&gt;sel-&gt;isfloating)
</a> 		resize(selmon-&gt;sel, selmon-&gt;sel-&gt;x, selmon-&gt;sel-&gt;y,
 		       selmon-&gt;sel-&gt;w, selmon-&gt;sel-&gt;h, 0);
 	arrange(selmon);
 }
 
 void
<a href="#h0-47-21" id="h0-47-21" class="d">-toggletag(const Arg *arg) {
</a><a href="#h0-47-22" id="h0-47-22" class="i">+toggletag(const Arg *arg)
</a><a href="#h0-47-23" id="h0-47-23" class="i">+{
</a> 	unsigned int newtags;
 
<a href="#h0-47-26" id="h0-47-26" class="d">-	if(!selmon-&gt;sel)
</a><a href="#h0-47-27" id="h0-47-27" class="i">+	if (!selmon-&gt;sel)
</a> 		return;
 	newtags = selmon-&gt;sel-&gt;tags ^ (arg-&gt;ui &amp; TAGMASK);
<a href="#h0-47-30" id="h0-47-30" class="d">-	if(newtags) {
</a><a href="#h0-47-31" id="h0-47-31" class="i">+	if (newtags) {
</a> 		selmon-&gt;sel-&gt;tags = newtags;
 		focus(NULL);
 		arrange(selmon);
<a href="#h0-48" id="h0-48" class="h">@@ -1670,10 +1728,11 @@ toggletag(const Arg *arg) {
</a> }
 
 void
<a href="#h0-48-3" id="h0-48-3" class="d">-toggleview(const Arg *arg) {
</a><a href="#h0-48-4" id="h0-48-4" class="i">+toggleview(const Arg *arg)
</a><a href="#h0-48-5" id="h0-48-5" class="i">+{
</a> 	unsigned int newtagset = selmon-&gt;tagset[selmon-&gt;seltags] ^ (arg-&gt;ui &amp; TAGMASK);
 
<a href="#h0-48-8" id="h0-48-8" class="d">-	if(newtagset) {
</a><a href="#h0-48-9" id="h0-48-9" class="i">+	if (newtagset) {
</a> 		selmon-&gt;tagset[selmon-&gt;seltags] = newtagset;
 		focus(NULL);
 		arrange(selmon);
<a href="#h0-49" id="h0-49" class="h">@@ -1681,26 +1740,28 @@ toggleview(const Arg *arg) {
</a> }
 
 void
<a href="#h0-49-3" id="h0-49-3" class="d">-unfocus(Client *c, int setfocus) {
</a><a href="#h0-49-4" id="h0-49-4" class="d">-	if(!c)
</a><a href="#h0-49-5" id="h0-49-5" class="i">+unfocus(Client *c, int setfocus)
</a><a href="#h0-49-6" id="h0-49-6" class="i">+{
</a><a href="#h0-49-7" id="h0-49-7" class="i">+	if (!c)
</a> 		return;
 	grabbuttons(c, 0);
 	XSetWindowBorder(dpy, c-&gt;win, scheme[SchemeNorm].border-&gt;pix);
<a href="#h0-49-11" id="h0-49-11" class="d">-	if(setfocus) {
</a><a href="#h0-49-12" id="h0-49-12" class="i">+	if (setfocus) {
</a> 		XSetInputFocus(dpy, root, RevertToPointerRoot, CurrentTime);
 		XDeleteProperty(dpy, root, netatom[NetActiveWindow]);
 	}
 }
 
 void
<a href="#h0-49-19" id="h0-49-19" class="d">-unmanage(Client *c, int destroyed) {
</a><a href="#h0-49-20" id="h0-49-20" class="i">+unmanage(Client *c, int destroyed)
</a><a href="#h0-49-21" id="h0-49-21" class="i">+{
</a> 	Monitor *m = c-&gt;mon;
 	XWindowChanges wc;
 
 	/* The server grab construct avoids race conditions. */
 	detach(c);
 	detachstack(c);
<a href="#h0-49-28" id="h0-49-28" class="d">-	if(!destroyed) {
</a><a href="#h0-49-29" id="h0-49-29" class="i">+	if (!destroyed) {
</a> 		wc.border_width = c-&gt;oldbw;
 		XGrabServer(dpy);
 		XSetErrorHandler(xerrordummy);
<a href="#h0-50" id="h0-50" class="h">@@ -1718,12 +1779,13 @@ unmanage(Client *c, int destroyed) {
</a> }
 
 void
<a href="#h0-50-3" id="h0-50-3" class="d">-unmapnotify(XEvent *e) {
</a><a href="#h0-50-4" id="h0-50-4" class="i">+unmapnotify(XEvent *e)
</a><a href="#h0-50-5" id="h0-50-5" class="i">+{
</a> 	Client *c;
 	XUnmapEvent *ev = &amp;e-&gt;xunmap;
 
<a href="#h0-50-9" id="h0-50-9" class="d">-	if((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-50-10" id="h0-50-10" class="d">-		if(ev-&gt;send_event)
</a><a href="#h0-50-11" id="h0-50-11" class="i">+	if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h0-50-12" id="h0-50-12" class="i">+		if (ev-&gt;send_event)
</a> 			setclientstate(c, WithdrawnState);
 		else
 			unmanage(c, 0);
<a href="#h0-51" id="h0-51" class="h">@@ -1731,14 +1793,15 @@ unmapnotify(XEvent *e) {
</a> }
 
 void
<a href="#h0-51-3" id="h0-51-3" class="d">-updatebars(void) {
</a><a href="#h0-51-4" id="h0-51-4" class="i">+updatebars(void)
</a><a href="#h0-51-5" id="h0-51-5" class="i">+{
</a> 	Monitor *m;
 	XSetWindowAttributes wa = {
 		.override_redirect = True,
 		.background_pixmap = ParentRelative,
 		.event_mask = ButtonPressMask|ExposureMask
 	};
<a href="#h0-51-12" id="h0-51-12" class="d">-	for(m = mons; m; m = m-&gt;next) {
</a><a href="#h0-51-13" id="h0-51-13" class="i">+	for (m = mons; m; m = m-&gt;next) {
</a> 		if (m-&gt;barwin)
 			continue;
 		m-&gt;barwin = XCreateWindow(dpy, root, m-&gt;wx, m-&gt;by, m-&gt;ww, bh, 0, DefaultDepth(dpy, screen),
<a href="#h0-52" id="h0-52" class="h">@@ -1750,61 +1813,63 @@ updatebars(void) {
</a> }
 
 void
<a href="#h0-52-3" id="h0-52-3" class="d">-updatebarpos(Monitor *m) {
</a><a href="#h0-52-4" id="h0-52-4" class="i">+updatebarpos(Monitor *m)
</a><a href="#h0-52-5" id="h0-52-5" class="i">+{
</a> 	m-&gt;wy = m-&gt;my;
 	m-&gt;wh = m-&gt;mh;
<a href="#h0-52-8" id="h0-52-8" class="d">-	if(m-&gt;showbar) {
</a><a href="#h0-52-9" id="h0-52-9" class="i">+	if (m-&gt;showbar) {
</a> 		m-&gt;wh -= bh;
 		m-&gt;by = m-&gt;topbar ? m-&gt;wy : m-&gt;wy + m-&gt;wh;
 		m-&gt;wy = m-&gt;topbar ? m-&gt;wy + bh : m-&gt;wy;
<a href="#h0-52-13" id="h0-52-13" class="d">-	}
</a><a href="#h0-52-14" id="h0-52-14" class="d">-	else
</a><a href="#h0-52-15" id="h0-52-15" class="i">+	} else
</a> 		m-&gt;by = -bh;
 }
 
 void
<a href="#h0-52-20" id="h0-52-20" class="d">-updateclientlist() {
</a><a href="#h0-52-21" id="h0-52-21" class="i">+updateclientlist()
</a><a href="#h0-52-22" id="h0-52-22" class="i">+{
</a> 	Client *c;
 	Monitor *m;
 
 	XDeleteProperty(dpy, root, netatom[NetClientList]);
<a href="#h0-52-27" id="h0-52-27" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-52-28" id="h0-52-28" class="d">-		for(c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h0-52-29" id="h0-52-29" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h0-52-30" id="h0-52-30" class="i">+		for (c = m-&gt;clients; c; c = c-&gt;next)
</a> 			XChangeProperty(dpy, root, netatom[NetClientList],
 			                XA_WINDOW, 32, PropModeAppend,
 			                (unsigned char *) &amp;(c-&gt;win), 1);
 }
 
 int
<a href="#h0-52-37" id="h0-52-37" class="d">-updategeom(void) {
</a><a href="#h0-52-38" id="h0-52-38" class="i">+updategeom(void)
</a><a href="#h0-52-39" id="h0-52-39" class="i">+{
</a> 	int dirty = 0;
 
 #ifdef XINERAMA
<a href="#h0-52-43" id="h0-52-43" class="d">-	if(XineramaIsActive(dpy)) {
</a><a href="#h0-52-44" id="h0-52-44" class="i">+	if (XineramaIsActive(dpy)) {
</a> 		int i, j, n, nn;
 		Client *c;
 		Monitor *m;
 		XineramaScreenInfo *info = XineramaQueryScreens(dpy, &amp;nn);
 		XineramaScreenInfo *unique = NULL;
 
<a href="#h0-52-51" id="h0-52-51" class="d">-		for(n = 0, m = mons; m; m = m-&gt;next, n++);
</a><a href="#h0-52-52" id="h0-52-52" class="i">+		for (n = 0, m = mons; m; m = m-&gt;next, n++);
</a> 		/* only consider unique geometries as separate screens */
 		unique = ecalloc(nn, sizeof(XineramaScreenInfo));
<a href="#h0-52-55" id="h0-52-55" class="d">-		for(i = 0, j = 0; i &lt; nn; i++)
</a><a href="#h0-52-56" id="h0-52-56" class="d">-			if(isuniquegeom(unique, j, &amp;info[i]))
</a><a href="#h0-52-57" id="h0-52-57" class="i">+		for (i = 0, j = 0; i &lt; nn; i++)
</a><a href="#h0-52-58" id="h0-52-58" class="i">+			if (isuniquegeom(unique, j, &amp;info[i]))
</a> 				memcpy(&amp;unique[j++], &amp;info[i], sizeof(XineramaScreenInfo));
 		XFree(info);
 		nn = j;
<a href="#h0-52-62" id="h0-52-62" class="d">-		if(n &lt;= nn) {
</a><a href="#h0-52-63" id="h0-52-63" class="d">-			for(i = 0; i &lt; (nn - n); i++) { /* new monitors available */
</a><a href="#h0-52-64" id="h0-52-64" class="d">-				for(m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h0-52-65" id="h0-52-65" class="d">-				if(m)
</a><a href="#h0-52-66" id="h0-52-66" class="i">+		if (n &lt;= nn) {
</a><a href="#h0-52-67" id="h0-52-67" class="i">+			for (i = 0; i &lt; (nn - n); i++) { /* new monitors available */
</a><a href="#h0-52-68" id="h0-52-68" class="i">+				for (m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h0-52-69" id="h0-52-69" class="i">+				if (m)
</a> 					m-&gt;next = createmon();
 				else
 					mons = createmon();
 			}
<a href="#h0-52-74" id="h0-52-74" class="d">-			for(i = 0, m = mons; i &lt; nn &amp;&amp; m; m = m-&gt;next, i++)
</a><a href="#h0-52-75" id="h0-52-75" class="d">-				if(i &gt;= n
</a><a href="#h0-52-76" id="h0-52-76" class="i">+			for (i = 0, m = mons; i &lt; nn &amp;&amp; m; m = m-&gt;next, i++)
</a><a href="#h0-52-77" id="h0-52-77" class="i">+				if (i &gt;= n
</a> 				|| (unique[i].x_org != m-&gt;mx || unique[i].y_org != m-&gt;my
 				    || unique[i].width != m-&gt;mw || unique[i].height != m-&gt;mh))
 				{
<a href="#h0-53" id="h0-53" class="h">@@ -1816,11 +1881,11 @@ updategeom(void) {
</a> 					m-&gt;mh = m-&gt;wh = unique[i].height;
 					updatebarpos(m);
 				}
<a href="#h0-53-3" id="h0-53-3" class="d">-		}
</a><a href="#h0-53-4" id="h0-53-4" class="d">-		else { /* less monitors available nn &lt; n */
</a><a href="#h0-53-5" id="h0-53-5" class="d">-			for(i = nn; i &lt; n; i++) {
</a><a href="#h0-53-6" id="h0-53-6" class="d">-				for(m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h0-53-7" id="h0-53-7" class="d">-				while(m-&gt;clients) {
</a><a href="#h0-53-8" id="h0-53-8" class="i">+		} else {
</a><a href="#h0-53-9" id="h0-53-9" class="i">+			/* less monitors available nn &lt; n */
</a><a href="#h0-53-10" id="h0-53-10" class="i">+			for (i = nn; i &lt; n; i++) {
</a><a href="#h0-53-11" id="h0-53-11" class="i">+				for (m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h0-53-12" id="h0-53-12" class="i">+				while (m-&gt;clients) {
</a> 					dirty = 1;
 					c = m-&gt;clients;
 					m-&gt;clients = c-&gt;next;
<a href="#h0-54" id="h0-54" class="h">@@ -1829,27 +1894,26 @@ updategeom(void) {
</a> 					attach(c);
 					attachstack(c);
 				}
<a href="#h0-54-3" id="h0-54-3" class="d">-				if(m == selmon)
</a><a href="#h0-54-4" id="h0-54-4" class="i">+				if (m == selmon)
</a> 					selmon = mons;
 				cleanupmon(m);
 			}
 		}
 		free(unique);
<a href="#h0-54-10" id="h0-54-10" class="d">-	}
</a><a href="#h0-54-11" id="h0-54-11" class="d">-	else
</a><a href="#h0-54-12" id="h0-54-12" class="i">+	} else
</a> #endif /* XINERAMA */
 	/* default monitor setup */
 	{
<a href="#h0-54-16" id="h0-54-16" class="d">-		if(!mons)
</a><a href="#h0-54-17" id="h0-54-17" class="i">+		if (!mons)
</a> 			mons = createmon();
<a href="#h0-54-19" id="h0-54-19" class="d">-		if(mons-&gt;mw != sw || mons-&gt;mh != sh) {
</a><a href="#h0-54-20" id="h0-54-20" class="i">+		if (mons-&gt;mw != sw || mons-&gt;mh != sh) {
</a> 			dirty = 1;
 			mons-&gt;mw = mons-&gt;ww = sw;
 			mons-&gt;mh = mons-&gt;wh = sh;
 			updatebarpos(mons);
 		}
 	}
<a href="#h0-54-27" id="h0-54-27" class="d">-	if(dirty) {
</a><a href="#h0-54-28" id="h0-54-28" class="i">+	if (dirty) {
</a> 		selmon = mons;
 		selmon = wintomon(root);
 	}
<a href="#h0-55" id="h0-55" class="h">@@ -1857,108 +1921,106 @@ updategeom(void) {
</a> }
 
 void
<a href="#h0-55-3" id="h0-55-3" class="d">-updatenumlockmask(void) {
</a><a href="#h0-55-4" id="h0-55-4" class="i">+updatenumlockmask(void)
</a><a href="#h0-55-5" id="h0-55-5" class="i">+{
</a> 	unsigned int i, j;
 	XModifierKeymap *modmap;
 
 	numlockmask = 0;
 	modmap = XGetModifierMapping(dpy);
<a href="#h0-55-11" id="h0-55-11" class="d">-	for(i = 0; i &lt; 8; i++)
</a><a href="#h0-55-12" id="h0-55-12" class="d">-		for(j = 0; j &lt; modmap-&gt;max_keypermod; j++)
</a><a href="#h0-55-13" id="h0-55-13" class="d">-			if(modmap-&gt;modifiermap[i * modmap-&gt;max_keypermod + j]
</a><a href="#h0-55-14" id="h0-55-14" class="i">+	for (i = 0; i &lt; 8; i++)
</a><a href="#h0-55-15" id="h0-55-15" class="i">+		for (j = 0; j &lt; modmap-&gt;max_keypermod; j++)
</a><a href="#h0-55-16" id="h0-55-16" class="i">+			if (modmap-&gt;modifiermap[i * modmap-&gt;max_keypermod + j]
</a> 			   == XKeysymToKeycode(dpy, XK_Num_Lock))
 				numlockmask = (1 &lt;&lt; i);
 	XFreeModifiermap(modmap);
 }
 
 void
<a href="#h0-55-23" id="h0-55-23" class="d">-updatesizehints(Client *c) {
</a><a href="#h0-55-24" id="h0-55-24" class="i">+updatesizehints(Client *c)
</a><a href="#h0-55-25" id="h0-55-25" class="i">+{
</a> 	long msize;
 	XSizeHints size;
 
<a href="#h0-55-29" id="h0-55-29" class="d">-	if(!XGetWMNormalHints(dpy, c-&gt;win, &amp;size, &amp;msize))
</a><a href="#h0-55-30" id="h0-55-30" class="i">+	if (!XGetWMNormalHints(dpy, c-&gt;win, &amp;size, &amp;msize))
</a> 		/* size is uninitialized, ensure that size.flags aren&#39;t used */
 		size.flags = PSize;
<a href="#h0-55-33" id="h0-55-33" class="d">-	if(size.flags &amp; PBaseSize) {
</a><a href="#h0-55-34" id="h0-55-34" class="i">+	if (size.flags &amp; PBaseSize) {
</a> 		c-&gt;basew = size.base_width;
 		c-&gt;baseh = size.base_height;
<a href="#h0-55-37" id="h0-55-37" class="d">-	}
</a><a href="#h0-55-38" id="h0-55-38" class="d">-	else if(size.flags &amp; PMinSize) {
</a><a href="#h0-55-39" id="h0-55-39" class="i">+	} else if (size.flags &amp; PMinSize) {
</a> 		c-&gt;basew = size.min_width;
 		c-&gt;baseh = size.min_height;
<a href="#h0-55-42" id="h0-55-42" class="d">-	}
</a><a href="#h0-55-43" id="h0-55-43" class="d">-	else
</a><a href="#h0-55-44" id="h0-55-44" class="i">+	} else
</a> 		c-&gt;basew = c-&gt;baseh = 0;
<a href="#h0-55-46" id="h0-55-46" class="d">-	if(size.flags &amp; PResizeInc) {
</a><a href="#h0-55-47" id="h0-55-47" class="i">+	if (size.flags &amp; PResizeInc) {
</a> 		c-&gt;incw = size.width_inc;
 		c-&gt;inch = size.height_inc;
<a href="#h0-55-50" id="h0-55-50" class="d">-	}
</a><a href="#h0-55-51" id="h0-55-51" class="d">-	else
</a><a href="#h0-55-52" id="h0-55-52" class="i">+	} else
</a> 		c-&gt;incw = c-&gt;inch = 0;
<a href="#h0-55-54" id="h0-55-54" class="d">-	if(size.flags &amp; PMaxSize) {
</a><a href="#h0-55-55" id="h0-55-55" class="i">+	if (size.flags &amp; PMaxSize) {
</a> 		c-&gt;maxw = size.max_width;
 		c-&gt;maxh = size.max_height;
<a href="#h0-55-58" id="h0-55-58" class="d">-	}
</a><a href="#h0-55-59" id="h0-55-59" class="d">-	else
</a><a href="#h0-55-60" id="h0-55-60" class="i">+	} else
</a> 		c-&gt;maxw = c-&gt;maxh = 0;
<a href="#h0-55-62" id="h0-55-62" class="d">-	if(size.flags &amp; PMinSize) {
</a><a href="#h0-55-63" id="h0-55-63" class="i">+	if (size.flags &amp; PMinSize) {
</a> 		c-&gt;minw = size.min_width;
 		c-&gt;minh = size.min_height;
<a href="#h0-55-66" id="h0-55-66" class="d">-	}
</a><a href="#h0-55-67" id="h0-55-67" class="d">-	else if(size.flags &amp; PBaseSize) {
</a><a href="#h0-55-68" id="h0-55-68" class="i">+	} else if (size.flags &amp; PBaseSize) {
</a> 		c-&gt;minw = size.base_width;
 		c-&gt;minh = size.base_height;
<a href="#h0-55-71" id="h0-55-71" class="d">-	}
</a><a href="#h0-55-72" id="h0-55-72" class="d">-	else
</a><a href="#h0-55-73" id="h0-55-73" class="i">+	} else
</a> 		c-&gt;minw = c-&gt;minh = 0;
<a href="#h0-55-75" id="h0-55-75" class="d">-	if(size.flags &amp; PAspect) {
</a><a href="#h0-55-76" id="h0-55-76" class="i">+	if (size.flags &amp; PAspect) {
</a> 		c-&gt;mina = (float)size.min_aspect.y / size.min_aspect.x;
 		c-&gt;maxa = (float)size.max_aspect.x / size.max_aspect.y;
<a href="#h0-55-79" id="h0-55-79" class="d">-	}
</a><a href="#h0-55-80" id="h0-55-80" class="d">-	else
</a><a href="#h0-55-81" id="h0-55-81" class="i">+	} else
</a> 		c-&gt;maxa = c-&gt;mina = 0.0;
 	c-&gt;isfixed = (c-&gt;maxw &amp;&amp; c-&gt;minw &amp;&amp; c-&gt;maxh &amp;&amp; c-&gt;minh
 	             &amp;&amp; c-&gt;maxw == c-&gt;minw &amp;&amp; c-&gt;maxh == c-&gt;minh);
 }
 
 void
<a href="#h0-55-88" id="h0-55-88" class="d">-updatetitle(Client *c) {
</a><a href="#h0-55-89" id="h0-55-89" class="d">-	if(!gettextprop(c-&gt;win, netatom[NetWMName], c-&gt;name, sizeof c-&gt;name))
</a><a href="#h0-55-90" id="h0-55-90" class="i">+updatetitle(Client *c)
</a><a href="#h0-55-91" id="h0-55-91" class="i">+{
</a><a href="#h0-55-92" id="h0-55-92" class="i">+	if (!gettextprop(c-&gt;win, netatom[NetWMName], c-&gt;name, sizeof c-&gt;name))
</a> 		gettextprop(c-&gt;win, XA_WM_NAME, c-&gt;name, sizeof c-&gt;name);
<a href="#h0-55-94" id="h0-55-94" class="d">-	if(c-&gt;name[0] == &#39;\0&#39;) /* hack to mark broken clients */
</a><a href="#h0-55-95" id="h0-55-95" class="i">+	if (c-&gt;name[0] == &#39;\0&#39;) /* hack to mark broken clients */
</a> 		strcpy(c-&gt;name, broken);
 }
 
 void
<a href="#h0-55-100" id="h0-55-100" class="d">-updatestatus(void) {
</a><a href="#h0-55-101" id="h0-55-101" class="d">-	if(!gettextprop(root, XA_WM_NAME, stext, sizeof(stext)))
</a><a href="#h0-55-102" id="h0-55-102" class="i">+updatestatus(void)
</a><a href="#h0-55-103" id="h0-55-103" class="i">+{
</a><a href="#h0-55-104" id="h0-55-104" class="i">+	if (!gettextprop(root, XA_WM_NAME, stext, sizeof(stext)))
</a> 		strcpy(stext, &quot;dwm-&quot;VERSION);
 	drawbar(selmon);
 }
 
 void
<a href="#h0-55-110" id="h0-55-110" class="d">-updatewindowtype(Client *c) {
</a><a href="#h0-55-111" id="h0-55-111" class="i">+updatewindowtype(Client *c)
</a><a href="#h0-55-112" id="h0-55-112" class="i">+{
</a> 	Atom state = getatomprop(c, netatom[NetWMState]);
 	Atom wtype = getatomprop(c, netatom[NetWMWindowType]);
 
<a href="#h0-55-116" id="h0-55-116" class="d">-	if(state == netatom[NetWMFullscreen])
</a><a href="#h0-55-117" id="h0-55-117" class="i">+	if (state == netatom[NetWMFullscreen])
</a> 		setfullscreen(c, 1);
<a href="#h0-55-119" id="h0-55-119" class="d">-	if(wtype == netatom[NetWMWindowTypeDialog])
</a><a href="#h0-55-120" id="h0-55-120" class="i">+	if (wtype == netatom[NetWMWindowTypeDialog])
</a> 		c-&gt;isfloating = 1;
 }
 
 void
<a href="#h0-55-125" id="h0-55-125" class="d">-updatewmhints(Client *c) {
</a><a href="#h0-55-126" id="h0-55-126" class="i">+updatewmhints(Client *c)
</a><a href="#h0-55-127" id="h0-55-127" class="i">+{
</a> 	XWMHints *wmh;
 
<a href="#h0-55-130" id="h0-55-130" class="d">-	if((wmh = XGetWMHints(dpy, c-&gt;win))) {
</a><a href="#h0-55-131" id="h0-55-131" class="d">-		if(c == selmon-&gt;sel &amp;&amp; wmh-&gt;flags &amp; XUrgencyHint) {
</a><a href="#h0-55-132" id="h0-55-132" class="i">+	if ((wmh = XGetWMHints(dpy, c-&gt;win))) {
</a><a href="#h0-55-133" id="h0-55-133" class="i">+		if (c == selmon-&gt;sel &amp;&amp; wmh-&gt;flags &amp; XUrgencyHint) {
</a> 			wmh-&gt;flags &amp;= ~XUrgencyHint;
 			XSetWMHints(dpy, c-&gt;win, wmh);
<a href="#h0-55-136" id="h0-55-136" class="d">-		}
</a><a href="#h0-55-137" id="h0-55-137" class="d">-		else
</a><a href="#h0-55-138" id="h0-55-138" class="i">+		} else
</a> 			c-&gt;isurgent = (wmh-&gt;flags &amp; XUrgencyHint) ? 1 : 0;
<a href="#h0-55-140" id="h0-55-140" class="d">-		if(wmh-&gt;flags &amp; InputHint)
</a><a href="#h0-55-141" id="h0-55-141" class="i">+		if (wmh-&gt;flags &amp; InputHint)
</a> 			c-&gt;neverfocus = !wmh-&gt;input;
 		else
 			c-&gt;neverfocus = 0;
<a href="#h0-56" id="h0-56" class="h">@@ -1967,40 +2029,43 @@ updatewmhints(Client *c) {
</a> }
 
 void
<a href="#h0-56-3" id="h0-56-3" class="d">-view(const Arg *arg) {
</a><a href="#h0-56-4" id="h0-56-4" class="d">-	if((arg-&gt;ui &amp; TAGMASK) == selmon-&gt;tagset[selmon-&gt;seltags])
</a><a href="#h0-56-5" id="h0-56-5" class="i">+view(const Arg *arg)
</a><a href="#h0-56-6" id="h0-56-6" class="i">+{
</a><a href="#h0-56-7" id="h0-56-7" class="i">+	if ((arg-&gt;ui &amp; TAGMASK) == selmon-&gt;tagset[selmon-&gt;seltags])
</a> 		return;
 	selmon-&gt;seltags ^= 1; /* toggle sel tagset */
<a href="#h0-56-10" id="h0-56-10" class="d">-	if(arg-&gt;ui &amp; TAGMASK)
</a><a href="#h0-56-11" id="h0-56-11" class="i">+	if (arg-&gt;ui &amp; TAGMASK)
</a> 		selmon-&gt;tagset[selmon-&gt;seltags] = arg-&gt;ui &amp; TAGMASK;
 	focus(NULL);
 	arrange(selmon);
 }
 
 Client *
<a href="#h0-56-18" id="h0-56-18" class="d">-wintoclient(Window w) {
</a><a href="#h0-56-19" id="h0-56-19" class="i">+wintoclient(Window w)
</a><a href="#h0-56-20" id="h0-56-20" class="i">+{
</a> 	Client *c;
 	Monitor *m;
 
<a href="#h0-56-24" id="h0-56-24" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-56-25" id="h0-56-25" class="d">-		for(c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h0-56-26" id="h0-56-26" class="d">-			if(c-&gt;win == w)
</a><a href="#h0-56-27" id="h0-56-27" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h0-56-28" id="h0-56-28" class="i">+		for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h0-56-29" id="h0-56-29" class="i">+			if (c-&gt;win == w)
</a> 				return c;
 	return NULL;
 }
 
 Monitor *
<a href="#h0-56-35" id="h0-56-35" class="d">-wintomon(Window w) {
</a><a href="#h0-56-36" id="h0-56-36" class="i">+wintomon(Window w)
</a><a href="#h0-56-37" id="h0-56-37" class="i">+{
</a> 	int x, y;
 	Client *c;
 	Monitor *m;
 
<a href="#h0-56-42" id="h0-56-42" class="d">-	if(w == root &amp;&amp; getrootptr(&amp;x, &amp;y))
</a><a href="#h0-56-43" id="h0-56-43" class="i">+	if (w == root &amp;&amp; getrootptr(&amp;x, &amp;y))
</a> 		return recttomon(x, y, 1, 1);
<a href="#h0-56-45" id="h0-56-45" class="d">-	for(m = mons; m; m = m-&gt;next)
</a><a href="#h0-56-46" id="h0-56-46" class="d">-		if(w == m-&gt;barwin)
</a><a href="#h0-56-47" id="h0-56-47" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h0-56-48" id="h0-56-48" class="i">+		if (w == m-&gt;barwin)
</a> 			return m;
<a href="#h0-56-50" id="h0-56-50" class="d">-	if((c = wintoclient(w)))
</a><a href="#h0-56-51" id="h0-56-51" class="i">+	if ((c = wintoclient(w)))
</a> 		return c-&gt;mon;
 	return selmon;
 }
<a href="#h0-57" id="h0-57" class="h">@@ -2009,8 +2074,9 @@ wintomon(Window w) {
</a>  * ignored (especially on UnmapNotify&#39;s).  Other types of errors call Xlibs
  * default error handler, which may call exit.  */
 int
<a href="#h0-57-3" id="h0-57-3" class="d">-xerror(Display *dpy, XErrorEvent *ee) {
</a><a href="#h0-57-4" id="h0-57-4" class="d">-	if(ee-&gt;error_code == BadWindow
</a><a href="#h0-57-5" id="h0-57-5" class="i">+xerror(Display *dpy, XErrorEvent *ee)
</a><a href="#h0-57-6" id="h0-57-6" class="i">+{
</a><a href="#h0-57-7" id="h0-57-7" class="i">+	if (ee-&gt;error_code == BadWindow
</a> 	|| (ee-&gt;request_code == X_SetInputFocus &amp;&amp; ee-&gt;error_code == BadMatch)
 	|| (ee-&gt;request_code == X_PolyText8 &amp;&amp; ee-&gt;error_code == BadDrawable)
 	|| (ee-&gt;request_code == X_PolyFillRectangle &amp;&amp; ee-&gt;error_code == BadDrawable)
<a href="#h0-58" id="h0-58" class="h">@@ -2026,40 +2092,44 @@ xerror(Display *dpy, XErrorEvent *ee) {
</a> }
 
 int
<a href="#h0-58-3" id="h0-58-3" class="d">-xerrordummy(Display *dpy, XErrorEvent *ee) {
</a><a href="#h0-58-4" id="h0-58-4" class="i">+xerrordummy(Display *dpy, XErrorEvent *ee)
</a><a href="#h0-58-5" id="h0-58-5" class="i">+{
</a> 	return 0;
 }
 
 /* Startup Error handler to check if another window manager
  * is already running. */
 int
<a href="#h0-58-12" id="h0-58-12" class="d">-xerrorstart(Display *dpy, XErrorEvent *ee) {
</a><a href="#h0-58-13" id="h0-58-13" class="i">+xerrorstart(Display *dpy, XErrorEvent *ee)
</a><a href="#h0-58-14" id="h0-58-14" class="i">+{
</a> 	die(&quot;dwm: another window manager is already running\n&quot;);
 	return -1;
 }
 
 void
<a href="#h0-58-20" id="h0-58-20" class="d">-zoom(const Arg *arg) {
</a><a href="#h0-58-21" id="h0-58-21" class="i">+zoom(const Arg *arg)
</a><a href="#h0-58-22" id="h0-58-22" class="i">+{
</a> 	Client *c = selmon-&gt;sel;
 
<a href="#h0-58-25" id="h0-58-25" class="d">-	if(!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a><a href="#h0-58-26" id="h0-58-26" class="i">+	if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a> 	|| (selmon-&gt;sel &amp;&amp; selmon-&gt;sel-&gt;isfloating))
 		return;
<a href="#h0-58-29" id="h0-58-29" class="d">-	if(c == nexttiled(selmon-&gt;clients))
</a><a href="#h0-58-30" id="h0-58-30" class="d">-		if(!c || !(c = nexttiled(c-&gt;next)))
</a><a href="#h0-58-31" id="h0-58-31" class="i">+	if (c == nexttiled(selmon-&gt;clients))
</a><a href="#h0-58-32" id="h0-58-32" class="i">+		if (!c || !(c = nexttiled(c-&gt;next)))
</a> 			return;
 	pop(c);
 }
 
 int
<a href="#h0-58-38" id="h0-58-38" class="d">-main(int argc, char *argv[]) {
</a><a href="#h0-58-39" id="h0-58-39" class="d">-	if(argc == 2 &amp;&amp; !strcmp(&quot;-v&quot;, argv[1]))
</a><a href="#h0-58-40" id="h0-58-40" class="d">-		die(&quot;dwm-&quot;VERSION&quot;, © 2006-2015 dwm engineers, see LICENSE for details\n&quot;);
</a><a href="#h0-58-41" id="h0-58-41" class="d">-	else if(argc != 1)
</a><a href="#h0-58-42" id="h0-58-42" class="i">+main(int argc, char *argv[])
</a><a href="#h0-58-43" id="h0-58-43" class="i">+{
</a><a href="#h0-58-44" id="h0-58-44" class="i">+	if (argc == 2 &amp;&amp; !strcmp(&quot;-v&quot;, argv[1]))
</a><a href="#h0-58-45" id="h0-58-45" class="i">+		die(&quot;dwm-&quot;VERSION &quot;\n&quot;);
</a><a href="#h0-58-46" id="h0-58-46" class="i">+	else if (argc != 1)
</a> 		die(&quot;usage: dwm [-v]\n&quot;);
<a href="#h0-58-48" id="h0-58-48" class="d">-	if(!setlocale(LC_CTYPE, &quot;&quot;) || !XSupportsLocale())
</a><a href="#h0-58-49" id="h0-58-49" class="i">+	if (!setlocale(LC_CTYPE, &quot;&quot;) || !XSupportsLocale())
</a> 		fputs(&quot;warning: no locale support\n&quot;, stderr);
<a href="#h0-58-51" id="h0-58-51" class="d">-	if(!(dpy = XOpenDisplay(NULL)))
</a><a href="#h0-58-52" id="h0-58-52" class="i">+	if (!(dpy = XOpenDisplay(NULL)))
</a> 		die(&quot;dwm: cannot open display\n&quot;);
 	checkotherwm();
 	setup();
</pre>
</div>
</body>
</html>
