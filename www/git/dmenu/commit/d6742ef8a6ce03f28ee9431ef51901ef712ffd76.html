<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>stest: get rid of getopt, use suckless arg.h - dmenu - dynamic menu
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dmenu Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>dmenu</h1><span class="desc">dynamic menu
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/d6742ef8a6ce03f28ee9431ef51901ef712ffd76.html">d6742ef8a6ce03f28ee9431ef51901ef712ffd76</a>
<b>parent</b> <a href="../commit/5feb0c689dd815a31d48e2007b364057f6fec773.html">5feb0c689dd815a31d48e2007b364057f6fec773</a>
<b>Author:</b> Hiltjo Posthuma &lt;<a href="mailto:hiltjo@codemadness.org">hiltjo@codemadness.org</a>&gt;
<b>Date:</b>   Sun, 19 Jul 2015 21:34:51 +0200

stest: get rid of getopt, use suckless arg.h

... also some style improvements.

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">Makefile</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">arg.h</a></td><td> | </td><td class="num">63</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">stest.c</a></td><td> | </td><td class="num">125</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">--------------------------------</span></td></tr>
</table></pre><pre>3 files changed, 141 insertions(+), 53 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/Makefile.html">Makefile</a> b/<a href="../file/Makefile.html">Makefile</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -22,7 +22,7 @@ config.h:
</a> 	@echo creating $@ from config.def.h
 	@cp config.def.h $@
 
<a href="#h0-0-3" id="h0-0-3" class="d">-${OBJ}: config.h config.mk drw.h
</a><a href="#h0-0-4" id="h0-0-4" class="i">+${OBJ}: arg.h config.h config.mk drw.h
</a> 
 dmenu: dmenu.o drw.o util.o
 	@echo CC -o $@
<a href="#h0-1" id="h0-1" class="h">@@ -39,8 +39,8 @@ clean:
</a> dist: clean
 	@echo creating dist tarball
 	@mkdir -p dmenu-${VERSION}
<a href="#h0-1-3" id="h0-1-3" class="d">-	@cp LICENSE Makefile README config.mk dmenu.1 drw.h util.h dmenu_path \
</a><a href="#h0-1-4" id="h0-1-4" class="d">-		dmenu_run stest.1 ${SRC} dmenu-${VERSION}
</a><a href="#h0-1-5" id="h0-1-5" class="i">+	@cp LICENSE Makefile README arg.h config.mk dmenu.1 drw.h util.h \
</a><a href="#h0-1-6" id="h0-1-6" class="i">+		dmenu_path dmenu_run stest.1 ${SRC} dmenu-${VERSION}
</a> 	@tar -cf dmenu-${VERSION}.tar dmenu-${VERSION}
 	@gzip dmenu-${VERSION}.tar
 	@rm -rf dmenu-${VERSION}
<b>diff --git a/<a id="h1" href="../file/arg.h.html">arg.h</a> b/<a href="../file/arg.h.html">arg.h</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -0,0 +1,63 @@
</a><a href="#h1-0-0" id="h1-0-0" class="i">+/*
</a><a href="#h1-0-1" id="h1-0-1" class="i">+ * Copy me if you can.
</a><a href="#h1-0-2" id="h1-0-2" class="i">+ * by 20h
</a><a href="#h1-0-3" id="h1-0-3" class="i">+ */
</a><a href="#h1-0-4" id="h1-0-4" class="i">+
</a><a href="#h1-0-5" id="h1-0-5" class="i">+#ifndef ARG_H__
</a><a href="#h1-0-6" id="h1-0-6" class="i">+#define ARG_H__
</a><a href="#h1-0-7" id="h1-0-7" class="i">+
</a><a href="#h1-0-8" id="h1-0-8" class="i">+extern char *argv0;
</a><a href="#h1-0-9" id="h1-0-9" class="i">+
</a><a href="#h1-0-10" id="h1-0-10" class="i">+/* use main(int argc, char *argv[]) */
</a><a href="#h1-0-11" id="h1-0-11" class="i">+#define ARGBEGIN	for (argv0 = *argv, argv++, argc--;\
</a><a href="#h1-0-12" id="h1-0-12" class="i">+					argv[0] &amp;&amp; argv[0][1]\
</a><a href="#h1-0-13" id="h1-0-13" class="i">+					&amp;&amp; argv[0][0] == &#39;-&#39;;\
</a><a href="#h1-0-14" id="h1-0-14" class="i">+					argc--, argv++) {\
</a><a href="#h1-0-15" id="h1-0-15" class="i">+				char argc_;\
</a><a href="#h1-0-16" id="h1-0-16" class="i">+				char **argv_;\
</a><a href="#h1-0-17" id="h1-0-17" class="i">+				int brk_;\
</a><a href="#h1-0-18" id="h1-0-18" class="i">+				if (argv[0][1] == &#39;-&#39; &amp;&amp; argv[0][2] == &#39;\0&#39;) {\
</a><a href="#h1-0-19" id="h1-0-19" class="i">+					argv++;\
</a><a href="#h1-0-20" id="h1-0-20" class="i">+					argc--;\
</a><a href="#h1-0-21" id="h1-0-21" class="i">+					break;\
</a><a href="#h1-0-22" id="h1-0-22" class="i">+				}\
</a><a href="#h1-0-23" id="h1-0-23" class="i">+				for (brk_ = 0, argv[0]++, argv_ = argv;\
</a><a href="#h1-0-24" id="h1-0-24" class="i">+						argv[0][0] &amp;&amp; !brk_;\
</a><a href="#h1-0-25" id="h1-0-25" class="i">+						argv[0]++) {\
</a><a href="#h1-0-26" id="h1-0-26" class="i">+					if (argv_ != argv)\
</a><a href="#h1-0-27" id="h1-0-27" class="i">+						break;\
</a><a href="#h1-0-28" id="h1-0-28" class="i">+					argc_ = argv[0][0];\
</a><a href="#h1-0-29" id="h1-0-29" class="i">+					switch (argc_)
</a><a href="#h1-0-30" id="h1-0-30" class="i">+
</a><a href="#h1-0-31" id="h1-0-31" class="i">+/* Handles obsolete -NUM syntax */
</a><a href="#h1-0-32" id="h1-0-32" class="i">+#define ARGNUM				case &#39;0&#39;:\
</a><a href="#h1-0-33" id="h1-0-33" class="i">+					case &#39;1&#39;:\
</a><a href="#h1-0-34" id="h1-0-34" class="i">+					case &#39;2&#39;:\
</a><a href="#h1-0-35" id="h1-0-35" class="i">+					case &#39;3&#39;:\
</a><a href="#h1-0-36" id="h1-0-36" class="i">+					case &#39;4&#39;:\
</a><a href="#h1-0-37" id="h1-0-37" class="i">+					case &#39;5&#39;:\
</a><a href="#h1-0-38" id="h1-0-38" class="i">+					case &#39;6&#39;:\
</a><a href="#h1-0-39" id="h1-0-39" class="i">+					case &#39;7&#39;:\
</a><a href="#h1-0-40" id="h1-0-40" class="i">+					case &#39;8&#39;:\
</a><a href="#h1-0-41" id="h1-0-41" class="i">+					case &#39;9&#39;
</a><a href="#h1-0-42" id="h1-0-42" class="i">+
</a><a href="#h1-0-43" id="h1-0-43" class="i">+#define ARGEND			}\
</a><a href="#h1-0-44" id="h1-0-44" class="i">+			}
</a><a href="#h1-0-45" id="h1-0-45" class="i">+
</a><a href="#h1-0-46" id="h1-0-46" class="i">+#define ARGC()		argc_
</a><a href="#h1-0-47" id="h1-0-47" class="i">+
</a><a href="#h1-0-48" id="h1-0-48" class="i">+#define ARGNUMF(base)	(brk_ = 1, estrtol(argv[0], (base)))
</a><a href="#h1-0-49" id="h1-0-49" class="i">+
</a><a href="#h1-0-50" id="h1-0-50" class="i">+#define EARGF(x)	((argv[0][1] == &#39;\0&#39; &amp;&amp; argv[1] == NULL)?\
</a><a href="#h1-0-51" id="h1-0-51" class="i">+				((x), abort(), (char *)0) :\
</a><a href="#h1-0-52" id="h1-0-52" class="i">+				(brk_ = 1, (argv[0][1] != &#39;\0&#39;)?\
</a><a href="#h1-0-53" id="h1-0-53" class="i">+					(&amp;argv[0][1]) :\
</a><a href="#h1-0-54" id="h1-0-54" class="i">+					(argc--, argv++, argv[0])))
</a><a href="#h1-0-55" id="h1-0-55" class="i">+
</a><a href="#h1-0-56" id="h1-0-56" class="i">+#define ARGF()		((argv[0][1] == &#39;\0&#39; &amp;&amp; argv[1] == NULL)?\
</a><a href="#h1-0-57" id="h1-0-57" class="i">+				(char *)0 :\
</a><a href="#h1-0-58" id="h1-0-58" class="i">+				(brk_ = 1, (argv[0][1] != &#39;\0&#39;)?\
</a><a href="#h1-0-59" id="h1-0-59" class="i">+					(&amp;argv[0][1]) :\
</a><a href="#h1-0-60" id="h1-0-60" class="i">+					(argc--, argv++, argv[0])))
</a><a href="#h1-0-61" id="h1-0-61" class="i">+
</a><a href="#h1-0-62" id="h1-0-62" class="i">+#endif
</a><b>diff --git a/<a id="h2" href="../file/stest.c.html">stest.c</a> b/<a href="../file/stest.c.html">stest.c</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -1,66 +1,31 @@
</a> /* See LICENSE file for copyright and license details. */
<a href="#h2-0-1" id="h2-0-1" class="i">+#include &lt;sys/stat.h&gt;
</a><a href="#h2-0-2" id="h2-0-2" class="i">+
</a> #include &lt;dirent.h&gt;
<a href="#h2-0-4" id="h2-0-4" class="d">-#include &lt;stdbool.h&gt;
</a><a href="#h2-0-5" id="h2-0-5" class="i">+#include &lt;limits.h&gt;
</a> #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;string.h&gt;
 #include &lt;unistd.h&gt;
<a href="#h2-0-10" id="h2-0-10" class="d">-#include &lt;sys/stat.h&gt;
</a><a href="#h2-0-11" id="h2-0-11" class="i">+
</a><a href="#h2-0-12" id="h2-0-12" class="i">+#include &quot;arg.h&quot;
</a><a href="#h2-0-13" id="h2-0-13" class="i">+char *argv0;
</a> 
 #define FLAG(x)  (flag[(x)-&#39;a&#39;])
 
 static void test(const char *, const char *);
<a href="#h2-0-18" id="h2-0-18" class="i">+static void usage(void);
</a> 
<a href="#h2-0-20" id="h2-0-20" class="d">-static bool match = false;
</a><a href="#h2-0-21" id="h2-0-21" class="d">-static bool flag[26];
</a><a href="#h2-0-22" id="h2-0-22" class="i">+static int match = 0;
</a><a href="#h2-0-23" id="h2-0-23" class="i">+static int flag[26];
</a> static struct stat old, new;
 
<a href="#h2-0-26" id="h2-0-26" class="d">-int
</a><a href="#h2-0-27" id="h2-0-27" class="d">-main(int argc, char *argv[]) {
</a><a href="#h2-0-28" id="h2-0-28" class="d">-	struct dirent *d;
</a><a href="#h2-0-29" id="h2-0-29" class="d">-	char buf[BUFSIZ], *p;
</a><a href="#h2-0-30" id="h2-0-30" class="d">-	DIR *dir;
</a><a href="#h2-0-31" id="h2-0-31" class="d">-	int opt;
</a><a href="#h2-0-32" id="h2-0-32" class="d">-
</a><a href="#h2-0-33" id="h2-0-33" class="d">-	while((opt = getopt(argc, argv, &quot;abcdefghln:o:pqrsuvwx&quot;)) != -1)
</a><a href="#h2-0-34" id="h2-0-34" class="d">-		switch(opt) {
</a><a href="#h2-0-35" id="h2-0-35" class="d">-		case &#39;n&#39;: /* newer than file */
</a><a href="#h2-0-36" id="h2-0-36" class="d">-		case &#39;o&#39;: /* older than file */
</a><a href="#h2-0-37" id="h2-0-37" class="d">-			if(!(FLAG(opt) = !stat(optarg, (opt == &#39;n&#39; ? &amp;new : &amp;old))))
</a><a href="#h2-0-38" id="h2-0-38" class="d">-				perror(optarg);
</a><a href="#h2-0-39" id="h2-0-39" class="d">-			break;
</a><a href="#h2-0-40" id="h2-0-40" class="d">-		default:  /* miscellaneous operators */
</a><a href="#h2-0-41" id="h2-0-41" class="d">-			FLAG(opt) = true;
</a><a href="#h2-0-42" id="h2-0-42" class="d">-			break;
</a><a href="#h2-0-43" id="h2-0-43" class="d">-		case &#39;?&#39;: /* error: unknown flag */
</a><a href="#h2-0-44" id="h2-0-44" class="d">-			fprintf(stderr, &quot;usage: %s [-abcdefghlpqrsuvwx] [-n file] [-o file] [file...]\n&quot;, argv[0]);
</a><a href="#h2-0-45" id="h2-0-45" class="d">-			exit(2);
</a><a href="#h2-0-46" id="h2-0-46" class="d">-		}
</a><a href="#h2-0-47" id="h2-0-47" class="d">-	if(optind == argc)
</a><a href="#h2-0-48" id="h2-0-48" class="d">-		while(fgets(buf, sizeof buf, stdin)) {
</a><a href="#h2-0-49" id="h2-0-49" class="d">-			if((p = strchr(buf, &#39;\n&#39;)))
</a><a href="#h2-0-50" id="h2-0-50" class="d">-				*p = &#39;\0&#39;;
</a><a href="#h2-0-51" id="h2-0-51" class="d">-			test(buf, buf);
</a><a href="#h2-0-52" id="h2-0-52" class="d">-		}
</a><a href="#h2-0-53" id="h2-0-53" class="d">-	for(; optind &lt; argc; optind++)
</a><a href="#h2-0-54" id="h2-0-54" class="d">-		if(FLAG(&#39;l&#39;) &amp;&amp; (dir = opendir(argv[optind]))) {
</a><a href="#h2-0-55" id="h2-0-55" class="d">-			/* test directory contents */
</a><a href="#h2-0-56" id="h2-0-56" class="d">-			while((d = readdir(dir)))
</a><a href="#h2-0-57" id="h2-0-57" class="d">-				if(snprintf(buf, sizeof buf, &quot;%s/%s&quot;, argv[optind], d-&gt;d_name) &lt; sizeof buf)
</a><a href="#h2-0-58" id="h2-0-58" class="d">-					test(buf, d-&gt;d_name);
</a><a href="#h2-0-59" id="h2-0-59" class="d">-			closedir(dir);
</a><a href="#h2-0-60" id="h2-0-60" class="d">-		}
</a><a href="#h2-0-61" id="h2-0-61" class="d">-		else
</a><a href="#h2-0-62" id="h2-0-62" class="d">-			test(argv[optind], argv[optind]);
</a><a href="#h2-0-63" id="h2-0-63" class="d">-
</a><a href="#h2-0-64" id="h2-0-64" class="d">-	return match ? 0 : 1;
</a><a href="#h2-0-65" id="h2-0-65" class="d">-}
</a><a href="#h2-0-66" id="h2-0-66" class="d">-
</a><a href="#h2-0-67" id="h2-0-67" class="d">-void
</a><a href="#h2-0-68" id="h2-0-68" class="d">-test(const char *path, const char *name) {
</a><a href="#h2-0-69" id="h2-0-69" class="i">+static void
</a><a href="#h2-0-70" id="h2-0-70" class="i">+test(const char *path, const char *name)
</a><a href="#h2-0-71" id="h2-0-71" class="i">+{
</a> 	struct stat st, ln;
 
<a href="#h2-0-74" id="h2-0-74" class="d">-	if((!stat(path, &amp;st) &amp;&amp; (FLAG(&#39;a&#39;) || name[0] != &#39;.&#39;)         /* hidden files      */
</a><a href="#h2-0-75" id="h2-0-75" class="i">+	if ((!stat(path, &amp;st) &amp;&amp; (FLAG(&#39;a&#39;) || name[0] != &#39;.&#39;)        /* hidden files      */
</a> 	&amp;&amp; (!FLAG(&#39;b&#39;) || S_ISBLK(st.st_mode))                        /* block special     */
 	&amp;&amp; (!FLAG(&#39;c&#39;) || S_ISCHR(st.st_mode))                        /* character special */
 	&amp;&amp; (!FLAG(&#39;d&#39;) || S_ISDIR(st.st_mode))                        /* directory         */
<a href="#h2-1" id="h2-1" class="h">@@ -76,9 +41,69 @@ test(const char *path, const char *name) {
</a> 	&amp;&amp; (!FLAG(&#39;u&#39;) || st.st_mode &amp; S_ISUID)                       /* set-user-id flag  */
 	&amp;&amp; (!FLAG(&#39;w&#39;) || access(path, W_OK) == 0)                    /* writable          */
 	&amp;&amp; (!FLAG(&#39;x&#39;) || access(path, X_OK) == 0)) != FLAG(&#39;v&#39;)) {   /* executable        */
<a href="#h2-1-3" id="h2-1-3" class="d">-		if(FLAG(&#39;q&#39;))
</a><a href="#h2-1-4" id="h2-1-4" class="i">+		if (FLAG(&#39;q&#39;))
</a> 			exit(0);
<a href="#h2-1-6" id="h2-1-6" class="d">-		match = true;
</a><a href="#h2-1-7" id="h2-1-7" class="i">+		match = 1;
</a> 		puts(name);
 	}
 }
<a href="#h2-1-11" id="h2-1-11" class="i">+
</a><a href="#h2-1-12" id="h2-1-12" class="i">+static void
</a><a href="#h2-1-13" id="h2-1-13" class="i">+usage(void)
</a><a href="#h2-1-14" id="h2-1-14" class="i">+{
</a><a href="#h2-1-15" id="h2-1-15" class="i">+	fprintf(stderr, &quot;usage: %s [-abcdefghlpqrsuvwx] &quot;
</a><a href="#h2-1-16" id="h2-1-16" class="i">+	        &quot;[-n file] [-o file] [file...]\n&quot;, argv0);
</a><a href="#h2-1-17" id="h2-1-17" class="i">+	exit(2); /* like test(1) return &gt; 1 on error */
</a><a href="#h2-1-18" id="h2-1-18" class="i">+}
</a><a href="#h2-1-19" id="h2-1-19" class="i">+
</a><a href="#h2-1-20" id="h2-1-20" class="i">+int
</a><a href="#h2-1-21" id="h2-1-21" class="i">+main(int argc, char *argv[])
</a><a href="#h2-1-22" id="h2-1-22" class="i">+{
</a><a href="#h2-1-23" id="h2-1-23" class="i">+	struct dirent *d;
</a><a href="#h2-1-24" id="h2-1-24" class="i">+	char path[PATH_MAX], *line = NULL, *file;
</a><a href="#h2-1-25" id="h2-1-25" class="i">+	size_t linesiz = 0;
</a><a href="#h2-1-26" id="h2-1-26" class="i">+	ssize_t n;
</a><a href="#h2-1-27" id="h2-1-27" class="i">+	DIR *dir;
</a><a href="#h2-1-28" id="h2-1-28" class="i">+	int r;
</a><a href="#h2-1-29" id="h2-1-29" class="i">+
</a><a href="#h2-1-30" id="h2-1-30" class="i">+	ARGBEGIN {
</a><a href="#h2-1-31" id="h2-1-31" class="i">+	case &#39;n&#39;: /* newer than file */
</a><a href="#h2-1-32" id="h2-1-32" class="i">+	case &#39;o&#39;: /* older than file */
</a><a href="#h2-1-33" id="h2-1-33" class="i">+		file = EARGF(usage());
</a><a href="#h2-1-34" id="h2-1-34" class="i">+		if (!(FLAG(ARGC()) = !stat(file, (ARGC() == &#39;n&#39; ? &amp;new : &amp;old))))
</a><a href="#h2-1-35" id="h2-1-35" class="i">+			perror(file);
</a><a href="#h2-1-36" id="h2-1-36" class="i">+		break;
</a><a href="#h2-1-37" id="h2-1-37" class="i">+	default:
</a><a href="#h2-1-38" id="h2-1-38" class="i">+		/* miscellaneous operators */
</a><a href="#h2-1-39" id="h2-1-39" class="i">+		if (strchr(&quot;abcdefghlpqrsuvwx&quot;, ARGC()))
</a><a href="#h2-1-40" id="h2-1-40" class="i">+			FLAG(ARGC()) = 1;
</a><a href="#h2-1-41" id="h2-1-41" class="i">+		else
</a><a href="#h2-1-42" id="h2-1-42" class="i">+			usage(); /* unknown flag */
</a><a href="#h2-1-43" id="h2-1-43" class="i">+	} ARGEND;
</a><a href="#h2-1-44" id="h2-1-44" class="i">+
</a><a href="#h2-1-45" id="h2-1-45" class="i">+	if (!argc) {
</a><a href="#h2-1-46" id="h2-1-46" class="i">+		/* read list from stdin */
</a><a href="#h2-1-47" id="h2-1-47" class="i">+		while ((n = getline(&amp;line, &amp;linesiz, stdin)) &gt; 0) {
</a><a href="#h2-1-48" id="h2-1-48" class="i">+			if (n &amp;&amp; line[n - 1] == &#39;\n&#39;)
</a><a href="#h2-1-49" id="h2-1-49" class="i">+				line[n - 1] = &#39;\0&#39;;
</a><a href="#h2-1-50" id="h2-1-50" class="i">+			test(line, line);
</a><a href="#h2-1-51" id="h2-1-51" class="i">+		}
</a><a href="#h2-1-52" id="h2-1-52" class="i">+		free(line);
</a><a href="#h2-1-53" id="h2-1-53" class="i">+	} else {
</a><a href="#h2-1-54" id="h2-1-54" class="i">+		for (; argc; argc--, argv++) {
</a><a href="#h2-1-55" id="h2-1-55" class="i">+			if (FLAG(&#39;l&#39;) &amp;&amp; (dir = opendir(*argv))) {
</a><a href="#h2-1-56" id="h2-1-56" class="i">+				/* test directory contents */
</a><a href="#h2-1-57" id="h2-1-57" class="i">+				while ((d = readdir(dir))) {
</a><a href="#h2-1-58" id="h2-1-58" class="i">+					r = snprintf(path, sizeof path, &quot;%s/%s&quot;,
</a><a href="#h2-1-59" id="h2-1-59" class="i">+					             *argv, d-&gt;d_name);
</a><a href="#h2-1-60" id="h2-1-60" class="i">+					if (r &gt;= 0 &amp;&amp; (size_t)r &lt; sizeof path)
</a><a href="#h2-1-61" id="h2-1-61" class="i">+						test(path, d-&gt;d_name);
</a><a href="#h2-1-62" id="h2-1-62" class="i">+				}
</a><a href="#h2-1-63" id="h2-1-63" class="i">+				closedir(dir);
</a><a href="#h2-1-64" id="h2-1-64" class="i">+			} else {
</a><a href="#h2-1-65" id="h2-1-65" class="i">+				test(*argv, *argv);
</a><a href="#h2-1-66" id="h2-1-66" class="i">+			}
</a><a href="#h2-1-67" id="h2-1-67" class="i">+		}
</a><a href="#h2-1-68" id="h2-1-68" class="i">+	}
</a><a href="#h2-1-69" id="h2-1-69" class="i">+	return match ? 0 : 1;
</a><a href="#h2-1-70" id="h2-1-70" class="i">+}
</a></pre>
</div>
</body>
</html>
