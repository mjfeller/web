<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Remove difference between fast and slow blinking - st-light - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="st-light Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="/logo.png" alt="" width="32" height="32" /></a></td><td><h1>st-light</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/769d48180747c3255653360d161c77ec2a2e8d13.html">769d48180747c3255653360d161c77ec2a2e8d13</a>
<b>parent</b> <a href="../commit/b4dfa18124451f9ee29a0719ef36ffd58fae4477.html">b4dfa18124451f9ee29a0719ef36ffd58fae4477</a>
<b>Author:</b> Roberto E. Vargas Caballero &lt;<a href="mailto:k0ga@shike2.com">k0ga@shike2.com</a>&gt;
<b>Date:</b>   Thu, 31 Jul 2014 19:37:59 +0200

Remove difference between fast and slow blinking

One blinking mode is good enough, and two is too much. The best aproach
is emulate the fast blinking with the slow blinking, that it is more
used.
It is removed the flag ATTR_FASTBLINK because it has not a different
meaning of ATTR_BLINK, so it is not needed.

Signed-off-by: Roberto E. Vargas Caballero &lt;k0ga@shike2.com&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">st.c</a></td><td> | </td><td class="num">21</td><td><span class="i">+++++++++</span><span class="d">------------</span></td></tr>
</table></pre><pre>1 file changed, 9 insertions(+), 12 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/st.c.html">st.c</a> b/<a href="../file/st.c.html">st.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -95,13 +95,12 @@ enum glyph_attribute {
</a> 	ATTR_ITALIC    = 4,
 	ATTR_UNDERLINE = 8,
 	ATTR_BLINK     = 16,
<a href="#h0-0-3" id="h0-0-3" class="d">-	ATTR_FASTBLINK = 32,
</a><a href="#h0-0-4" id="h0-0-4" class="d">-	ATTR_REVERSE   = 64,
</a><a href="#h0-0-5" id="h0-0-5" class="d">-	ATTR_INVISIBLE = 128,
</a><a href="#h0-0-6" id="h0-0-6" class="d">-	ATTR_STRUCK    = 256,
</a><a href="#h0-0-7" id="h0-0-7" class="d">-	ATTR_WRAP      = 512,
</a><a href="#h0-0-8" id="h0-0-8" class="d">-	ATTR_WIDE      = 1024,
</a><a href="#h0-0-9" id="h0-0-9" class="d">-	ATTR_WDUMMY    = 2048,
</a><a href="#h0-0-10" id="h0-0-10" class="i">+	ATTR_REVERSE   = 32,
</a><a href="#h0-0-11" id="h0-0-11" class="i">+	ATTR_INVISIBLE = 64,
</a><a href="#h0-0-12" id="h0-0-12" class="i">+	ATTR_STRUCK    = 128,
</a><a href="#h0-0-13" id="h0-0-13" class="i">+	ATTR_WRAP      = 256,
</a><a href="#h0-0-14" id="h0-0-14" class="i">+	ATTR_WIDE      = 512,
</a><a href="#h0-0-15" id="h0-0-15" class="i">+	ATTR_WDUMMY    = 1024,
</a> };
 
 enum cursor_movement {
<a href="#h0-1" id="h0-1" class="h">@@ -1684,7 +1683,6 @@ tsetattr(int *attr, int l) {
</a> 				ATTR_ITALIC     |
 				ATTR_UNDERLINE  |
 				ATTR_BLINK      |
<a href="#h0-1-3" id="h0-1-3" class="d">-				ATTR_FASTBLINK  |
</a> 				ATTR_REVERSE    |
 				ATTR_INVISIBLE  |
 				ATTR_STRUCK     );
<a href="#h0-2" id="h0-2" class="h">@@ -1704,10 +1702,9 @@ tsetattr(int *attr, int l) {
</a> 			term.c.attr.mode |= ATTR_UNDERLINE;
 			break;
 		case 5: /* slow blink */
<a href="#h0-2-3" id="h0-2-3" class="d">-			term.c.attr.mode |= ATTR_BLINK;
</a><a href="#h0-2-4" id="h0-2-4" class="d">-			break;
</a><a href="#h0-2-5" id="h0-2-5" class="i">+			/* FALLTHROUGH */
</a> 		case 6: /* rapid blink */
<a href="#h0-2-7" id="h0-2-7" class="d">-			term.c.attr.mode |= ATTR_FASTBLINK;
</a><a href="#h0-2-8" id="h0-2-8" class="i">+			term.c.attr.mode |= ATTR_BLINK;
</a> 			break;
 		case 7:
 			term.c.attr.mode |= ATTR_REVERSE;
<a href="#h0-3" id="h0-3" class="h">@@ -1728,7 +1725,7 @@ tsetattr(int *attr, int l) {
</a> 			term.c.attr.mode &amp;= ~ATTR_UNDERLINE;
 			break;
 		case 25:
<a href="#h0-3-3" id="h0-3-3" class="d">-			term.c.attr.mode &amp;= ~(ATTR_BLINK | ATTR_FASTBLINK);
</a><a href="#h0-3-4" id="h0-3-4" class="i">+			term.c.attr.mode &amp;= ~ATTR_BLINK;
</a> 			break;
 		case 27:
 			term.c.attr.mode &amp;= ~ATTR_REVERSE;
</pre>
</div>
</body>
</html>
